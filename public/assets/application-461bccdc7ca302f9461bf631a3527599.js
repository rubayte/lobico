/*!
 * jQuery JavaScript Library v1.11.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:42Z
 */
/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=rt.type(t);return"function"===n||rt.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(rt.isFunction(e))return rt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return rt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ft.test(e))return rt.filter(e,t,n);e=rt.filter(e,t)}return rt.grep(t,function(t){return rt.inArray(t,e)>=0!==n})}function r(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function a(t){var e=Ct[t]={};return rt.each(t.match(It)||[],function(t,n){e[n]=!0}),e}function o(){gt.addEventListener?(gt.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(gt.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(gt.addEventListener||"load"===event.type||"complete"===gt.readyState)&&(o(),rt.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(_t,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:wt.test(n)?rt.parseJSON(n):n}catch(r){}rt.data(t,e,n)}else n=void 0}return n}function u(t){var e;for(e in t)if(("data"!==e||!rt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(rt.acceptData(t)){var r,a,o=rt.expando,s=t.nodeType,l=s?rt.cache:t,u=s?t[o]:t[o]&&o;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof e)return u||(u=s?t[o]=V.pop()||rt.guid++:o),l[u]||(l[u]=s?{}:{toJSON:rt.noop}),("object"==typeof e||"function"==typeof e)&&(i?l[u]=rt.extend(l[u],e):l[u].data=rt.extend(l[u].data,e)),a=l[u],i||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[rt.camelCase(e)]=n),"string"==typeof e?(r=a[e],null==r&&(r=a[rt.camelCase(e)])):r=a,r}}function h(t,e,n){if(rt.acceptData(t)){var i,r,a=t.nodeType,o=a?rt.cache:t,s=a?t[rt.expando]:rt.expando;if(o[s]){if(e&&(i=n?o[s]:o[s].data)){rt.isArray(e)?e=e.concat(rt.map(e,rt.camelCase)):e in i?e=[e]:(e=rt.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!u(i):!rt.isEmptyObject(i))return}(n||(delete o[s].data,u(o[s])))&&(a?rt.cleanData([t],!0):nt.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function f(){return!0}function d(){return!1}function g(){try{return gt.activeElement}catch(t){}}function p(t){var e=Gt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function m(t,e){var n,i,r=0,a=typeof t.getElementsByTagName!==At?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==At?t.querySelectorAll(e||"*"):void 0;if(!a)for(a=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||rt.nodeName(i,e)?a.push(i):rt.merge(a,m(i,e));return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],a):a}function v(t){kt.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function I(t){return t.type=(null!==rt.find.attr(t,"type"))+"/"+t.type,t}function C(t){var e=Ht.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){for(var n,i=0;null!=(n=t[i]);i++)rt._data(n,"globalEval",!e||rt._data(e[i],"globalEval"))}function x(t,e){if(1===e.nodeType&&rt.hasData(t)){var n,i,r,a=rt._data(t),o=rt._data(e,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)rt.event.add(e,n,s[n][i])}o.data&&(o.data=rt.extend({},o.data))}}function A(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!nt.noCloneEvent&&e[rt.expando]){r=rt._data(e);for(i in r.events)rt.removeEvent(e,i,r.handle);e.removeAttribute(rt.expando)}"script"===n&&e.text!==t.text?(I(e).text=t.text,C(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),nt.html5Clone&&t.innerHTML&&!rt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&kt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function w(e,n){var i,r=rt(n.createElement(e)).appendTo(n.body),a=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:rt.css(r[0],"display");return r.detach(),a}function _(t){var e=gt,n=qt[t];return n||(n=w(t,e),"none"!==n&&n||(Kt=(Kt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Kt[0].contentWindow||Kt[0].contentDocument).document,e.write(),e.close(),n=w(t,e),Kt.detach()),qt[t]=n),n}function M(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function N(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=fe.length;r--;)if(e=fe[r]+n,e in t)return e;return i}function S(t,e){for(var n,i,r,a=[],o=0,s=t.length;s>o;o++)i=t[o],i.style&&(a[o]=rt._data(i,"olddisplay"),n=i.style.display,e?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&St(i)&&(a[o]=rt._data(i,"olddisplay",_(i.nodeName)))):(r=St(i),(n&&"none"!==n||!r)&&rt._data(i,"olddisplay",r?n:rt.css(i,"display"))));for(o=0;s>o;o++)i=t[o],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?a[o]||"":"none"));return t}function D(t,e,n){var i=le.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function k(t,e,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===e?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=rt.css(t,n+Nt[a],!0,r)),i?("content"===n&&(o-=rt.css(t,"padding"+Nt[a],!0,r)),"margin"!==n&&(o-=rt.css(t,"border"+Nt[a]+"Width",!0,r))):(o+=rt.css(t,"padding"+Nt[a],!0,r),"padding"!==n&&(o+=rt.css(t,"border"+Nt[a]+"Width",!0,r)));return o}function T(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,a=te(t),o=nt.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,a);if(0>=r||null==r){if(r=ee(t,e,a),(0>r||null==r)&&(r=t.style[e]),ie.test(r))return r;i=o&&(nt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+k(t,e,n||(o?"border":"content"),i,a)+"px"}function j(t,e,n,i,r){return new j.prototype.init(t,e,n,i,r)}function z(){return setTimeout(function(){de=void 0}),de=rt.now()}function L(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Nt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function B(t,e,n){for(var i,r=(Ie[e]||[]).concat(Ie["*"]),a=0,o=r.length;o>a;a++)if(i=r[a].call(n,e,t))return i}function G(t,e,n){var i,r,a,o,s,l,u,c,h=this,f={},d=t.style,g=t.nodeType&&St(t),p=rt._data(t,"fxshow");n.queue||(s=rt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,rt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=rt.css(t,"display"),c="none"===u?rt._data(t,"olddisplay")||_(t.nodeName):u,"inline"===c&&"none"===rt.css(t,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==_(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",nt.shrinkWrapBlocks()||h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],pe.exec(r)){if(delete e[i],a=a||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;g=!0}f[i]=p&&p[i]||rt.style(t,i)}else u=void 0;if(rt.isEmptyObject(f))"inline"===("none"===u?_(t.nodeName):u)&&(d.display=u);else{p?"hidden"in p&&(g=p.hidden):p=rt._data(t,"fxshow",{}),a&&(p.hidden=!g),g?rt(t).show():h.done(function(){rt(t).hide()}),h.done(function(){var e;rt._removeData(t,"fxshow");for(e in f)rt.style(t,e,f[e])});for(i in f)o=B(g?p[i]:0,i,h),i in p||(p[i]=o.start,g&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function O(t,e){var n,i,r,a,o;for(n in t)if(i=rt.camelCase(n),r=e[i],a=t[n],rt.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),o=rt.cssHooks[i],o&&"expand"in o){a=o.expand(a),delete t[i];for(n in a)n in t||(t[n]=a[n],e[n]=r)}else e[i]=r}function Z(t,e,n){var i,r,a=0,o=ye.length,s=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=de||z(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,a=1-i,o=0,l=u.tweens.length;l>o;o++)u.tweens[o].run(a);return s.notifyWith(t,[u,a,n]),1>a&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:de||z(),duration:n.duration,tweens:[],createTween:function(e,n){var i=rt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),c=u.props;for(O(c,u.opts.specialEasing);o>a;a++)if(i=ye[a].call(u,t,c,u.opts))return i;return rt.map(c,B,u),rt.isFunction(u.opts.start)&&u.opts.start.call(t,u),rt.fx.timer(rt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function E(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(It)||[];if(rt.isFunction(n))for(;i=a[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function P(t,e,n,i){function r(s){var l;return a[s]=!0,rt.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||o||a[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var a={},o=t===We;return r(e.dataTypes[0])||!a["*"]&&r("*")}function F(t,e){var n,i,r=rt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&rt.extend(!0,t,n),t}function R(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)a=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){a=o;break}i||(i=o)}a=a||i}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function W(t,e,n,i){var r,a,o,s,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(a=c.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=u[l+" "+a]||u["* "+a],!o)for(r in u)if(s=r.split(" "),s[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){o===!0?o=u[r]:u[r]!==!0&&(a=s[0],c.unshift(s[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function Y(t,e,n,i){var r;if(rt.isArray(e))rt.each(e,function(e,r){n||He.test(t)?i(t,r):Y(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==rt.type(e))i(t,e);else for(r in e)Y(t+"["+r+"]",e[r],n,i)}function U(){try{return new t.XMLHttpRequest}catch(e){}}function X(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function H(t){return rt.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var V=[],J=V.slice,$=V.concat,Q=V.push,K=V.indexOf,q={},tt=q.toString,et=q.hasOwnProperty,nt={},it="1.11.1",rt=function(t,e){return new rt.fn.init(t,e)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,st=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:it,constructor:rt,selector:"",length:0,toArray:function(){return J.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:J.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return rt.each(this,t,e)},map:function(t){return this.pushStack(rt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:V.sort,splice:V.splice},rt.extend=rt.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||rt.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(i in r)t=o[i],n=r[i],o!==n&&(u&&n&&(rt.isPlainObject(n)||(e=rt.isArray(n)))?(e?(e=!1,a=t&&rt.isArray(t)?t:[]):a=t&&rt.isPlainObject(t)?t:{},o[i]=rt.extend(u,a,n)):void 0!==n&&(o[i]=n));return o},rt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray||function(t){return"array"===rt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!rt.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==rt.type(t)||t.nodeType||rt.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?q[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&rt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ot,"ms-").replace(st,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,a=0,o=t.length,s=n(t);if(i){if(s)for(;o>a&&(r=e.apply(t[a],i),r!==!1);a++);else for(a in t)if(r=e.apply(t[a],i),r===!1)break}else if(s)for(;o>a&&(r=e.call(t[a],a,t[a]),r!==!1);a++);else for(a in t)if(r=e.call(t[a],a,t[a]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(at,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?rt.merge(i,"string"==typeof t?[t]:t):Q.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(K)return K.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],a=0,o=t.length,s=!n;o>a;a++)i=!e(t[a],a),i!==s&&r.push(t[a]);return r},map:function(t,e,i){var r,a=0,o=t.length,s=n(t),l=[];if(s)for(;o>a;a++)r=e(t[a],a,i),null!=r&&l.push(r);else for(a in t)r=e(t[a],a,i),null!=r&&l.push(r);return $.apply([],l)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),rt.isFunction(t)?(n=J.call(arguments,2),i=function(){return t.apply(e||this,n.concat(J.call(arguments)))},i.guid=t.guid=t.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:nt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){q["[object "+e+"]"]=e.toLowerCase()});var ut=/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */
function(t){function e(t,e,n,i){var r,a,o,s,l,u,h,d,g,p;if((e?e.ownerDocument||e:P)!==j&&T(e),e=e||j,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(L&&!i){if(r=yt.exec(t))if(o=r[1]){if(9===s){if(a=e.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(o))&&Z(e,a)&&a.id===o)return n.push(a),n}else{if(r[2])return q.apply(n,e.getElementsByTagName(t)),n;if((o=r[3])&&b.getElementsByClassName&&e.getElementsByClassName)return q.apply(n,e.getElementsByClassName(o)),n}if(b.qsa&&(!B||!B.test(t))){if(d=h=E,g=e,p=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=_(t),(h=e.getAttribute("id"))?d=h.replace(Ct,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+f(u[l]);g=It.test(t)&&c(e.parentNode)||e,p=u.join(",")}if(p)try{return q.apply(n,g.querySelectorAll(p)),n}catch(m){}finally{h||e.removeAttribute("id")}}}return N(t.replace(lt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[E]=!0,t}function r(t){var e=j.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var n=t.split("|"),i=t.length;i--;)x.attrHandle[n[i]]=e}function o(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,a=t([],n.length,e),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&typeof t.getElementsByTagName!==H&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=n&&"parentNode"===i,a=R++;return e.first?function(e,n,a){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,a)}:function(e,n,o){var s,l,u=[F,a];if(o){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,o))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[E]||(e[E]={}),(s=l[i])&&s[0]===F&&s[1]===a)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,o))return!0}}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function p(t,n,i){for(var r=0,a=n.length;a>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,u=null!=e;l>s;s++)(a=t[s])&&(!n||n(a,i,r))&&(o.push(a),u&&e.push(s));return o}function v(t,e,n,r,a,o){return r&&!r[E]&&(r=v(r)),a&&!a[E]&&(a=v(a,o)),i(function(i,o,s,l){var u,c,h,f=[],d=[],g=o.length,v=i||p(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:m(v,f,t,s,l),I=n?a||(i?t:g||r)?[]:o:y;if(n&&n(y,I,s,l),r)for(u=m(I,d),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(I[d[c]]=!(y[d[c]]=h));if(i){if(a||t){if(a){for(u=[],c=I.length;c--;)(h=I[c])&&u.push(y[c]=h);a(null,I=[],u,l)}for(c=I.length;c--;)(h=I[c])&&(u=a?et.call(i,h):f[c])>-1&&(i[u]=!(o[u]=h))}}else I=m(I===o?I.splice(g,I.length):I),a?a(null,o,I,l):q.apply(o,I)})}function y(t){for(var e,n,i,r=t.length,a=x.relative[t[0].type],o=a||x.relative[" "],s=a?1:0,l=d(function(t){return t===e},o,!0),u=d(function(t){return et.call(e,t)>-1},o,!0),c=[function(t,n,i){return!a&&(i||n!==S)||((e=n).nodeType?l(t,n,i):u(t,n,i))}];r>s;s++)if(n=x.relative[t[s].type])c=[d(g(c),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[E]){for(i=++s;r>i&&!x.relative[t[i].type];i++);return v(s>1&&g(c),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),n,i>s&&y(t.slice(s,i)),r>i&&y(t=t.slice(i)),r>i&&f(t))}c.push(n)}return g(c)}function I(t,n){var r=n.length>0,a=t.length>0,o=function(i,o,s,l,u){var c,h,f,d=0,g="0",p=i&&[],v=[],y=S,I=i||a&&x.find.TAG("*",u),C=F+=null==y?1:Math.random()||.1,b=I.length;for(u&&(S=o!==j&&o);g!==b&&null!=(c=I[g]);g++){if(a&&c){for(h=0;f=t[h++];)if(f(c,o,s)){l.push(c);break}u&&(F=C)}r&&((c=!f&&c)&&d--,i&&p.push(c))}if(d+=g,r&&g!==d){for(h=0;f=n[h++];)f(p,v,o,s);if(i){if(d>0)for(;g--;)p[g]||v[g]||(v[g]=Q.call(l));v=m(v)}q.apply(l,v),u&&!i&&v.length>0&&d+n.length>1&&e.uniqueSort(l)}return u&&(F=C,S=y),p};return r?i(o):o}var C,b,x,A,w,_,M,N,S,D,k,T,j,z,L,B,G,O,Z,E="sizzle"+-new Date,P=t.document,F=0,R=0,W=n(),Y=n(),U=n(),X=function(t,e){return t===e&&(k=!0),0},H="undefined",V=1<<31,J={}.hasOwnProperty,$=[],Q=$.pop,K=$.push,q=$.push,tt=$.slice,et=$.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=rt.replace("w","w#"),ot="\\["+it+"*("+rt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+at+"))|)"+it+"*\\]",st=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ut=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ft=new RegExp(st),dt=new RegExp("^"+at+"$"),gt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,It=/[+~]/,Ct=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{q.apply($=tt.call(P.childNodes),P.childNodes),$[P.childNodes.length].nodeType}catch(At){q={apply:$.length?function(t,e){K.apply(t,tt.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}b=e.support={},w=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},T=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:P,i=n.defaultView;return n!==j&&9===n.nodeType&&n.documentElement?(j=n,z=n.documentElement,L=!w(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){T()},!1):i.attachEvent&&i.attachEvent("onunload",function(){T()})),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=vt.test(n.getElementsByClassName)&&r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),b.getById=r(function(t){return z.appendChild(t).id=E,!n.getElementsByName||!n.getElementsByName(E).length}),b.getById?(x.find.ID=function(t,e){if(typeof e.getElementById!==H&&L){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){var n=typeof t.getAttributeNode!==H&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=b.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==H?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},x.find.CLASS=b.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==H&&L?e.getElementsByClassName(t):void 0},G=[],B=[],(b.qsa=vt.test(n.querySelectorAll))&&(r(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&B.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||B.push("\\["+it+"*(?:value|"+nt+")"),t.querySelectorAll(":checked").length||B.push(":checked")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&B.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||B.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),B.push(",.*:")})),(b.matchesSelector=vt.test(O=z.matches||z.webkitMatchesSelector||z.mozMatchesSelector||z.oMatchesSelector||z.msMatchesSelector))&&r(function(t){b.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),G.push("!=",st)}),B=B.length&&new RegExp(B.join("|")),G=G.length&&new RegExp(G.join("|")),e=vt.test(z.compareDocumentPosition),Z=e||vt.test(z.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return k=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!b.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===P&&Z(P,t)?-1:e===n||e.ownerDocument===P&&Z(P,e)?1:D?et.call(D,t)-et.call(D,e):0:4&i?-1:1)}:function(t,e){if(t===e)return k=!0,0;var i,r=0,a=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!a||!s)return t===n?-1:e===n?1:a?-1:s?1:D?et.call(D,t)-et.call(D,e):0;if(a===s)return o(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)u.unshift(i);for(;l[r]===u[r];)r++;return r?o(l[r],u[r]):l[r]===P?-1:u[r]===P?1:0},n):j},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==j&&T(t),n=n.replace(ht,"='$1']"),b.matchesSelector&&L&&(!G||!G.test(n))&&(!B||!B.test(n)))try{var i=O.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,j,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==j&&T(t),Z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==j&&T(t);var n=x.attrHandle[e.toLowerCase()],i=n&&J.call(x.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==i?i:b.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(k=!b.detectDuplicates,D=!b.sortStable&&t.slice(0),t.sort(X),k){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return D=null,t},A=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=A(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=A(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:gt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return gt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=_(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==H&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var a=e.attr(r,t);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,f,d,g,p=a!==o?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(a){for(;p;){for(h=e;h=h[p];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;g=p="only"===t&&!g&&"nextSibling"}return!0}if(g=[o?m.firstChild:m.lastChild],o&&y){for(c=m[E]||(m[E]={}),u=c[t]||[],d=u[0]===F&&u[1],f=u[0]===F&&u[2],h=d&&m.childNodes[d];h=++d&&h&&h[p]||(f=d=0)||g.pop();)if(1===h.nodeType&&++f&&h===e){c[t]=[F,d,f];break}}else if(y&&(u=(e[E]||(e[E]={}))[t])&&u[0]===F)f=u[1];else for(;(h=++d&&h&&h[p]||(f=d=0)||g.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(y&&((h[E]||(h[E]={}))[t]=[F,f]),h!==e)););return f-=r,f===i||f%i===0&&f/i>=0}}},PSEUDO:function(t,n){var r,a=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[E]?a(n):a.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=a(t,n),o=r.length;o--;)i=et.call(t,r[o]),t[i]=!(e[i]=r[o])}):function(t){return a(t,0,r)}):a}},pseudos:{not:i(function(t){var e=[],n=[],r=M(t.replace(lt,"$1"));return r[E]?i(function(t,e,n,i){for(var a,o=r(t,null,i,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,i,a){return e[0]=t,r(e,null,a,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||A(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,xt).toLowerCase(),function(e){var n;do if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===z},focus:function(t){return t===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[C]=s(C);for(C in{submit:!0,reset:!0})x.pseudos[C]=l(C);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,_=e.tokenize=function(t,n){var i,r,a,o,s,l,u,c=Y[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=x.preFilter;s;){(!i||(r=ut.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),i=!1,(r=ct.exec(s))&&(i=r.shift(),a.push({value:i,type:r[0].replace(lt," ")}),s=s.slice(i.length));for(o in x.filter)!(r=gt[o].exec(s))||u[o]&&!(r=u[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):Y(t,l).slice(0)},M=e.compile=function(t,e){var n,i=[],r=[],a=U[t+" "];if(!a){for(e||(e=_(t)),n=e.length;n--;)a=y(e[n]),a[E]?i.push(a):r.push(a);a=U(t,I(r,i)),a.selector=t}return a},N=e.select=function(t,e,n,i){var r,a,o,s,l,u="function"==typeof t&&t,h=!i&&_(t=u.selector||t);if(n=n||[],1===h.length){if(a=h[0]=h[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&b.getById&&9===e.nodeType&&L&&x.relative[a[1].type]){if(e=(x.find.ID(o.matches[0].replace(bt,xt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(r=gt.needsContext.test(t)?0:a.length;r--&&(o=a[r],!x.relative[s=o.type]);)if((l=x.find[s])&&(i=l(o.matches[0].replace(bt,xt),It.test(a[0].type)&&c(e.parentNode)||e))){if(a.splice(r,1),t=i.length&&f(a),!t)return q.apply(n,i),n;break}}return(u||M(t,h))(i,e,!L,n,It.test(t)&&c(e.parentNode)||e),n},b.sortStable=E.split("").sort(X).join("")===E,b.detectDuplicates=!!k,T(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(j.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||a(nt,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);rt.find=ut,rt.expr=ut.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ut.uniqueSort,rt.text=ut.getText,rt.isXMLDoc=ut.isXML,rt.contains=ut.contains;var ct=rt.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?rt.find.matchesSelector(i,t)?[i]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;r>e;e++)if(rt.contains(i[e],this))return!0}));for(e=0;r>e;e++)rt.find(t,i[e],n);return n=this.pushStack(r>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ct.test(t)?rt(t):t||[],!1).length}});var dt,gt=t.document,pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=rt.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:pt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||dt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:gt,!0)),ht.test(n[1])&&rt.isPlainObject(e))for(n in e)rt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(i=gt.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return dt.find(t);this.length=1,this[0]=i}return this.context=gt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?"undefined"!=typeof dt.ready?dt.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))};mt.prototype=rt.fn,dt=rt(gt);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!rt(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),rt.fn.extend({has:function(t){var e,n=rt(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(rt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,a=[],o=ct.test(t)||"string"!=typeof t?rt(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?rt.unique(a):a)},index:function(t){return t?"string"==typeof t?rt.inArray(this[0],rt(t)):rt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.unique(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return rt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return rt.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return rt.dir(t,"nextSibling")},prevAll:function(t){return rt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return rt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return rt.dir(t,"previousSibling",n)},siblings:function(t){return rt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return rt.sibling(t.firstChild)},contents:function(t){return rt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(n,i){var r=rt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=rt.filter(i,r)),this.length>1&&(yt[t]||(r=rt.unique(r)),vt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var It=/\S+/g,Ct={};rt.Callbacks=function(t){t="string"==typeof t?Ct[t]||a(t):rt.extend({},t);var e,n,i,r,o,s,l=[],u=!t.once&&[],c=function(a){for(n=t.memory&&a,i=!0,o=s||0,s=0,r=l.length,e=!0;l&&r>o;o++)if(l[o].apply(a[0],a[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function a(e){rt.each(e,function(e,n){var i=rt.type(n);"function"===i?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),e?r=l.length:n&&(s=i,c(n))}return this},remove:function(){return l&&rt.each(arguments,function(t,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),e&&(r>=i&&r--,o>=i&&o--)}),this},has:function(t){return t?rt.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||h.disable(),this},locked:function(){return!u},fireWith:function(t,n){return!l||i&&!u||(n=n||[],n=[t,n.slice?n.slice():n],e?u.push(n):c(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(n){rt.each(e,function(e,a){var o=rt.isFunction(t[e])&&t[e];r[a[1]](function(){var t=o&&o.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,i):i}},r={};return i.pipe=i.then,rt.each(e,function(t,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,a=J.call(arguments),o=a.length,s=1!==o||t&&rt.isFunction(t.promise)?o:0,l=1===s?t:rt.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?J.call(arguments):r,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)a[r]&&rt.isFunction(a[r].promise)?a[r].promise().done(u(r,i,a)).fail(l.reject).progress(u(r,n,e)):--s;return s||l.resolveWith(i,a),l.promise()}});var bt;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){if(t===!0?!--rt.readyWait:!rt.isReady){if(!gt.body)return setTimeout(rt.ready);rt.isReady=!0,t!==!0&&--rt.readyWait>0||(bt.resolveWith(gt,[rt]),rt.fn.triggerHandler&&(rt(gt).triggerHandler("ready"),rt(gt).off("ready")))}}}),rt.ready.promise=function(e){if(!bt)if(bt=rt.Deferred(),"complete"===gt.readyState)setTimeout(rt.ready);else if(gt.addEventListener)gt.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{gt.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&gt.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!rt.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}o(),rt.ready()}}()}return bt.promise(e)};var xt,At="undefined";for(xt in rt(nt))break;nt.ownLast="0"!==xt,nt.inlineBlockNeedsLayout=!1,rt(function(){var t,e,n,i;n=gt.getElementsByTagName("body")[0],n&&n.style&&(e=gt.createElement("div"),i=gt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==At&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=gt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(e){nt.deleteExpando=!1}}t=null}(),rt.acceptData=function(t){var e=rt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e};var wt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?rt.cache[t[rt.expando]]:t[rt.expando],!!t&&!u(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),rt.fn.extend({data:function(t,e){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=rt.data(a),1===a.nodeType&&!rt._data(a,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(a,i,r[i])));rt._data(a,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){rt.data(this,t)}):arguments.length>1?this.each(function(){rt.data(this,t,e)}):a?l(a,t,rt.data(a,t)):void 0},removeData:function(t){return this.each(function(){rt.removeData(this,t)})}}),rt.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=rt._data(t,e),n&&(!i||rt.isArray(n)?i=rt._data(t,e,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=rt.queue(t,e),i=n.length,r=n.shift(),a=rt._queueHooks(t,e),o=function(){rt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return rt._data(t,n)||rt._data(t,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(t,e+"queue"),rt._removeData(t,n)})})}}),rt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?rt.queue(this[0],t):void 0===e?this:this.each(function(){var n=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=rt.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)n=rt._data(a[o],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var Mt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nt=["Top","Right","Bottom","Left"],St=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},Dt=rt.access=function(t,e,n,i,r,a,o){var s=0,l=t.length,u=null==n;if("object"===rt.type(n)){r=!0;for(s in n)rt.access(t,e,s,n[s],!0,a,o)}else if(void 0!==i&&(r=!0,rt.isFunction(i)||(o=!0),u&&(o?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(rt(t),n)})),e))for(;l>s;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):a},kt=/^(?:checkbox|radio)$/i;!function(){var t=gt.createElement("input"),e=gt.createElement("div"),n=gt.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===e.firstChild.nodeType,nt.tbody=!e.getElementsByTagName("tbody").length,nt.htmlSerialize=!!e.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==gt.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),nt.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){nt.noCloneEvent=!1}),e.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(i){nt.deleteExpando=!1}}}(),function(){var e,n,i=gt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(nt[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),nt[e+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Tt=/^(?:input|select|textarea)$/i,jt=/^key/,zt=/^(?:mouse|pointer|contextmenu)|click/,Lt=/^(?:focusinfocus|focusoutblur)$/,Bt=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(t,e,n,i,r){var a,o,s,l,u,c,h,f,d,g,p,m=rt._data(t);if(m){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=rt.guid++),(o=m.events)||(o=m.events={}),(c=m.handle)||(c=m.handle=function(t){return typeof rt===At||t&&rt.event.triggered===t.type?void 0:rt.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(It)||[""],s=e.length;s--;)a=Bt.exec(e[s])||[],d=p=a[1],g=(a[2]||"").split(".").sort(),d&&(u=rt.event.special[d]||{},d=(r?u.delegateType:u.bindType)||d,u=rt.event.special[d]||{},h=rt.extend({type:d,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:g.join(".")},l),(f=o[d])||(f=o[d]=[],f.delegateCount=0,u.setup&&u.setup.call(t,i,g,c)!==!1||(t.addEventListener?t.addEventListener(d,c,!1):t.attachEvent&&t.attachEvent("on"+d,c))),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),rt.event.global[d]=!0);t=null}},remove:function(t,e,n,i,r){var a,o,s,l,u,c,h,f,d,g,p,m=rt.hasData(t)&&rt._data(t);if(m&&(c=m.events)){for(e=(e||"").match(It)||[""],u=e.length;u--;)if(s=Bt.exec(e[u])||[],d=p=s[1],g=(s[2]||"").split(".").sort(),d){for(h=rt.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,f=c[d]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=f.length;a--;)o=f[a],!r&&p!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(f.splice(a,1),o.selector&&f.delegateCount--,h.remove&&h.remove.call(t,o));l&&!f.length&&(h.teardown&&h.teardown.call(t,g,m.handle)!==!1||rt.removeEvent(t,d,m.handle),delete c[d])}else for(d in c)rt.event.remove(t,d+e[u],n,i,!0);rt.isEmptyObject(c)&&(delete m.handle,rt._removeData(t,"events"))}},trigger:function(e,n,i,r){var a,o,s,l,u,c,h,f=[i||gt],d=et.call(e,"type")?e.type:e,g=et.call(e,"namespace")?e.namespace.split("."):[];if(s=c=i=i||gt,3!==i.nodeType&&8!==i.nodeType&&!Lt.test(d+rt.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),o=d.indexOf(":")<0&&"on"+d,e=e[rt.expando]?e:new rt.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,
e.namespace=g.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:rt.makeArray(n,[e]),u=rt.event.special[d]||{},r||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!r&&!u.noBubble&&!rt.isWindow(i)){for(l=u.delegateType||d,Lt.test(l+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(i.ownerDocument||gt)&&f.push(c.defaultView||c.parentWindow||t)}for(h=0;(s=f[h++])&&!e.isPropagationStopped();)e.type=h>1?l:u.bindType||d,a=(rt._data(s,"events")||{})[e.type]&&rt._data(s,"handle"),a&&a.apply(s,n),a=o&&s[o],a&&a.apply&&rt.acceptData(s)&&(e.result=a.apply(s,n),e.result===!1&&e.preventDefault());if(e.type=d,!r&&!e.isDefaultPrevented()&&(!u._default||u._default.apply(f.pop(),n)===!1)&&rt.acceptData(i)&&o&&i[d]&&!rt.isWindow(i)){c=i[o],c&&(i[o]=null),rt.event.triggered=d;try{i[d]()}catch(p){}rt.event.triggered=void 0,c&&(i[o]=c)}return e.result}},dispatch:function(t){t=rt.event.fix(t);var e,n,i,r,a,o=[],s=J.call(arguments),l=(rt._data(this,"events")||{})[t.type]||[],u=rt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(o=rt.event.handlers.call(this,t,l),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,a=0;(i=r.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,a,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(r=[],a=0;s>a;a++)i=e[a],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&o.push({elem:l,handlers:r})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},fix:function(t){if(t[rt.expando])return t;var e,n,i,r=t.type,a=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=zt.test(r)?this.mouseHooks:jt.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,t=new rt.Event(a),e=i.length;e--;)n=i[e],t[n]=a[n];return t.target||(t.target=a.srcElement||gt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,a):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,a=e.button,o=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||gt,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?e.toElement:o),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==g()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=rt.extend(new rt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(r,null,e):rt.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=gt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===At&&(t[i]=null),t.detachEvent(i,n))},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:d):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,a=t.handleObj;return(!r||r!==i&&!rt.contains(i,r))&&(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}}),nt.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=rt.nodeName(e,"input")||rt.nodeName(e,"button")?e.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&rt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),nt.changeBubbles||(rt.event.special.change={setup:function(){return Tt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,t,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Tt.test(e.nodeName)&&!rt._data(e,"changeBubbles")&&(rt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||rt.event.simulate("change",this.parentNode,t,!0)}),rt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Tt.test(this.nodeName)}}),nt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){rt.event.simulate(e,t.target,rt.event.fix(t),!0)};rt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=rt._data(i,e);r||i.addEventListener(t,n,!0),rt._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt._data(i,e)-1;r?rt._data(i,e,r):(i.removeEventListener(t,n,!0),rt._removeData(i,e))}}}),rt.fn.extend({on:function(t,e,n,i,r){var a,o;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=d;else if(!i)return this;return 1===r&&(o=i,i=function(t){return rt().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=rt.guid++)),this.each(function(){rt.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,rt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=d),this.each(function(){rt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?rt.event.trigger(t,e,n,!0):void 0}});var Gt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Zt=new RegExp("<(?:"+Gt+")[\\s/>]","i"),Et=/^\s+/,Pt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ft=/<([\w:]+)/,Rt=/<tbody/i,Wt=/<|&#?\w+;/,Yt=/<(?:script|style|link)/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Xt=/^$|\/(?:java|ecma)script/i,Ht=/^true\/(.*)/,Vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Jt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},$t=p(gt),Qt=$t.appendChild(gt.createElement("div"));Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td,rt.extend({clone:function(t,e,n){var i,r,a,o,s,l=rt.contains(t.ownerDocument,t);if(nt.html5Clone||rt.isXMLDoc(t)||!Zt.test("<"+t.nodeName+">")?a=t.cloneNode(!0):(Qt.innerHTML=t.outerHTML,Qt.removeChild(a=Qt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(i=m(a),s=m(t),o=0;null!=(r=s[o]);++o)i[o]&&A(r,i[o]);if(e)if(n)for(s=s||m(t),i=i||m(a),o=0;null!=(r=s[o]);o++)x(r,i[o]);else x(t,a);return i=m(a,"script"),i.length>0&&b(i,!l&&m(t,"script")),i=s=r=null,a},buildFragment:function(t,e,n,i){for(var r,a,o,s,l,u,c,h=t.length,f=p(e),d=[],g=0;h>g;g++)if(a=t[g],a||0===a)if("object"===rt.type(a))rt.merge(d,a.nodeType?[a]:a);else if(Wt.test(a)){for(s=s||f.appendChild(e.createElement("div")),l=(Ft.exec(a)||["",""])[1].toLowerCase(),c=Jt[l]||Jt._default,s.innerHTML=c[1]+a.replace(Pt,"<$1></$2>")+c[2],r=c[0];r--;)s=s.lastChild;if(!nt.leadingWhitespace&&Et.test(a)&&d.push(e.createTextNode(Et.exec(a)[0])),!nt.tbody)for(a="table"!==l||Rt.test(a)?"<table>"!==c[1]||Rt.test(a)?0:s:s.firstChild,r=a&&a.childNodes.length;r--;)rt.nodeName(u=a.childNodes[r],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(rt.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else d.push(e.createTextNode(a));for(s&&f.removeChild(s),nt.appendChecked||rt.grep(m(d,"input"),v),g=0;a=d[g++];)if((!i||-1===rt.inArray(a,i))&&(o=rt.contains(a.ownerDocument,a),s=m(f.appendChild(a),"script"),o&&b(s),n))for(r=0;a=s[r++];)Xt.test(a.type||"")&&n.push(a);return s=null,f},cleanData:function(t,e){for(var n,i,r,a,o=0,s=rt.expando,l=rt.cache,u=nt.deleteExpando,c=rt.event.special;null!=(n=t[o]);o++)if((e||rt.acceptData(n))&&(r=n[s],a=r&&l[r])){if(a.events)for(i in a.events)c[i]?rt.event.remove(n,i):rt.removeEvent(n,i,a.handle);l[r]&&(delete l[r],u?delete n[s]:typeof n.removeAttribute!==At?n.removeAttribute(s):n[s]=null,V.push(r))}}}),rt.fn.extend({text:function(t){return Dt(this,function(t){return void 0===t?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||gt).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?rt.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||rt.cleanData(m(n)),n.parentNode&&(e&&rt.contains(n.ownerDocument,n)&&b(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&rt.cleanData(m(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&rt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return Dt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Ot,""):void 0;if("string"==typeof t&&!Yt.test(t)&&(nt.htmlSerialize||!Zt.test(t))&&(nt.leadingWhitespace||!Et.test(t))&&!Jt[(Ft.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Pt,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(rt.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,rt.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=$.apply([],t);var n,i,r,a,o,s,l=0,u=this.length,c=this,h=u-1,f=t[0],d=rt.isFunction(f);if(d||u>1&&"string"==typeof f&&!nt.checkClone&&Ut.test(f))return this.each(function(n){var i=c.eq(n);d&&(t[0]=f.call(this,n,i.html())),i.domManip(t,e)});if(u&&(s=rt.buildFragment(t,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(a=rt.map(m(s,"script"),I),r=a.length;u>l;l++)i=s,l!==h&&(i=rt.clone(i,!0,!0),r&&rt.merge(a,m(i,"script"))),e.call(this[l],i,l);if(r)for(o=a[a.length-1].ownerDocument,rt.map(a,C),l=0;r>l;l++)i=a[l],Xt.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(o,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Vt,"")));s=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var n,i=0,r=[],a=rt(t),o=a.length-1;o>=i;i++)n=i===o?this:this.clone(!0),rt(a[i])[e](n),Q.apply(r,n.get());return this.pushStack(r)}});var Kt,qt={};!function(){var t;nt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=gt.getElementsByTagName("body")[0],n&&n.style?(e=gt.createElement("div"),i=gt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==At&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(gt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var te,ee,ne=/^margin/,ie=new RegExp("^("+Mt+")(?!px)[a-z%]+$","i"),re=/^(top|right|bottom|left)$/;t.getComputedStyle?(te=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},ee=function(t,e,n){var i,r,a,o,s=t.style;return n=n||te(t),o=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==o||rt.contains(t.ownerDocument,t)||(o=rt.style(t,e)),ie.test(o)&&ne.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0===o?o:o+""}):gt.documentElement.currentStyle&&(te=function(t){return t.currentStyle},ee=function(t,e,n){var i,r,a,o,s=t.style;return n=n||te(t),o=n?n[e]:void 0,null==o&&s&&s[e]&&(o=s[e]),ie.test(o)&&!re.test(e)&&(i=s.left,r=t.runtimeStyle,a=r&&r.left,a&&(r.left=t.currentStyle.left),s.left="fontSize"===e?"1em":o,o=s.pixelLeft+"px",s.left=i,a&&(r.left=a)),void 0===o?o:o+""||"auto"}),function(){function e(){var e,n,i,r;n=gt.getElementsByTagName("body")[0],n&&n.style&&(e=gt.createElement("div"),i=gt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a=o=!1,l=!0,t.getComputedStyle&&(a="1%"!==(t.getComputedStyle(e,null)||{}).top,o="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,r=e.appendChild(gt.createElement("div")),r.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=e.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===r[0].offsetHeight,s&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,a,o,s,l;n=gt.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],i=r&&r.style,i&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,rt.extend(nt,{reliableHiddenOffsets:function(){return null==s&&e(),s},boxSizingReliable:function(){return null==o&&e(),o},pixelPosition:function(){return null==a&&e(),a},reliableMarginRight:function(){return null==l&&e(),l}}))}(),rt.swap=function(t,e,n,i){var r,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];r=n.apply(t,i||[]);for(a in e)t.style[a]=o[a];return r};var ae=/alpha\([^)]*\)/i,oe=/opacity\s*=\s*([^)]*)/,se=/^(none|table(?!-c[ea]).+)/,le=new RegExp("^("+Mt+")(.*)$","i"),ue=new RegExp("^([+-])=("+Mt+")","i"),ce={position:"absolute",visibility:"hidden",display:"block"},he={letterSpacing:"0",fontWeight:"400"},fe=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ee(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=rt.camelCase(e),l=t.style;if(e=rt.cssProps[s]||(rt.cssProps[s]=N(l,s)),o=rt.cssHooks[e]||rt.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:l[e];if(a=typeof n,"string"===a&&(r=ue.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(rt.css(t,e)),a="number"),null!=n&&n===n&&("number"!==a||rt.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(t,n,i)))))try{l[e]=n}catch(u){}}},css:function(t,e,n,i){var r,a,o,s=rt.camelCase(e);return e=rt.cssProps[s]||(rt.cssProps[s]=N(t.style,s)),o=rt.cssHooks[e]||rt.cssHooks[s],o&&"get"in o&&(a=o.get(t,!0,n)),void 0===a&&(a=ee(t,e,i)),"normal"===a&&e in he&&(a=he[e]),""===n||n?(r=parseFloat(a),n===!0||rt.isNumeric(r)?r||0:a):a}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,n,i){return n?se.test(rt.css(t,"display"))&&0===t.offsetWidth?rt.swap(t,ce,function(){return T(t,e,i)}):T(t,e,i):void 0},set:function(t,n,i){var r=i&&te(t);return D(t,n,i?k(t,e,i,nt.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,r),r):0)}}}),nt.opacity||(rt.cssHooks.opacity={get:function(t,e){return oe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=rt.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===rt.trim(a.replace(ae,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=ae.test(a)?a.replace(ae,r):a+" "+r)}}),rt.cssHooks.marginRight=M(nt.reliableMarginRight,function(t,e){return e?rt.swap(t,{display:"inline-block"},ee,[t,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Nt[i]+e]=a[i]||a[i-2]||a[0];return r}},ne.test(t)||(rt.cssHooks[t+e].set=D)}),rt.fn.extend({css:function(t,e){return Dt(this,function(t,e,n){var i,r,a={},o=0;if(rt.isArray(e)){for(i=te(t),r=e.length;r>o;o++)a[e[o]]=rt.css(t,e[o],!1,i);return a}return void 0!==n?rt.style(t,e,n):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){St(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=j,j.prototype={constructor:j,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(rt.cssNumber[n]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,n=j.propHooks[this.prop];return this.options.duration?this.pos=e=rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[rt.cssProps[t.prop]]||rt.cssHooks[t.prop])?rt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},rt.fx=j.prototype.init,rt.fx.step={};var de,ge,pe=/^(?:toggle|show|hide)$/,me=new RegExp("^(?:([+-])=|)("+Mt+")([a-z%]*)$","i"),ve=/queueHooks$/,ye=[G],Ie={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=me.exec(e),a=r&&r[3]||(rt.cssNumber[t]?"":"px"),o=(rt.cssNumber[t]||"px"!==a&&+i)&&me.exec(rt.css(n.elem,t)),s=1,l=20;if(o&&o[3]!==a){a=a||o[3],r=r||[],o=+i||1;do s=s||".5",o/=s,rt.style(n.elem,t,o+a);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(o=n.start=+o||+i||0,n.unit=a,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};rt.Animation=rt.extend(Z,{tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],Ie[n]=Ie[n]||[],Ie[n].unshift(e)},prefilter:function(t,e){e?ye.unshift(t):ye.push(t)}}),rt.speed=function(t,e,n){var i=t&&"object"==typeof t?rt.extend({},t):{complete:n||!n&&e||rt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!rt.isFunction(e)&&e};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(St).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=rt.isEmptyObject(t),a=rt.speed(e,n,i),o=function(){var e=Z(this,rt.extend({},t),a);(r||rt._data(this,"finish"))&&e.stop(!0)};return o.finish=o,r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",a=rt.timers,o=rt._data(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&ve.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(n),e=!1,a.splice(r,1));(e||!n)&&rt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=rt._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],a=rt.timers,o=i?i.length:0;for(n.finish=!0,rt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;o>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var n=rt.fn[e];rt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(L(e,!0),t,i,r)}}),rt.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),rt.timers=[],rt.fx.tick=function(){var t,e=rt.timers,n=0;for(de=rt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||rt.fx.stop(),de=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){ge||(ge=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(ge),ge=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(t,e){return t=rt.fx?rt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,r;e=gt.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=e.getElementsByTagName("a")[0],n=gt.createElement("select"),r=n.appendChild(gt.createElement("option")),t=e.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==e.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!t.value,nt.optSelected=r.selected,nt.enctype=!!gt.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!r.disabled,t=gt.createElement("input"),t.setAttribute("value",""),nt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),nt.radioValue="t"===t.value}();var Ce=/\r/g;rt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=rt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,rt(this).val()):t,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(t){return null==t?"":t+""})),e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Ce,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(t){var e=rt.find.attr(t,"value");return null!=e?e:rt.trim(rt.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,a="select-one"===t.type||0>r,o=a?null:[],s=a?r+1:i.length,l=0>r?s:a?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&(nt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!rt.nodeName(n.parentNode,"optgroup"))){if(e=rt(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,a=rt.makeArray(e),o=r.length;o--;)if(i=r[o],rt.inArray(rt.valHooks.option.get(i),a)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){return rt.isArray(e)?t.checked=rt.inArray(rt(t).val(),e)>=0:void 0}},nt.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var be,xe,Ae=rt.expr.attrHandle,we=/^(?:checked|selected)$/i,_e=nt.getSetAttribute,Me=nt.input;rt.fn.extend({attr:function(t,e){return Dt(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===At?rt.prop(t,e,n):(1===a&&rt.isXMLDoc(t)||(e=e.toLowerCase(),i=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?xe:be)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=rt.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void rt.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,a=e&&e.match(It);if(a&&1===t.nodeType)for(;n=a[r++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?Me&&_e||!we.test(n)?t[i]=!1:t[rt.camelCase("default-"+n)]=t[i]=!1:rt.attr(t,n,""),t.removeAttribute(_e?n:i)},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),xe={set:function(t,e,n){return e===!1?rt.removeAttr(t,n):Me&&_e||!we.test(n)?t.setAttribute(!_e&&rt.propFix[n]||n,n):t[rt.camelCase("default-"+n)]=t[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ae[e]||rt.find.attr;Ae[e]=Me&&_e||!we.test(e)?function(t,e,i){var r,a;return i||(a=Ae[e],Ae[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,Ae[e]=a),r}:function(t,e,n){return n?void 0:t[rt.camelCase("default-"+e)]?e.toLowerCase():null}}),Me&&_e||(rt.attrHooks.value={set:function(t,e,n){return rt.nodeName(t,"input")?void(t.defaultValue=e):be&&be.set(t,e,n)}}),_e||(be={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},Ae.id=Ae.name=Ae.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:be.set},rt.attrHooks.contenteditable={set:function(t,e,n){be.set(t,""===e?!1:e,n)}},rt.each(["width","height"],function(t,e){rt.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),nt.style||(rt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ne=/^(?:input|select|textarea|button|object)$/i,Se=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return Dt(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=rt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,a,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return a=1!==o||!rt.isXMLDoc(t),a&&(e=rt.propFix[e]||e,r=rt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):Ne.test(t.nodeName)||Se.test(t.nodeName)&&t.href?0:-1}}}}),nt.hrefNormalized||rt.each(["href","src"],function(t,e){rt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),nt.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),nt.enctype||(rt.propFix.enctype="encoding");var De=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,n,i,r,a,o,s=0,l=this.length,u="string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(It)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):" ")){for(a=0;r=e[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=rt.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(t){var e,n,i,r,a,o,s=0,l=this.length,u=0===arguments.length||"string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(It)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):"")){for(a=0;r=e[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");o=t?rt.trim(i):"",n.className!==o&&(n.className=o);
}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):rt.isFunction(t)?this.each(function(n){rt(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=rt(this),a=t.match(It)||[];e=a[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===At||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||t===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(De," ").indexOf(e)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ke=rt.now(),Te=/\?/,je=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=rt.trim(e+"");return r&&!rt.trim(r.replace(je,function(t,e,r,a){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!a-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+e)},rt.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+e),n};var ze,Le,Be=/#.*$/,Ge=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ze=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ee=/^(?:GET|HEAD)$/,Pe=/^\/\//,Fe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Re={},We={},Ye="*/".concat("*");try{Le=location.href}catch(Ue){Le=gt.createElement("a"),Le.href="",Le=Le.href}ze=Fe.exec(Le.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Le,type:"GET",isLocal:Ze.test(ze[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?F(F(t,rt.ajaxSettings),e):F(rt.ajaxSettings,t)},ajaxPrefilter:E(Re),ajaxTransport:E(We),ajax:function(t,e){function n(t,e,n,i){var r,c,v,y,C,x=e;2!==I&&(I=2,s&&clearTimeout(s),u=void 0,o=i||"",b.readyState=t>0?4:0,r=t>=200&&300>t||304===t,n&&(y=R(h,b,n)),y=W(h,y,b,r),r?(h.ifModified&&(C=b.getResponseHeader("Last-Modified"),C&&(rt.lastModified[a]=C),C=b.getResponseHeader("etag"),C&&(rt.etag[a]=C)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=y.state,c=y.data,v=y.error,r=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),b.status=t,b.statusText=(e||x)+"",r?g.resolveWith(f,[c,x,b]):g.rejectWith(f,[b,x,v]),b.statusCode(m),m=void 0,l&&d.trigger(r?"ajaxSuccess":"ajaxError",[b,h,r?c:v]),p.fireWith(f,[b,x]),l&&(d.trigger("ajaxComplete",[b,h]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,a,o,s,l,u,c,h=rt.ajaxSetup({},e),f=h.context||h,d=h.context&&(f.nodeType||f.jquery)?rt(f):rt.event,g=rt.Deferred(),p=rt.Callbacks("once memory"),m=h.statusCode||{},v={},y={},I=0,C="canceled",b={readyState:0,getResponseHeader:function(t){var e;if(2===I){if(!c)for(c={};e=Oe.exec(o);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===I?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return I||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return I||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>I)for(e in t)m[e]=[m[e],t[e]];else b.always(t[b.status]);return this},abort:function(t){var e=t||C;return u&&u.abort(e),n(0,e),this}};if(g.promise(b).complete=p.add,b.success=b.done,b.error=b.fail,h.url=((t||h.url||Le)+"").replace(Be,"").replace(Pe,ze[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=rt.trim(h.dataType||"*").toLowerCase().match(It)||[""],null==h.crossDomain&&(i=Fe.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===ze[1]&&i[2]===ze[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(ze[3]||("http:"===ze[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=rt.param(h.data,h.traditional)),P(Re,h,e,b),2===I)return b;l=h.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ee.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(Te.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Ge.test(a)?a.replace(Ge,"$1_="+ke++):a+(Te.test(a)?"&":"?")+"_="+ke++)),h.ifModified&&(rt.lastModified[a]&&b.setRequestHeader("If-Modified-Since",rt.lastModified[a]),rt.etag[a]&&b.setRequestHeader("If-None-Match",rt.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&b.setRequestHeader("Content-Type",h.contentType),b.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ye+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)b.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(f,b,h)===!1||2===I))return b.abort();C="abort";for(r in{success:1,error:1,complete:1})b[r](h[r]);if(u=P(We,h,e,b)){b.readyState=1,l&&d.trigger("ajaxSend",[b,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){b.abort("timeout")},h.timeout));try{I=1,u.send(v,n)}catch(x){if(!(2>I))throw x;n(-1,x)}}else n(-1,"No Transport");return b},getJSON:function(t,e,n){return rt.get(t,e,n,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,n,i,r){return rt.isFunction(n)&&(r=r||i,i=n,n=void 0),rt.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(t){if(rt.isFunction(t))return this.each(function(e){rt(this).wrapAll(t.call(this,e))});if(this[0]){var e=rt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return rt.isFunction(t)?this.each(function(e){rt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=rt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(n){rt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||rt.css(t,"display"))},rt.expr.filters.visible=function(t){return!rt.expr.filters.hidden(t)};var Xe=/%20/g,He=/\[\]$/,Ve=/\r?\n/g,Je=/^(?:submit|button|image|reset|file)$/i,$e=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var n,i=[],r=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){r(this.name,this.value)});else for(n in t)Y(n,t[n],e,r);return i.join("&").replace(Xe,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&$e.test(this.nodeName)&&!Je.test(t)&&(this.checked||!kt.test(t))}).map(function(t,e){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(t){return{name:e.name,value:t.replace(Ve,"\r\n")}}):{name:e.name,value:n.replace(Ve,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||X()}:U;var Qe=0,Ke={},qe=rt.ajaxSettings.xhr();t.ActiveXObject&&rt(t).on("unload",function(){for(var t in Ke)Ke[t](void 0,!0)}),nt.cors=!!qe&&"withCredentials"in qe,qe=nt.ajax=!!qe,qe&&rt.ajaxTransport(function(t){if(!t.crossDomain||nt.cors){var e;return{send:function(n,i){var r,a=t.xhr(),o=++Qe;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&a.setRequestHeader(r,n[r]+"");a.send(t.hasContent&&t.data||null),e=function(n,r){var s,l,u;if(e&&(r||4===a.readyState))if(delete Ke[o],e=void 0,a.onreadystatechange=rt.noop,r)4!==a.readyState&&a.abort();else{u={},s=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{l=a.statusText}catch(c){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&i(s,l,u,a.getAllResponseHeaders())},t.async?4===a.readyState?setTimeout(e):a.onreadystatechange=Ke[o]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=gt.head||rt("head")[0]||gt.documentElement;return{send:function(i,r){e=gt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||rt.expando+"_"+ke++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,n,i){var r,a,o,s=e.jsonp!==!1&&(en.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(en,"$1"+r):e.jsonp!==!1&&(e.url+=(Te.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||rt.error(r+" was not called"),o[0]},e.dataTypes[0]="json",a=t[r],t[r]=function(){o=arguments},i.always(function(){t[r]=a,e[r]&&(e.jsonpCallback=n.jsonpCallback,tn.push(r)),o&&rt.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),rt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||gt;var i=ht.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=rt.buildFragment([t],e,r),r&&r.length&&rt(r).remove(),rt.merge([],i.childNodes))};var nn=rt.fn.load;rt.fn.load=function(t,e,n){if("string"!=typeof t&&nn)return nn.apply(this,arguments);var i,r,a,o=this,s=t.indexOf(" ");return s>=0&&(i=rt.trim(t.slice(s,t.length)),t=t.slice(0,s)),rt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(a="POST"),o.length>0&&rt.ajax({url:t,type:a,dataType:"html",data:e}).done(function(t){r=arguments,o.html(i?rt("<div>").append(rt.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){o.each(n,r||[t.responseText,e,t])}),this},rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length};var rn=t.document.documentElement;rt.offset={setOffset:function(t,e,n){var i,r,a,o,s,l,u,c=rt.css(t,"position"),h=rt(t),f={};"static"===c&&(t.style.position="relative"),s=h.offset(),a=rt.css(t,"top"),l=rt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&rt.inArray("auto",[a,l])>-1,u?(i=h.position(),o=i.top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),rt.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(f.top=e.top-s.top+o),null!=e.left&&(f.left=e.left-s.left+r),"using"in e?e.using.call(t,f):h.css(f)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],a=r&&r.ownerDocument;if(a)return e=a.documentElement,rt.contains(e,r)?(typeof r.getBoundingClientRect!==At&&(i=r.getBoundingClientRect()),n=H(a),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(n=t.offset()),n.top+=rt.css(t[0],"borderTopWidth",!0),n.left+=rt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-rt.css(i,"marginTop",!0),left:e.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||rn;t&&!rt.nodeName(t,"html")&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||rn})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);rt.fn[t]=function(i){return Dt(this,function(t,i,r){var a=H(t);return void 0===r?a?e in a?a[e]:a.document.documentElement[i]:t[i]:void(a?a.scrollTo(n?rt(a).scrollLeft():r,n?r:rt(a).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=M(nt.pixelPosition,function(t,n){return n?(n=ee(t,e),ie.test(n)?rt(t).position()[e]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){rt.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return Dt(this,function(e,n,i){var r;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?rt.css(e,n,o):rt.style(e,n,i,o)},e,a?i:void 0,a,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var an=t.jQuery,on=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=on),e&&t.jQuery===rt&&(t.jQuery=an),rt},typeof e===At&&(t.jQuery=t.$=rt),rt}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var r=t(this),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var o=t(a);e&&e.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),a="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,a)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",a=i.data();e+="Text",null==a.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==a[e]?this.options[e]:a[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),o="string"==typeof e?e:a.slide;r||i.data("bs.carousel",r=new n(this,a)),"number"==typeof e?r.to(e):o?r[o]():a.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var r="prev"==t?-1:1,a=(n+r)%this.$items.length;return this.$items.eq(a)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),a=i||this.getItemForDirection(e,r),o=this.interval,s="next"==e?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var u=a[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(a)]);h&&h.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,r.addClass(s),a.addClass(s),r.one("bsTransitionEnd",function(){a.removeClass([e,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(f)),o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),a=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var o=t.extend({},a.data(),r.data()),s=r.attr("data-slide-to");s&&(o.interval=!1),e.call(a,o),s&&a.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&a.toggle&&/show|hide/.test(e)&&(a.toggle=!1),r||n.data("bs.collapse",r=new i(this,a)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.5",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var a=t.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[o](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var a=e(r),o=a.data("bs.collapse"),s=o?"toggle":r.data();n.call(a,s)})}(jQuery),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(a).each(function(){var i=t(this),r=e(i),a={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",a)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",a))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new o(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",a='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.5",o.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var a=e(r),o=a.hasClass("open");if(n(),!o){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(a.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},o.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=e(i),o=r.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&r.find(a).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,o.prototype.toggle).on("keydown.bs.dropdown.data-api",a,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),a=r.data("bs.modal"),o=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);a||r.data("bs.modal",a=new n(this,o)),"string"==typeof e?a[e](i):o.show&&a.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(a)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()));
},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),a=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},a.data(),i.data());i.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(a,o,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),a="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.tooltip",r=new n(this,a)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),a=r.length;a--;){var o=r[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,a=this.tip(),o=this.getUID(this.type);this.setContent(),a.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&a.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=a[0].offsetWidth,f=a[0].offsetHeight;if(u){var d=s,g=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+f>g.bottom?"top":"top"==s&&c.top-f<g.top?"bottom":"right"==s&&c.right+h>g.width?"left":"left"==s&&c.left-h<g.left?"right":s,a.removeClass(d).addClass(s)}var p=this.getCalculatedOffset(s,c,h,f);this.applyPlacement(p,s);var m=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,a=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),e.top+=o,e.left+=s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=a&&(e.top=e.top+a-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(n),f=h?2*c.left-r+l:2*c.top-a+u,d=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(f,i[0][d],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&a.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,a=t(this.$tip),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var a=i?{top:0,left:0}:e.offset(),o={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,o,s,a)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-a-o.scroll,l=e.top+a-o.scroll+i;s<o.top?r.top=o.top-s:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var u=e.left-a,c=e.left+a+n;u<o.left?r.left=o.left-u:c>o.right&&(r.left=o.left+o.width-c)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),a="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.popover",r=new n(this,a)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),a="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,a)),"string"==typeof n&&r[n]()})}e.VERSION="3.3.5",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),a=/^#./.test(r)&&t(r);return a&&a.length&&a.is(":visible")&&[[a[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return o!=(t=a[a.length-1])&&this.activate(t);if(o&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)o!=a[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(a[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),a=t.Event("hide.bs.tab",{relatedTarget:e[0]}),o=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(a),e.trigger(o),!o.isDefaultPrevented()&&!a.isDefaultPrevented()){var s=t(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function a(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var o=i.find("> .active"),s=r&&t.support.transition&&(o.length&&o.hasClass("fade")||!!i.find("> .fade").length);o.length&&s?o.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),a="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,a)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),a=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r?"top":!1;if("bottom"==this.affixed)return null!=n?r+this.unpin<=a.top?!1:"bottom":t-i>=r+o?!1:"bottom";var s=null==this.affixed,l=s?r:a.top,u=s?o:e;return null!=n&&n>=r?"top":null!=i&&l+u>=t-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,a=i.bottom,o=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(a=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof a&&(a=i.bottom(this.$element));var s=this.getState(o,e,r,a);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:o-e-a})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),/*!
 DataTables 1.10.11
 2008-2015 SpryMedia Ltd - datatables.net/license
*/
function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n,i){function r(e){var n,i,a={};t.each(e,function(t){(n=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=t.replace(n[0],n[2].toLowerCase()),a[i]=t,"o"===n[1]&&r(e[t]))}),e._hungarianMap=a}function a(e,n,o){e._hungarianMap||r(e);var s;t.each(n,function(r){s=e._hungarianMap[r],s===i||!o&&n[s]!==i||("o"===s.charAt(0)?(n[s]||(n[s]={}),t.extend(!0,n[s],n[r]),a(e[s],n[s],o)):n[s]=n[r])})}function o(t){var e=Yt.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&zt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&zt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&Rt(t)}function s(t){if(fe(t,"ordering","bSort"),fe(t,"orderMulti","bSortMulti"),fe(t,"orderClasses","bSortClasses"),fe(t,"orderCellsTop","bSortCellsTop"),fe(t,"order","aaSorting"),fe(t,"orderFixed","aaSortingFixed"),fe(t,"paging","bPaginate"),fe(t,"pagingType","sPaginationType"),fe(t,"pageLength","iDisplayLength"),fe(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,n=t.length;n>e;e++)t[e]&&a(Yt.models.oSearch,t[e])}function l(e){fe(e,"orderable","bSortable"),fe(e,"orderData","aDataSort"),fe(e,"orderSequence","asSorting"),fe(e,"orderDataType","sortDataType");var n=e.aDataSort;n&&!t.isArray(n)&&(e.aDataSort=[n])}function u(e){if(!Yt.__browser){var n={};Yt.__browser=n;var i=t("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),r=i.children(),a=r.children();n.barWidth=r[0].offsetWidth-r[0].clientWidth,n.bScrollOversize=100===a[0].offsetWidth&&100!==r[0].clientWidth,n.bScrollbarLeft=1!==Math.round(a.offset().left),n.bBounding=i[0].getBoundingClientRect().width?!0:!1,i.remove()}t.extend(e.oBrowser,Yt.__browser),e.oScroll.iBarWidth=Yt.__browser.barWidth}function c(t,e,n,r,a,o){var s,l=!1;for(n!==i&&(s=n,l=!0);r!==a;)t.hasOwnProperty(r)&&(s=l?e(s,t[r],r,t):t[r],l=!0,r+=o);return s}function h(e,i){var r=Yt.defaults.column,a=e.aoColumns.length,r=t.extend({},Yt.models.oColumn,r,{nTh:i?i:n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[a],mData:r.mData?r.mData:a,idx:a});e.aoColumns.push(r),r=e.aoPreSearchCols,r[a]=t.extend({},Yt.models.oSearch,r[a]),f(e,a,t(i).data())}function f(e,n,r){var n=e.aoColumns[n],o=e.oClasses,s=t(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var u=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(n.sWidthOrig=u[1])}r!==i&&null!==r&&(l(r),a(Yt.defaults.column,r),r.mDataProp!==i&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),t.extend(n,r),zt(n,r,"sWidth","sWidthOrig"),r.iDataSort!==i&&(n.aDataSort=[r.iDataSort]),zt(n,r,"aDataSort"));var c=n.mData,h=_(c),f=n.mRender?_(n.mRender):null,r=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};n._bAttrSrc=t.isPlainObject(c)&&(r(c.sort)||r(c.type)||r(c.filter)),n._setter=null,n.fnGetData=function(t,e,n){var r=h(t,e,i,n);return f&&e?f(r,e,t,n):r},n.fnSetData=function(t,e,n){return M(c)(t,e,n)},"number"!=typeof c&&(e._rowReadObject=!0),e.oFeatures.bSort||(n.bSortable=!1,s.addClass(o.sSortableNone)),e=-1!==t.inArray("asc",n.asSorting),r=-1!==t.inArray("desc",n.asSorting),n.bSortable&&(e||r)?e&&!r?(n.sSortingClass=o.sSortableAsc,n.sSortingClassJUI=o.sSortJUIAscAllowed):!e&&r?(n.sSortingClass=o.sSortableDesc,n.sSortingClassJUI=o.sSortJUIDescAllowed):(n.sSortingClass=o.sSortable,n.sSortingClassJUI=o.sSortJUI):(n.sSortingClass=o.sSortableNone,n.sSortingClassJUI="")}function d(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;mt(t);for(var n=0,i=e.length;i>n;n++)e[n].nTh.style.width=e[n].sWidth}e=t.oScroll,(""!==e.sY||""!==e.sX)&&gt(t),Ot(t,null,"column-sizing",[t])}function g(t,e){var n=v(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function p(e,n){var i=v(e,"bVisible"),i=t.inArray(n,i);return-1!==i?i:null}function m(e){return t(se(e.aoColumns,"nTh")).filter(":visible").length}function v(e,n){var i=[];return t.map(e.aoColumns,function(t,e){t[n]&&i.push(e)}),i}function y(t){var e,n,r,a,o,s,l,u,c,h=t.aoColumns,f=t.aoData,d=Yt.ext.type.detect;for(e=0,n=h.length;n>e;e++)if(l=h[e],c=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,a=d.length;a>r;r++){for(o=0,s=f.length;s>o&&(c[o]===i&&(c[o]=x(t,o,e,"type")),u=d[r](c[o],t),u||r===d.length-1)&&"html"!==u;o++);if(u){l.sType=u;break}}l.sType||(l.sType="string")}}function I(e,n,r,a){var o,s,l,u,c,f,d=e.aoColumns;if(n)for(o=n.length-1;o>=0;o--){f=n[o];var g=f.targets!==i?f.targets:f.aTargets;for(t.isArray(g)||(g=[g]),s=0,l=g.length;l>s;s++)if("number"==typeof g[s]&&0<=g[s]){for(;d.length<=g[s];)h(e);a(g[s],f)}else if("number"==typeof g[s]&&0>g[s])a(d.length+g[s],f);else if("string"==typeof g[s])for(u=0,c=d.length;c>u;u++)("_all"==g[s]||t(d[u].nTh).hasClass(g[s]))&&a(u,f)}if(r)for(o=0,e=r.length;e>o;o++)a(o,r[o])}function C(e,n,r,a){var o=e.aoData.length,s=t.extend(!0,{},Yt.models.oRow,{src:r?"dom":"data",idx:o});s._aData=n,e.aoData.push(s);for(var l=e.aoColumns,u=0,c=l.length;c>u;u++)l[u].sType=null;return e.aiDisplayMaster.push(o),n=e.rowIdFn(n),n!==i&&(e.aIds[n]=s),(r||!e.oFeatures.bDeferRender)&&j(e,o,r,a),o}function b(e,n){var i;return n instanceof t||(n=t(n)),n.map(function(t,n){return i=T(e,n),C(e,i.data,n,i.cells)})}function x(t,e,n,r){var a=t.iDraw,o=t.aoColumns[n],s=t.aoData[e]._aData,l=o.sDefaultContent,u=o.fnGetData(s,r,{settings:t,row:e,col:n});if(u===i)return t.iDrawError!=a&&null===l&&(jt(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=a),l;if(u!==s&&null!==u||null===l||r===i){if("function"==typeof u)return u.call(s)}else u=l;return null===u&&"display"==r?"":u}function A(t,e,n,i){t.aoColumns[n].fnSetData(t.aoData[e]._aData,i,{settings:t,row:e,col:n})}function w(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function _(e){if(t.isPlainObject(e)){var n={};return t.each(e,function(t,e){e&&(n[t]=_(e))}),function(t,e,r,a){var o=n[e]||n._;return o!==i?o(t,e,r,a):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,n,i,r){return e(t,n,i,r)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var r=function(e,n,a){var o,s;if(""!==a){s=w(a);for(var l=0,u=s.length;u>l;l++){if(a=s[l].match(de),o=s[l].match(ge),a){if(s[l]=s[l].replace(de,""),""!==s[l]&&(e=e[s[l]]),o=[],s.splice(0,l+1),s=s.join("."),t.isArray(e))for(l=0,u=e.length;u>l;l++)o.push(r(e[l],n,s));e=a[0].substring(1,a[0].length-1),e=""===e?o:o.join(e);break}if(o)s[l]=s[l].replace(ge,""),e=e[s[l]]();else{if(null===e||e[s[l]]===i)return i;e=e[s[l]]}}}return e};return function(t,n){return r(t,n,e)}}return function(t){return t[e]}}function M(e){if(t.isPlainObject(e))return M(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,i){e(t,"set",n,i)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var n=function(e,r,a){var o,a=w(a);o=a[a.length-1];for(var s,l,u=0,c=a.length-1;c>u;u++){if(s=a[u].match(de),l=a[u].match(ge),s){if(a[u]=a[u].replace(de,""),e[a[u]]=[],o=a.slice(),o.splice(0,u+1),s=o.join("."),t.isArray(r))for(l=0,c=r.length;c>l;l++)o={},n(o,r[l],s),e[a[u]].push(o);else e[a[u]]=r;return}l&&(a[u]=a[u].replace(ge,""),e=e[a[u]](r)),(null===e[a[u]]||e[a[u]]===i)&&(e[a[u]]={}),e=e[a[u]]}o.match(ge)?e[o.replace(ge,"")](r):e[o.replace(de,"")]=r};return function(t,i){return n(t,i,e)}}return function(t,n){t[e]=n}}function N(t){return se(t.aoData,"_aData")}function S(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function D(t,e,n){for(var r=-1,a=0,o=t.length;o>a;a++)t[a]==e?r=a:t[a]>e&&t[a]--;-1!=r&&n===i&&t.splice(r,1)}function k(t,e,n,r){var a,o=t.aoData[e],s=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=x(t,e,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==o.src)){var l=o.anCells;if(l)if(r!==i)s(l[r],r);else for(n=0,a=l.length;a>n;n++)s(l[n],n)}else o._aData=T(t,o,r,r===i?i:o._aData).data;if(o._aSortData=null,o._aFilterData=null,s=t.aoColumns,r!==i)s[r].sType=null;else{for(n=0,a=s.length;a>n;n++)s[n].sType=null;z(t,o)}}function T(e,n,r,a){var o,s,l,u=[],c=n.firstChild,h=0,f=e.aoColumns,d=e._rowReadObject,a=a!==i?a:d?{}:[],g=function(t,e){if("string"==typeof t){var n=t.indexOf("@");-1!==n&&(n=t.substring(n+1),M(t)(a,e.getAttribute(n)))}},p=function(e){(r===i||r===h)&&(s=f[h],l=t.trim(e.innerHTML),s&&s._bAttrSrc?(M(s.mData._)(a,l),g(s.mData.sort,e),g(s.mData.type,e),g(s.mData.filter,e)):d?(s._setter||(s._setter=M(s.mData)),s._setter(a,l)):a[h]=l),h++};if(c)for(;c;)o=c.nodeName.toUpperCase(),("TD"==o||"TH"==o)&&(p(c),u.push(c)),c=c.nextSibling;else for(u=n.anCells,c=0,o=u.length;o>c;c++)p(u[c]);return(n=n.firstChild?n:n.nTr)&&(n=n.getAttribute("id"))&&M(e.rowId)(a,n),{data:a,cells:u}}function j(e,i,r,a){var o,s,l,u,c,h=e.aoData[i],f=h._aData,d=[];if(null===h.nTr){for(o=r||n.createElement("tr"),h.nTr=o,h.anCells=d,o._DT_RowIndex=i,z(e,h),u=0,c=e.aoColumns.length;c>u;u++)l=e.aoColumns[u],s=r?a[u]:n.createElement(l.sCellType),s._DT_CellIndex={row:i,column:u},d.push(s),r&&!l.mRender&&l.mData===u||t.isPlainObject(l.mData)&&l.mData._===u+".display"||(s.innerHTML=x(e,i,u,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!r?o.appendChild(s):!l.bVisible&&r&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,s,x(e,i,u),f,i,u);Ot(e,"aoRowCreatedCallback",null,[o,f,i])}h.nTr.setAttribute("role","row")}function z(e,n){var i=n.nTr,r=n._aData;if(i){var a=e.rowIdFn(r);a&&(i.id=a),r.DT_RowClass&&(a=r.DT_RowClass.split(" "),n.__rowc=n.__rowc?he(n.__rowc.concat(a)):a,t(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&t(i).attr(r.DT_RowAttr),r.DT_RowData&&t(i).data(r.DT_RowData)}}function L(e){var n,i,r,a,o,s=e.nTHead,l=e.nTFoot,u=0===t("th, td",s).length,c=e.oClasses,h=e.aoColumns;for(u&&(a=t("<tr/>").appendTo(s)),n=0,i=h.length;i>n;n++)o=h[n],r=t(o.nTh).addClass(o.sClass),u&&r.appendTo(a),e.oFeatures.bSort&&(r.addClass(o.sSortingClass),!1!==o.bSortable&&(r.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Mt(e,o.nTh,n))),o.sTitle!=r[0].innerHTML&&r.html(o.sTitle),Et(e,"header")(e,r,o,c);if(u&&E(e.aoHeader,s),t(s).find(">tr").attr("role","row"),t(s).find(">tr>th, >tr>td").addClass(c.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==l)for(e=e.aoFooter[0],n=0,i=e.length;i>n;n++)o=h[n],o.nTf=e[n].cell,o.sClass&&t(o.nTf).addClass(o.sClass)}function B(e,n,r){var a,o,s,l,u=[],c=[],h=e.aoColumns.length;if(n){for(r===i&&(r=!1),a=0,o=n.length;o>a;a++){for(u[a]=n[a].slice(),u[a].nTr=n[a].nTr,s=h-1;s>=0;s--)!e.aoColumns[s].bVisible&&!r&&u[a].splice(s,1);c.push([])}for(a=0,o=u.length;o>a;a++){if(e=u[a].nTr)for(;s=e.firstChild;)e.removeChild(s);for(s=0,n=u[a].length;n>s;s++)if(l=h=1,c[a][s]===i){for(e.appendChild(u[a][s].cell),c[a][s]=1;u[a+h]!==i&&u[a][s].cell==u[a+h][s].cell;)c[a+h][s]=1,h++;for(;u[a][s+l]!==i&&u[a][s].cell==u[a][s+l].cell;){for(r=0;h>r;r++)c[a+r][s+l]=1;l++}t(u[a][s].cell).attr("rowspan",h).attr("colspan",l)}}}}function G(e){var n=Ot(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==t.inArray(!1,n))ft(e,!1);else{var n=[],r=0,a=e.asStripeClasses,o=a.length,s=e.oLanguage,l=e.iInitDisplayStart,u="ssp"==Pt(e),c=e.aiDisplay;e.bDrawing=!0,l!==i&&-1!==l&&(e._iDisplayStart=u?l:l>=e.fnRecordsDisplay()?0:l,e.iInitDisplayStart=-1);var l=e._iDisplayStart,h=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ft(e,!1);else if(u){if(!e.bDestroying&&!R(e))return}else e.iDraw++;if(0!==c.length)for(s=u?e.aoData.length:h,u=u?0:l;s>u;u++){var f=c[u],d=e.aoData[f];if(null===d.nTr&&j(e,f),f=d.nTr,0!==o){var g=a[r%o];d._sRowStripe!=g&&(t(f).removeClass(d._sRowStripe).addClass(g),d._sRowStripe=g)}Ot(e,"aoRowCallback",null,[f,d._aData,r,u]),n.push(f),r++}else r=s.sZeroRecords,1==e.iDraw&&"ajax"==Pt(e)?r=s.sLoadingRecords:s.sEmptyTable&&0===e.fnRecordsTotal()&&(r=s.sEmptyTable),n[0]=t("<tr/>",{"class":o?a[0]:""}).append(t("<td />",{valign:"top",colSpan:m(e),"class":e.oClasses.sRowEmpty}).html(r))[0];Ot(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],N(e),l,h,c]),Ot(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],N(e),l,h,c]),a=t(e.nTBody),a.children().detach(),a.append(t(n)),Ot(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}}function O(t,e){var n=t.oFeatures,i=n.bFilter;n.bSort&&At(t),i?H(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,G(t),t._drawHold=!1}function Z(e){var n=e.oClasses,i=t(e.nTable),i=t("<div/>").insertBefore(i),r=e.oFeatures,a=t("<div/>",{id:e.sTableId+"_wrapper","class":n.sWrapper+(e.nTFoot?"":" "+n.sNoFooter)});e.nHolding=i[0],e.nTableWrapper=a[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var o,s,l,u,c,h,f=e.sDom.split(""),d=0;d<f.length;d++){if(o=null,s=f[d],"<"==s){if(l=t("<div/>")[0],u=f[d+1],"'"==u||'"'==u){for(c="",h=2;f[d+h]!=u;)c+=f[d+h],h++;"H"==c?c=n.sJUIHeader:"F"==c&&(c=n.sJUIFooter),-1!=c.indexOf(".")?(u=c.split("."),l.id=u[0].substr(1,u[0].length-1),l.className=u[1]):"#"==c.charAt(0)?l.id=c.substr(1,c.length-1):l.className=c,d+=h}a.append(l),a=t(l)}else if(">"==s)a=a.parent();else if("l"==s&&r.bPaginate&&r.bLengthChange)o=lt(e);else if("f"==s&&r.bFilter)o=X(e);else if("r"==s&&r.bProcessing)o=ht(e);else if("t"==s)o=dt(e);else if("i"==s&&r.bInfo)o=nt(e);else if("p"==s&&r.bPaginate)o=ut(e);else if(0!==Yt.ext.feature.length)for(l=Yt.ext.feature,h=0,u=l.length;u>h;h++)if(s==l[h].cFeature){o=l[h].fnInit(e);break}o&&(l=e.aanFeatures,l[s]||(l[s]=[]),l[s].push(o),a.append(o))}i.replaceWith(a),e.nHolding=null}function E(e,n){var i,r,a,o,s,l,u,c,h,f,d=t(n).children("tr");for(e.splice(0,e.length),a=0,l=d.length;l>a;a++)e.push([]);for(a=0,l=d.length;l>a;a++)for(i=d[a],r=i.firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase()){for(c=1*r.getAttribute("colspan"),h=1*r.getAttribute("rowspan"),c=c&&0!==c&&1!==c?c:1,h=h&&0!==h&&1!==h?h:1,o=0,s=e[a];s[o];)o++;for(u=o,f=1===c?!0:!1,s=0;c>s;s++)for(o=0;h>o;o++)e[a+o][u+s]={cell:r,unique:f},e[a+o].nTr=i}r=r.nextSibling}}function P(t,e,n){var i=[];n||(n=t.aoHeader,e&&(n=[],E(n,e)));for(var e=0,r=n.length;r>e;e++)for(var a=0,o=n[e].length;o>a;a++)!n[e][a].unique||i[a]&&t.bSortCellsTop||(i[a]=n[e][a].cell);return i}function F(e,n,i){if(Ot(e,"aoServerParams","serverParams",[n]),n&&t.isArray(n)){var r={},a=/(.*?)\[\]$/;t.each(n,function(t,e){var n=e.name.match(a);n?(n=n[0],r[n]||(r[n]=[]),r[n].push(e.value)):r[e.name]=e.value}),n=r}var o,s=e.ajax,l=e.oInstance,u=function(t){Ot(e,null,"xhr",[e,t,e.jqXHR]),i(t)};if(t.isPlainObject(s)&&s.data){o=s.data;var c=t.isFunction(o)?o(n,e):o,n=t.isFunction(o)&&c?c:t.extend(!0,n,c);delete s.data}c={data:n,success:function(t){var n=t.error||t.sError;n&&jt(e,0,n),e.json=t,u(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(n,i){var r=Ot(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,r)&&("parsererror"==i?jt(e,0,"Invalid JSON response",1):4===n.readyState&&jt(e,0,"Ajax error",7)),ft(e,!1)}},e.oAjaxData=n,Ot(e,null,"preXhr",[e,n]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(n,function(t,e){return{name:e,value:t}}),u,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=t.ajax(t.extend(c,{url:s||e.sAjaxSource})):t.isFunction(s)?e.jqXHR=s.call(l,n,u,e):(e.jqXHR=t.ajax(t.extend(c,s)),s.data=o)}function R(t){return t.bAjaxDataGet?(t.iDraw++,ft(t,!0),F(t,W(t),function(e){Y(t,e)}),!1):!0}function W(e){var n,i,r,a,o=e.aoColumns,s=o.length,l=e.oFeatures,u=e.oPreviousSearch,c=e.aoPreSearchCols,h=[],f=xt(e);n=e._iDisplayStart,i=!1!==l.bPaginate?e._iDisplayLength:-1;var d=function(t,e){h.push({name:t,value:e})};d("sEcho",e.iDraw),d("iColumns",s),d("sColumns",se(o,"sName").join(",")),d("iDisplayStart",n),d("iDisplayLength",i);var g={draw:e.iDraw,columns:[],order:[],start:n,length:i,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;s>n;n++)r=o[n],a=c[n],i="function"==typeof r.mData?"function":r.mData,g.columns.push({data:i,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:a.sSearch,regex:a.bRegex}}),d("mDataProp_"+n,i),l.bFilter&&(d("sSearch_"+n,a.sSearch),d("bRegex_"+n,a.bRegex),d("bSearchable_"+n,r.bSearchable)),l.bSort&&d("bSortable_"+n,r.bSortable);return l.bFilter&&(d("sSearch",u.sSearch),d("bRegex",u.bRegex)),l.bSort&&(t.each(f,function(t,e){g.order.push({column:e.col,dir:e.dir}),d("iSortCol_"+t,e.col),d("sSortDir_"+t,e.dir)}),d("iSortingCols",f.length)),o=Yt.ext.legacy.ajax,null===o?e.sAjaxSource?h:g:o?h:g}function Y(t,e){var n=U(t,e),r=e.sEcho!==i?e.sEcho:e.draw,a=e.iTotalRecords!==i?e.iTotalRecords:e.recordsTotal,o=e.iTotalDisplayRecords!==i?e.iTotalDisplayRecords:e.recordsFiltered;if(r){if(1*r<t.iDraw)return;t.iDraw=1*r}for(S(t),t._iRecordsTotal=parseInt(a,10),t._iRecordsDisplay=parseInt(o,10),r=0,a=n.length;a>r;r++)C(t,n[r]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,G(t),t._bInitComplete||ot(t,e),t.bAjaxDataGet=!0,ft(t,!1)}function U(e,n){var r=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==i?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===r?n.aaData||n[r]:""!==r?_(r)(n):n}function X(e){var i=e.oClasses,r=e.sTableId,a=e.oLanguage,o=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',u=a.sSearch,u=u.match(/_INPUT_/)?u.replace("_INPUT_",l):u+l,i=t("<div/>",{id:s.f?null:r+"_filter","class":i.sFilter}).append(t("<label/>").append(u)),s=function(){var t=this.value?this.value:"";t!=o.sSearch&&(H(e,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),e._iDisplayStart=0,G(e))},l=null!==e.searchDelay?e.searchDelay:"ssp"===Pt(e)?400:0,c=t("input",i).val(o.sSearch).attr("placeholder",a.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",l?vt(s,l):s).bind("keypress.DT",function(t){return 13==t.keyCode?!1:void 0}).attr("aria-controls",r);return t(e.nTable).on("search.dt.DT",function(t,i){if(e===i)try{c[0]!==n.activeElement&&c.val(o.sSearch)}catch(r){}}),i[0]}function H(t,e,n){var r=t.oPreviousSearch,a=t.aoPreSearchCols,o=function(t){r.sSearch=t.sSearch,r.bRegex=t.bRegex,r.bSmart=t.bSmart,r.bCaseInsensitive=t.bCaseInsensitive};if(y(t),"ssp"!=Pt(t)){for($(t,e.sSearch,n,e.bEscapeRegex!==i?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),o(e),e=0;e<a.length;e++)J(t,a[e].sSearch,e,a[e].bEscapeRegex!==i?!a[e].bEscapeRegex:a[e].bRegex,a[e].bSmart,a[e].bCaseInsensitive);V(t)}else o(e);t.bFiltered=!0,Ot(t,null,"search",[t])}function V(e){for(var n,i,r=Yt.ext.search,a=e.aiDisplay,o=0,s=r.length;s>o;o++){for(var l=[],u=0,c=a.length;c>u;u++)i=a[u],n=e.aoData[i],r[o](e,n._aFilterData,i,n._aData,u)&&l.push(i);a.length=0,t.merge(a,l)}}function J(t,e,n,i,r,a){if(""!==e)for(var o=t.aiDisplay,i=Q(e,i,r,a),r=o.length-1;r>=0;r--)e=t.aoData[o[r]]._aFilterData[n],i.test(e)||o.splice(r,1)}function $(t,e,n,i,r,a){var o,i=Q(e,i,r,a),r=t.oPreviousSearch.sSearch,a=t.aiDisplayMaster;if(0!==Yt.ext.search.length&&(n=!0),o=q(t),0>=e.length)t.aiDisplay=a.slice();else for((o||n||r.length>e.length||0!==e.indexOf(r)||t.bSorted)&&(t.aiDisplay=a.slice()),e=t.aiDisplay,n=e.length-1;n>=0;n--)i.test(t.aoData[e[n]]._sFilterRow)||e.splice(n,1)}function Q(e,n,i,r){return e=n?e:K(e),i&&(e="^(?=.*?"+t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0))var e=t.match(/^"(.*)"$/),t=e?e[1]:t;return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(e,r?"i":"")}function K(t){return t.replace(te,"\\$1")}function q(t){var e,n,i,r,a,o,s,l,u=t.aoColumns,c=Yt.ext.type.search;for(e=!1,n=0,r=t.aoData.length;r>n;n++)if(l=t.aoData[n],!l._aFilterData){for(o=[],i=0,a=u.length;a>i;i++)e=u[i],e.bSearchable?(s=x(t,n,i,"filter"),c[e.sType]&&(s=c[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(pe.innerHTML=s,s=me?pe.textContent:pe.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),o.push(s);l._aFilterData=o,l._sFilterRow=o.join("  "),e=!0}return e}function tt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(e){var n=e.sTableId,i=e.aanFeatures.i,r=t("<div/>",{"class":e.oClasses.sInfo,id:i?null:n+"_info"});return i||(e.aoDrawCallback.push({fn:it,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",n+"_info")),r[0]}function it(e){var n=e.aanFeatures.i;if(0!==n.length){var i=e.oLanguage,r=e._iDisplayStart+1,a=e.fnDisplayEnd(),o=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==o&&(l+=" "+i.sInfoFiltered),l+=i.sInfoPostFix,l=rt(e,l),i=i.fnInfoCallback,null!==i&&(l=i.call(e.oInstance,e,r,a,o,s,l)),t(n).html(l)}}function rt(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,r=t._iDisplayLength,a=t.fnRecordsDisplay(),o=-1===r;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,a)).replace(/_PAGE_/g,n.call(t,o?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(t,o?1:Math.ceil(a/r)))}function at(t){var e,n,i,r=t.iInitDisplayStart,a=t.aoColumns;n=t.oFeatures;var o=t.bDeferLoading;if(t.bInitialised){for(Z(t),L(t),B(t,t.aoHeader),B(t,t.aoFooter),ft(t,!0),n.bAutoWidth&&mt(t),e=0,n=a.length;n>e;e++)i=a[e],i.sWidth&&(i.nTh.style.width=bt(i.sWidth));Ot(t,null,"preInit",[t]),O(t),a=Pt(t),("ssp"!=a||o)&&("ajax"==a?F(t,[],function(n){var i=U(t,n);for(e=0;e<i.length;e++)C(t,i[e]);t.iInitDisplayStart=r,O(t),ft(t,!1),ot(t,n)},t):(ft(t,!1),ot(t)))}else setTimeout(function(){at(t)},200)}function ot(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&d(t),Ot(t,null,"plugin-init",[t,e]),Ot(t,"aoInitComplete","init",[t,e])}function st(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Zt(t),Ot(t,null,"length",[t,n])}function lt(e){for(var n=e.oClasses,i=e.sTableId,r=e.aLengthMenu,a=t.isArray(r[0]),o=a?r[0]:r,r=a?r[1]:r,a=t("<select/>",{name:i+"_length","aria-controls":i,"class":n.sLengthSelect}),s=0,l=o.length;l>s;s++)a[0][s]=new Option(r[s],o[s]);var u=t("<div><label/></div>").addClass(n.sLength);return e.aanFeatures.l||(u[0].id=i+"_length"),u.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),t("select",u).val(e._iDisplayLength).bind("change.DT",function(){st(e,t(this).val()),G(e)}),t(e.nTable).bind("length.dt.DT",function(n,i,r){e===i&&t("select",u).val(r)}),u[0]}function ut(e){var n=e.sPaginationType,i=Yt.ext.pager[n],r="function"==typeof i,a=function(t){G(t)},n=t("<div/>").addClass(e.oClasses.sPaging+n)[0],o=e.aanFeatures;return r||i.fnInit(e,n,a),o.p||(n.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(r){var e,n=t._iDisplayStart,s=t._iDisplayLength,l=t.fnRecordsDisplay(),u=-1===s,n=u?0:Math.ceil(n/s),s=u?1:Math.ceil(l/s),l=i(n,s),u=0;for(e=o.p.length;e>u;u++)Et(t,"pageButton")(t,o.p[u],u,l,n,s)}else i.fnUpdate(t,a)},sName:"pagination"})),n}function ct(t,e,n){var i=t._iDisplayStart,r=t._iDisplayLength,a=t.fnRecordsDisplay();return 0===a||-1===r?i=0:"number"==typeof e?(i=e*r,i>a&&(i=0)):"first"==e?i=0:"previous"==e?(i=r>=0?i-r:0,0>i&&(i=0)):"next"==e?a>i+r&&(i+=r):"last"==e?i=Math.floor((a-1)/r)*r:jt(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==i,t._iDisplayStart=i,e&&(Ot(t,null,"page",[t]),n&&G(t)),e}function ht(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function ft(e,n){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",n?"block":"none"),Ot(e,null,"processing",[e,n])}function dt(e){var n=t(e.nTable);n.attr("role","grid");var i=e.oScroll;if(""===i.sX&&""===i.sY)return e.nTable;var r=i.sX,a=i.sY,o=e.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,u=t(n[0].cloneNode(!1)),c=t(n[0].cloneNode(!1)),h=n.children("tfoot");h.length||(h=null),u=t("<div/>",{"class":o.sScrollWrapper}).append(t("<div/>",{"class":o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?r?bt(r):null:"100%"}).append(t("<div/>",{"class":o.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(t("<div/>",{"class":o.sScrollBody}).css({position:"relative",overflow:"auto",width:r?bt(r):null}).append(n)),h&&u.append(t("<div/>",{"class":o.sScrollFoot}).css({overflow:"hidden",border:0,width:r?r?bt(r):null:"100%"}).append(t("<div/>",{"class":o.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var n=u.children(),f=n[0],o=n[1],d=h?n[2]:null;return r&&t(o).on("scroll.DT",function(){var t=this.scrollLeft;f.scrollLeft=t,h&&(d.scrollLeft=t)}),t(o).css(a&&i.bCollapse?"max-height":"height",a),e.nScrollHead=f,e.nScrollBody=o,e.nScrollFoot=d,e.aoDrawCallback.push({fn:gt,sName:"scrolling"}),u[0]}function gt(e){var n,r,a,o,s,l=e.oScroll,u=l.sX,c=l.sXInner,h=l.sY,l=l.iBarWidth,f=t(e.nScrollHead),p=f[0].style,m=f.children("div"),v=m[0].style,y=m.children("table"),m=e.nScrollBody,I=t(m),C=m.style,b=t(e.nScrollFoot).children("div"),x=b.children("table"),A=t(e.nTHead),w=t(e.nTable),_=w[0],M=_.style,N=e.nTFoot?t(e.nTFoot):null,S=e.oBrowser,D=S.bScrollOversize,k=se(e.aoColumns,"nTh"),T=[],j=[],z=[],L=[],B=function(t){t=t.style,t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};r=m.scrollHeight>m.clientHeight,e.scrollBarVis!==r&&e.scrollBarVis!==i?(e.scrollBarVis=r,d(e)):(e.scrollBarVis=r,w.children("thead, tfoot").remove(),N&&(a=N.clone().prependTo(w),n=N.find("tr"),a=a.find("tr")),o=A.clone().prependTo(w),A=A.find("tr"),r=o.find("tr"),o.find("th, td").removeAttr("tabindex"),u||(C.width="100%",f[0].style.width="100%"),t.each(P(e,o),function(t,n){s=g(e,t),n.style.width=e.aoColumns[s].sWidth}),N&&pt(function(t){t.style.width=""},a),f=w.outerWidth(),""===u?(M.width="100%",D&&(w.find("tbody").height()>m.offsetHeight||"scroll"==I.css("overflow-y"))&&(M.width=bt(w.outerWidth()-l)),f=w.outerWidth()):""!==c&&(M.width=bt(c),f=w.outerWidth()),pt(B,r),pt(function(e){z.push(e.innerHTML),T.push(bt(t(e).css("width")))},r),pt(function(e,n){-1!==t.inArray(e,k)&&(e.style.width=T[n])},A),t(r).height(0),N&&(pt(B,a),pt(function(e){L.push(e.innerHTML),j.push(bt(t(e).css("width")))},a),pt(function(t,e){t.style.width=j[e]},n),t(a).height(0)),pt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+z[e]+"</div>",t.style.width=T[e]},r),N&&pt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+L[e]+"</div>",t.style.width=j[e]},a),w.outerWidth()<f?(n=m.scrollHeight>m.offsetHeight||"scroll"==I.css("overflow-y")?f+l:f,D&&(m.scrollHeight>m.offsetHeight||"scroll"==I.css("overflow-y"))&&(M.width=bt(n-l)),(""===u||""!==c)&&jt(e,1,"Possible column misalignment",6)):n="100%",C.width=bt(n),p.width=bt(n),N&&(e.nScrollFoot.style.width=bt(n)),!h&&D&&(C.height=bt(_.offsetHeight+l)),u=w.outerWidth(),y[0].style.width=bt(u),v.width=bt(u),c=w.height()>m.clientHeight||"scroll"==I.css("overflow-y"),h="padding"+(S.bScrollbarLeft?"Left":"Right"),v[h]=c?l+"px":"0px",N&&(x[0].style.width=bt(u),b[0].style.width=bt(u),b[0].style[h]=c?l+"px":"0px"),w.children("colgroup").insertBefore(w.children("thead")),I.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(m.scrollTop=0))}function pt(t,e,n){for(var i,r,a=0,o=0,s=e.length;s>o;){for(i=e[o].firstChild,r=n?n[o].firstChild:null;i;)1===i.nodeType&&(n?t(i,r,a):t(i,a),a++),i=i.nextSibling,r=n?r.nextSibling:null;o++}}function mt(n){var i,r,a=n.nTable,o=n.aoColumns,s=n.oScroll,l=s.sY,u=s.sX,c=s.sXInner,h=o.length,f=v(n,"bVisible"),p=t("th",n.nTHead),y=a.getAttribute("width"),I=a.parentNode,C=!1,b=n.oBrowser,s=b.bScrollOversize;for((i=a.style.width)&&-1!==i.indexOf("%")&&(y=i),i=0;i<f.length;i++)r=o[f[i]],null!==r.sWidth&&(r.sWidth=yt(r.sWidthOrig,I),C=!0);if(s||!C&&!u&&!l&&h==m(n)&&h==p.length)for(i=0;h>i;i++)f=g(n,i),null!==f&&(o[f].sWidth=bt(p.eq(i).width()));else{h=t(a).clone().css("visibility","hidden").removeAttr("id"),h.find("tbody tr").remove();var x=t("<tr/>").appendTo(h.find("tbody"));for(h.find("thead, tfoot").remove(),h.append(t(n.nTHead).clone()).append(t(n.nTFoot).clone()),h.find("tfoot th, tfoot td").css("width",""),p=P(n,h.find("thead")[0]),i=0;i<f.length;i++)r=o[f[i]],p[i].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?bt(r.sWidthOrig):"",r.sWidthOrig&&u&&t(p[i]).append(t("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<f.length;i++)C=f[i],r=o[C],t(It(n,C)).clone(!1).append(r.sContentPadding).appendTo(x);for(t("[name]",h).removeAttr("name"),r=t("<div/>").css(u||l?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(h).appendTo(I),u&&c?h.width(c):u?(h.css("width","auto"),h.removeAttr("width"),h.width()<I.clientWidth&&y&&h.width(I.clientWidth)):l?h.width(I.clientWidth):y&&h.width(y),i=l=0;i<f.length;i++)I=t(p[i]),c=I.outerWidth()-I.width(),I=b.bBounding?Math.ceil(p[i].getBoundingClientRect().width):I.outerWidth(),l+=I,o[f[i]].sWidth=bt(I-c);a.style.width=bt(l),r.remove()}y&&(a.style.width=bt(y)),!y&&!u||n._reszEvt||(a=function(){t(e).bind("resize.DT-"+n.sInstance,vt(function(){d(n)}))},s?setTimeout(a,1e3):a(),n._reszEvt=!0)}function vt(t,e){var n,r,a=e!==i?e:200;return function(){var e=this,o=+new Date,s=arguments;n&&n+a>o?(clearTimeout(r),r=setTimeout(function(){n=i,t.apply(e,s)},a)):(n=o,t.apply(e,s))}}function yt(e,i){if(!e)return 0;var r=t("<div/>").css("width",bt(e)).appendTo(i||n.body),a=r[0].offsetWidth;return r.remove(),a}function It(e,n){var i=Ct(e,n);if(0>i)return null;var r=e.aoData[i];return r.nTr?r.anCells[n]:t("<td/>").html(x(e,i,n,"display"))[0]}function Ct(t,e){for(var n,i=-1,r=-1,a=0,o=t.aoData.length;o>a;a++)n=x(t,a,e,"display")+"",n=n.replace(ve,""),n=n.replace(/&nbsp;/g," "),n.length>i&&(i=n.length,r=a);return r}function bt(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function xt(e){var n,r,a,o,s,l,u=[],c=e.aoColumns;n=e.aaSortingFixed,r=t.isPlainObject(n);var h=[];for(a=function(e){e.length&&!t.isArray(e[0])?h.push(e):t.merge(h,e)},t.isArray(n)&&a(n),r&&n.pre&&a(n.pre),a(e.aaSorting),r&&n.post&&a(n.post),e=0;e<h.length;e++)for(l=h[e][0],a=c[l].aDataSort,n=0,r=a.length;r>n;n++)o=a[n],s=c[o].sType||"string",h[e]._idx===i&&(h[e]._idx=t.inArray(h[e][1],c[o].asSorting)),u.push({src:l,col:o,dir:h[e][1],index:h[e]._idx,type:s,formatter:Yt.ext.type.order[s+"-pre"]});return u}function At(t){var e,n,i,r,a=[],o=Yt.ext.type.order,s=t.aoData,l=0,u=t.aiDisplayMaster;for(y(t),r=xt(t),e=0,n=r.length;n>e;e++)i=r[e],i.formatter&&l++,St(t,i.col);if("ssp"!=Pt(t)&&0!==r.length){for(e=0,n=u.length;n>e;e++)a[u[e]]=e;l===r.length?u.sort(function(t,e){var n,i,o,l,u=r.length,c=s[t]._aSortData,h=s[e]._aSortData;for(o=0;u>o;o++)if(l=r[o],n=c[l.col],i=h[l.col],n=i>n?-1:n>i?1:0,0!==n)return"asc"===l.dir?n:-n;return n=a[t],i=a[e],i>n?-1:n>i?1:0}):u.sort(function(t,e){var n,i,l,u,c=r.length,h=s[t]._aSortData,f=s[e]._aSortData;for(l=0;c>l;l++)if(u=r[l],n=h[u.col],i=f[u.col],u=o[u.type+"-"+u.dir]||o["string-"+u.dir],n=u(n,i),0!==n)return n;return n=a[t],i=a[e],i>n?-1:n>i?1:0})}t.bSorted=!0}function wt(t){for(var e,n,i=t.aoColumns,r=xt(t),t=t.oLanguage.oAria,a=0,o=i.length;o>a;a++){n=i[a];var s=n.asSorting;e=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<r.length&&r[0].col==a?(l.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=s[r[0].index+1]||s[0]):n=s[0],e+="asc"===n?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function _t(e,n,r,a){var o=e.aaSorting,s=e.aoColumns[n].asSorting,l=function(e,n){var r=e._idx;return r===i&&(r=t.inArray(e[1],s)),r+1<s.length?r+1:n?null:0};"number"==typeof o[0]&&(o=e.aaSorting=[o]),r&&e.oFeatures.bSortMulti?(r=t.inArray(n,se(o,"0")),-1!==r?(n=l(o[r],!0),null===n&&1===o.length&&(n=0),null===n?o.splice(r,1):(o[r][1]=s[n],
o[r]._idx=n)):(o.push([n,s[0],0]),o[o.length-1]._idx=0)):o.length&&o[0][0]==n?(n=l(o[0]),o.length=1,o[0][1]=s[n],o[0]._idx=n):(o.length=0,o.push([n,s[0]]),o[0]._idx=0),O(e),"function"==typeof a&&a(e)}function Mt(t,e,n,i){var r=t.aoColumns[n];Bt(e,{},function(e){!1!==r.bSortable&&(t.oFeatures.bProcessing?(ft(t,!0),setTimeout(function(){_t(t,n,e.shiftKey,i),"ssp"!==Pt(t)&&ft(t,!1)},0)):_t(t,n,e.shiftKey,i))})}function Nt(e){var n,i,r=e.aLastSort,a=e.oClasses.sSortColumn,o=xt(e),s=e.oFeatures;if(s.bSort&&s.bSortClasses){for(s=0,n=r.length;n>s;s++)i=r[s].src,t(se(e.aoData,"anCells",i)).removeClass(a+(2>s?s+1:3));for(s=0,n=o.length;n>s;s++)i=o[s].src,t(se(e.aoData,"anCells",i)).addClass(a+(2>s?s+1:3))}e.aLastSort=o}function St(t,e){var n,i=t.aoColumns[e],r=Yt.ext.order[i.sSortDataType];r&&(n=r.call(t.oInstance,t,e,p(t,e)));for(var a,o=Yt.ext.type.order[i.sType+"-pre"],s=0,l=t.aoData.length;l>s;s++)i=t.aoData[s],i._aSortData||(i._aSortData=[]),(!i._aSortData[e]||r)&&(a=r?n[s]:x(t,s,e,"sort"),i._aSortData[e]=o?o(a):a)}function Dt(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var n={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:tt(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:tt(e.aoPreSearchCols[n])}})};Ot(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.oSavedState=n,e.fnStateSaveCallback.call(e.oInstance,e,n)}}function kt(e){var n,r,a=e.aoColumns;if(e.oFeatures.bStateSave){var o=e.fnStateLoadCallback.call(e.oInstance,e);if(o&&o.time&&(n=Ot(e,"aoStateLoadParams","stateLoadParams",[e,o]),-1===t.inArray(!1,n)&&(n=e.iStateDuration,!(n>0&&o.time<+new Date-1e3*n)&&a.length===o.columns.length))){for(e.oLoadedState=t.extend(!0,{},o),o.start!==i&&(e._iDisplayStart=o.start,e.iInitDisplayStart=o.start),o.length!==i&&(e._iDisplayLength=o.length),o.order!==i&&(e.aaSorting=[],t.each(o.order,function(t,n){e.aaSorting.push(n[0]>=a.length?[0,n[1]]:n)})),o.search!==i&&t.extend(e.oPreviousSearch,et(o.search)),n=0,r=o.columns.length;r>n;n++){var s=o.columns[n];s.visible!==i&&(a[n].bVisible=s.visible),s.search!==i&&t.extend(e.aoPreSearchCols[n],et(s.search))}Ot(e,"aoStateLoaded","stateLoaded",[e,o])}}}function Tt(e){var n=Yt.settings,e=t.inArray(e,se(n,"nTable"));return-1!==e?n[e]:null}function jt(t,n,i,r){if(i="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)e.console&&console.log&&console.log(i);else if(n=Yt.ext,n=n.sErrMode||n.errMode,t&&Ot(t,null,"error",[t,r,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(t,r,i)}}function zt(e,n,r,a){t.isArray(r)?t.each(r,function(i,r){t.isArray(r)?zt(e,n,r[0],r[1]):zt(e,n,r)}):(a===i&&(a=r),n[r]!==i&&(e[a]=n[r]))}function Lt(e,n,i){var r,a;for(a in n)n.hasOwnProperty(a)&&(r=n[a],t.isPlainObject(r)?(t.isPlainObject(e[a])||(e[a]={}),t.extend(!0,e[a],r)):e[a]=i&&"data"!==a&&"aaData"!==a&&t.isArray(r)?r.slice():r);return e}function Bt(e,n,i){t(e).bind("click.DT",n,function(t){e.blur(),i(t)}).bind("keypress.DT",n,function(t){13===t.which&&(t.preventDefault(),i(t))}).bind("selectstart.DT",function(){return!1})}function Gt(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function Ot(e,n,i,r){var a=[];return n&&(a=t.map(e[n].slice().reverse(),function(t){return t.fn.apply(e.oInstance,r)})),null!==i&&(n=t.Event(i+".dt"),t(e.nTable).trigger(n,r),a.push(n.result)),a}function Zt(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;e>=n&&(e=n-i),e-=e%i,(-1===i||0>e)&&(e=0),t._iDisplayStart=e}function Et(e,n){var i=e.renderer,r=Yt.ext.renderer[n];return t.isPlainObject(i)&&i[n]?r[i[n]]||r._:"string"==typeof i?r[i]||r._:r._}function Pt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Ft(t,e){var n=[],n=Le.numbers_length,i=Math.floor(n/2);return n>=e?n=ue(0,e):i>=t?(n=ue(0,n-2),n.push("ellipsis"),n.push(e-1)):(t>=e-1-i?n=ue(e-(n-2),e):(n=ue(t-i+2,t+i-1),n.push("ellipsis"),n.push(e-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Rt(e){t.each({num:function(t){return Be(t,e)},"num-fmt":function(t){return Be(t,e,ee)},"html-num":function(t){return Be(t,e,Qt)},"html-num-fmt":function(t){return Be(t,e,Qt,ee)}},function(t,n){Ut.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(Ut.type.search[t+e]=Ut.type.search.html)})}function Wt(t){return function(){var e=[Tt(this[Yt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Yt.ext.internal[t].apply(this,e)}}var Yt,Ut,Xt,Ht,Vt,Jt={},$t=/[\r\n]/g,Qt=/<.*?>/g,Kt=/^[\w\+\-]/,qt=/[\w\+\-]$/,te=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),ee=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ne=function(t){return t&&!0!==t&&"-"!==t?!1:!0},ie=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},re=function(t,e){return Jt[e]||(Jt[e]=RegExp(K(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Jt[e],"."):t},ae=function(t,e,n){var i="string"==typeof t;return ne(t)?!0:(e&&i&&(t=re(t,e)),n&&i&&(t=t.replace(ee,"")),!isNaN(parseFloat(t))&&isFinite(t))},oe=function(t,e,n){return ne(t)?!0:(ne(t)||"string"==typeof t)&&ae(t.replace(Qt,""),e,n)?!0:null},se=function(t,e,n){var r=[],a=0,o=t.length;if(n!==i)for(;o>a;a++)t[a]&&t[a][e]&&r.push(t[a][e][n]);else for(;o>a;a++)t[a]&&r.push(t[a][e]);return r},le=function(t,e,n,r){var a=[],o=0,s=e.length;if(r!==i)for(;s>o;o++)t[e[o]][n]&&a.push(t[e[o]][n][r]);else for(;s>o;o++)a.push(t[e[o]][n]);return a},ue=function(t,e){var n,r=[];e===i?(e=0,n=t):(n=e,e=t);for(var a=e;n>a;a++)r.push(a);return r},ce=function(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n]&&e.push(t[n]);return e},he=function(t){var e,n,i,r=[],a=t.length,o=0;n=0;t:for(;a>n;n++){for(e=t[n],i=0;o>i;i++)if(r[i]===e)continue t;r.push(e),o++}return r},fe=function(t,e,n){t[e]!==i&&(t[n]=t[e])},de=/\[.*?\]$/,ge=/\(\)$/,pe=t("<div>")[0],me=pe.textContent!==i,ve=/<.*?>/g;Yt=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Xt(t?Tt(this[Ut.iApiIndex]):this)},this.fnAddData=function(e,n){var r=this.api(!0),a=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?r.rows.add(e):r.row.add(e);return(n===i||n)&&r.draw(),a.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],r=n.oScroll;t===i||t?e.draw(!1):(""!==r.sX||""!==r.sY)&&gt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===i||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var r=this.api(!0),t=r.rows(t),a=t.settings()[0],o=a.aoData[t[0][0]];return t.remove(),e&&e.call(this,a,o),(n===i||n)&&r.draw(),o},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,r,a,o){a=this.api(!0),null===e||e===i?a.search(t,n,r,o):a.column(e).search(t,n,r,o),a.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==i){var r=t.nodeName?t.nodeName.toLowerCase():"";return e!==i||"td"==r||"th"==r?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==i?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();return"TR"==n?e.row(t).index():"TD"==n||"TH"==n?(t=e.cell(t).index(),[t.row,t.columnVisible,t.column]):null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===i||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){t=this.api(!0).column(t).visible(e),(n===i||n)&&t.columns.adjust().draw()},this.fnSettings=function(){return Tt(this[Ut.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,r,a){var o=this.api(!0);return n===i||null===n?o.row(e).data(t):o.cell(e,n).data(t),(a===i||a)&&o.columns.adjust(),(r===i||r)&&o.draw(),0},this.fnVersionCheck=Ut.fnVersionCheck;var n=this,r=e===i,c=this.length;r&&(e={}),this.oApi=this.internal=Ut.internal;for(var d in Yt.ext.internal)d&&(this[d]=Wt(d));return this.each(function(){var d,g={},g=c>1?Lt(g,e,!0):e,p=0,m=this.getAttribute("id"),v=!1,y=Yt.defaults,x=t(this);if("table"!=this.nodeName.toLowerCase())jt(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{s(y),l(y.column),a(y,y,!0),a(y.column,y.column,!0),a(y,t.extend(g,x.data()));var A=Yt.settings,p=0;for(d=A.length;d>p;p++){var w=A[p];if(w.nTable==this||w.nTHead.parentNode==this||w.nTFoot&&w.nTFoot.parentNode==this){if(p=g.bRetrieve!==i?g.bRetrieve:y.bRetrieve,r||p)return w.oInstance;if(g.bDestroy!==i?g.bDestroy:y.bDestroy){w.oInstance.fnDestroy();break}return void jt(w,0,"Cannot reinitialise DataTable",3)}if(w.sTableId==this.id){A.splice(p,1);break}}(null===m||""===m)&&(this.id=m="DataTables_Table_"+Yt.ext._unique++);var M=t.extend(!0,{},Yt.models.oSettings,{sDestroyWidth:x[0].style.width,sInstance:m,sTableId:m});M.nTable=this,M.oApi=n.internal,M.oInit=g,A.push(M),M.oInstance=1===n.length?n:x.dataTable(),s(g),g.oLanguage&&o(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=t.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=Lt(t.extend(!0,{},y),g),zt(M.oFeatures,g,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),zt(M,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),zt(M.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),zt(M.oLanguage,g,"fnInfoCallback"),Gt(M,"aoDrawCallback",g.fnDrawCallback,"user"),Gt(M,"aoServerParams",g.fnServerParams,"user"),Gt(M,"aoStateSaveParams",g.fnStateSaveParams,"user"),Gt(M,"aoStateLoadParams",g.fnStateLoadParams,"user"),Gt(M,"aoStateLoaded",g.fnStateLoaded,"user"),Gt(M,"aoRowCallback",g.fnRowCallback,"user"),Gt(M,"aoRowCreatedCallback",g.fnCreatedRow,"user"),Gt(M,"aoHeaderCallback",g.fnHeaderCallback,"user"),Gt(M,"aoFooterCallback",g.fnFooterCallback,"user"),Gt(M,"aoInitComplete",g.fnInitComplete,"user"),Gt(M,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),M.rowIdFn=_(g.rowId),u(M),m=M.oClasses,g.bJQueryUI?(t.extend(m,Yt.ext.oJUIClasses,g.oClasses),g.sDom===y.sDom&&"lfrtip"===y.sDom&&(M.sDom='<"H"lfr>t<"F"ip>'),M.renderer?t.isPlainObject(M.renderer)&&!M.renderer.header&&(M.renderer.header="jqueryui"):M.renderer="jqueryui"):t.extend(m,Yt.ext.classes,g.oClasses),x.addClass(m.sTable),M.iInitDisplayStart===i&&(M.iInitDisplayStart=g.iDisplayStart,M._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading&&(M.bDeferLoading=!0,p=t.isArray(g.iDeferLoading),M._iRecordsDisplay=p?g.iDeferLoading[0]:g.iDeferLoading,M._iRecordsTotal=p?g.iDeferLoading[1]:g.iDeferLoading);var N=M.oLanguage;t.extend(!0,N,g.oLanguage),""!==N.sUrl&&(t.ajax({dataType:"json",url:N.sUrl,success:function(e){o(e),a(y.oLanguage,e),t.extend(!0,N,e),at(M)},error:function(){at(M)}}),v=!0),null===g.asStripeClasses&&(M.asStripeClasses=[m.sStripeOdd,m.sStripeEven]);var p=M.asStripeClasses,S=x.children("tbody").find("tr").eq(0);if(-1!==t.inArray(!0,t.map(p,function(t){return S.hasClass(t)}))&&(t("tbody tr",this).removeClass(p.join(" ")),M.asDestroyStripes=p.slice()),A=[],p=this.getElementsByTagName("thead"),0!==p.length&&(E(M.aoHeader,p[0]),A=P(M)),null===g.aoColumns)for(w=[],p=0,d=A.length;d>p;p++)w.push(null);else w=g.aoColumns;for(p=0,d=w.length;d>p;p++)h(M,A?A[p]:null);if(I(M,g.aoColumnDefs,w,function(t,e){f(M,t,e)}),S.length){var D=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(S[0]).children("th, td").each(function(t,e){var n=M.aoColumns[t];if(n.mData===t){var r=D(e,"sort")||D(e,"order"),a=D(e,"filter")||D(e,"search");(null!==r||null!==a)&&(n.mData={_:t+".display",sort:null!==r?t+".@data-"+r:i,type:null!==r?t+".@data-"+r:i,filter:null!==a?t+".@data-"+a:i},f(M,t))}})}var k=M.oFeatures;if(g.bStateSave&&(k.bStateSave=!0,kt(M,g),Gt(M,"aoDrawCallback",Dt,"state_save")),g.aaSorting===i)for(A=M.aaSorting,p=0,d=A.length;d>p;p++)A[p][1]=M.aoColumns[p].asSorting[0];if(Nt(M),k.bSort&&Gt(M,"aoDrawCallback",function(){if(M.bSorted){var e=xt(M),n={};t.each(e,function(t,e){n[e.src]=e.dir}),Ot(M,null,"order",[M,e,n]),wt(M)}}),Gt(M,"aoDrawCallback",function(){(M.bSorted||"ssp"===Pt(M)||k.bDeferRender)&&Nt(M)},"sc"),p=x.children("caption").each(function(){this._captionSide=x.css("caption-side")}),d=x.children("thead"),0===d.length&&(d=t("<thead/>").appendTo(this)),M.nTHead=d[0],d=x.children("tbody"),0===d.length&&(d=t("<tbody/>").appendTo(this)),M.nTBody=d[0],d=x.children("tfoot"),0===d.length&&0<p.length&&(""!==M.oScroll.sX||""!==M.oScroll.sY)&&(d=t("<tfoot/>").appendTo(this)),0===d.length||0===d.children().length?x.addClass(m.sNoFooter):0<d.length&&(M.nTFoot=d[0],E(M.aoFooter,M.nTFoot)),g.aaData)for(p=0;p<g.aaData.length;p++)C(M,g.aaData[p]);else(M.bDeferLoading||"dom"==Pt(M))&&b(M,t(M.nTBody).children("tr"));M.aiDisplay=M.aiDisplayMaster.slice(),M.bInitialised=!0,!1===v&&at(M)}}),n=null,this};var ye=[],Ie=Array.prototype,Ce=function(e){var n,i,r=Yt.settings,a=t.map(r,function(t){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(n=t.inArray(e,a),-1!==n?[r[n]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?i=t(e):e instanceof t&&(i=e),i?i.map(function(){return n=t.inArray(this,a),-1!==n?r[n]:null}).toArray():void 0):[]};Xt=function(e,n){if(!(this instanceof Xt))return new Xt(e,n);var i=[],r=function(t){(t=Ce(t))&&(i=i.concat(t))};if(t.isArray(e))for(var a=0,o=e.length;o>a;a++)r(e[a]);else r(e);this.context=he(i),n&&t.merge(this,n),this.selector={rows:null,cols:null,opts:null},Xt.extend(this,this,ye)},Yt.Api=Xt,t.extend(Xt.prototype,{any:function(){return 0!==this.count()},concat:Ie.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;n>e;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Xt(e[t],this[t]):null},filter:function(t){var e=[];if(Ie.filter)e=Ie.filter.call(this,t,this);else for(var n=0,i=this.length;i>n;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new Xt(this.context,e)},flatten:function(){var t=[];return new Xt(this.context,t.concat.apply(t,this.toArray()))},join:Ie.join,indexOf:Ie.indexOf||function(t,e){for(var n=e||0,i=this.length;i>n;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,r){var a,o,s,l,u,c,h,f=[],d=this.context,g=this.selector;for("string"==typeof t&&(r=n,n=e,e=t,t=!1),o=0,s=d.length;s>o;o++){var p=new Xt(d[o]);if("table"===e)a=n.call(p,d[o],o),a!==i&&f.push(a);else if("columns"===e||"rows"===e)a=n.call(p,d[o],this[o],o),a!==i&&f.push(a);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(h=this[o],"column-rows"===e&&(c=_e(d[o],g.opts)),l=0,u=h.length;u>l;l++)a=h[l],a="cell"===e?n.call(p,d[o],a.row,a.column,o,l):n.call(p,d[o],a,o,l,c),a!==i&&f.push(a)}return f.length||r?(t=new Xt(d,t?f.concat.apply([],f):f),e=t.selector,e.rows=g.rows,e.cols=g.cols,e.opts=g.opts,t):this},lastIndexOf:Ie.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(Ie.map)e=Ie.map.call(this,t,this);else for(var n=0,i=this.length;i>n;n++)e.push(t.call(this,this[n],n));return new Xt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:Ie.pop,push:Ie.push,reduce:Ie.reduce||function(t,e){return c(this,t,e,0,this.length,1)},reduceRight:Ie.reduceRight||function(t,e){return c(this,t,e,this.length-1,-1,-1)},reverse:Ie.reverse,selector:null,shift:Ie.shift,sort:Ie.sort,splice:Ie.splice,toArray:function(){return Ie.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new Xt(this.context,he(this))},unshift:Ie.unshift}),Xt.extend=function(e,n,i){if(i.length&&n&&(n instanceof Xt||n.__dt_wrapper)){var r,a,o,s=function(t,e,n){return function(){var i=e.apply(t,arguments);return Xt.extend(i,i,n.methodExt),i}};for(r=0,a=i.length;a>r;r++)o=i[r],n[o.name]="function"==typeof o.val?s(e,o.val,o):t.isPlainObject(o.val)?{}:o.val,n[o.name].__dt_wrapper=!0,Xt.extend(e,n[o.name],o.propExt)}},Xt.register=Ht=function(e,n){if(t.isArray(e))for(var i=0,r=e.length;r>i;i++)Xt.register(e[i],n);else for(var a,o,s=e.split("."),l=ye,i=0,r=s.length;r>i;i++){a=(o=-1!==s[i].indexOf("()"))?s[i].replace("()",""):s[i];var u;t:{u=0;for(var c=l.length;c>u;u++)if(l[u].name===a){u=l[u];break t}u=null}u||(u={name:a,val:{},methodExt:[],propExt:[]},l.push(u)),i===r-1?u.val=n:l=o?u.methodExt:u.propExt}},Xt.registerPlural=Vt=function(e,n,r){Xt.register(e,r),Xt.register(n,function(){var e=r.apply(this,arguments);return e===this?this:e instanceof Xt?e.length?t.isArray(e[0])?new Xt(e.context,e[0]):e[0]:i:e})},Ht("tables()",function(e){var n;if(e){n=Xt;var i=this.context;if("number"==typeof e)e=[i[e]];else var r=t.map(i,function(t){return t.nTable}),e=t(r).filter(e).map(function(){var e=t.inArray(this,r);return i[e]}).toArray();n=new n(e)}else n=this;return n}),Ht("table()",function(t){var t=this.tables(t),e=t.context;return e.length?new Xt(e[0]):t}),Vt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Vt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Vt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Vt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Vt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Ht("draw()",function(t){return this.iterator("table",function(e){"page"===t?G(e):("string"==typeof t&&(t="full-hold"===t?!1:!0),O(e,!1===t))})}),Ht("page()",function(t){return t===i?this.page.info().page:this.iterator("table",function(e){ct(e,t)})}),Ht("page.info()",function(){if(0===this.context.length)return i;var t=this.context[0],e=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,r=t.fnRecordsDisplay(),a=-1===n;return{page:a?0:Math.floor(e/n),pages:a?1:Math.ceil(r/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===Pt(t)}}),Ht("page.len()",function(t){return t===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(e){st(e,t)})});var be=function(t,e,n){if(n){var i=new Xt(t);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==Pt(t))O(t,e);else{ft(t,!0);var r=t.jqXHR;r&&4!==r.readyState&&r.abort(),F(t,[],function(n){S(t);for(var n=U(t,n),i=0,r=n.length;r>i;i++)C(t,n[i]);O(t,e),ft(t,!1)})}};Ht("ajax.json()",function(){var t=this.context;return 0<t.length?t[0].json:void 0}),Ht("ajax.params()",function(){var t=this.context;return 0<t.length?t[0].oAjaxData:void 0}),Ht("ajax.reload()",function(t,e){return this.iterator("table",function(n){be(n,!1===e,t)})}),Ht("ajax.url()",function(e){var n=this.context;return e===i?0===n.length?i:(n=n[0],n.ajax?t.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource):this.iterator("table",function(n){t.isPlainObject(n.ajax)?n.ajax.url=e:n.ajax=e})}),Ht("ajax.url().load()",function(t,e){return this.iterator("table",function(n){be(n,!1===e,t)})});var xe=function(e,n,r,a,o){var s,l,u,c,h,f,d=[];for(u=typeof n,n&&"string"!==u&&"function"!==u&&n.length!==i||(n=[n]),u=0,c=n.length;c>u;u++)for(l=n[u]&&n[u].split?n[u].split(","):[n[u]],h=0,f=l.length;f>h;h++)(s=r("string"==typeof l[h]?t.trim(l[h]):l[h]))&&s.length&&(d=d.concat(s));if(e=Ut.selector[e],e.length)for(u=0,c=e.length;c>u;u++)d=e[u](a,o,d);return he(d)},Ae=function(e){return e||(e={}),e.filter&&e.search===i&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},we=function(t){for(var e=0,n=t.length;n>e;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},_e=function(e,n){var i,r,a,o=[],s=e.aiDisplay;i=e.aiDisplayMaster;var l=n.search;if(r=n.order,a=n.page,"ssp"==Pt(e))return"removed"===l?[]:ue(0,i.length);if("current"==a)for(i=e._iDisplayStart,r=e.fnDisplayEnd();r>i;i++)o.push(s[i]);else if("current"==r||"applied"==r)o="none"==l?i.slice():"applied"==l?s.slice():t.map(i,function(e){return-1===t.inArray(e,s)?e:null});else if("index"==r||"original"==r)for(i=0,r=e.aoData.length;r>i;i++)"none"==l?o.push(i):(a=t.inArray(i,s),(-1===a&&"removed"==l||a>=0&&"applied"==l)&&o.push(i));return o};Ht("rows()",function(e,n){e===i?e="":t.isPlainObject(e)&&(n=e,e="");var n=Ae(n),r=this.iterator("table",function(r){var a=n;return xe("row",e,function(e){var n=ie(e);if(null!==n&&!a)return[n];var o=_e(r,a);return null!==n&&-1!==t.inArray(n,o)?[n]:e?"function"==typeof e?t.map(o,function(t){var n=r.aoData[t];return e(t,n._aData,n.nTr)?t:null}):(n=ce(le(r.aoData,o,"nTr")),e.nodeName?e._DT_RowIndex!==i?[e._DT_RowIndex]:e._DT_CellIndex?[e._DT_CellIndex.row]:(n=t(e).closest("*[data-dt-row]"),n.length?[n.data("dt-row")]:[]):"string"==typeof e&&"#"===e.charAt(0)&&(o=r.aIds[e.replace(/^#/,"")],o!==i)?[o.idx]:t(n).filter(e).map(function(){return this._DT_RowIndex}).toArray()):o},r,a)},1);return r.selector.rows=e,r.selector.opts=n,r}),Ht("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||i},1)}),Ht("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return le(t.aoData,e,"_aData")},1)}),Vt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var i=e.aoData[n];return"search"===t?i._aFilterData:i._aSortData},1)}),Vt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){k(e,n,t)})}),Vt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Vt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,r=n.length;r>i;i++)for(var a=0,o=this[i].length;o>a;a++){var s=n[i].rowIdFn(n[i].aoData[this[i][a]]._aData);e.push((!0===t?"#":"")+s)}return new Xt(n,e)}),Vt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,n,r){var a,o,s,l,u,c=e.aoData,h=c[n];for(c.splice(n,1),a=0,o=c.length;o>a;a++)if(s=c[a],u=s.anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=a),null!==u)for(s=0,l=u.length;l>s;s++)u[s]._DT_CellIndex.row=a;D(e.aiDisplayMaster,n),D(e.aiDisplay,n),D(t[r],n,!1),Zt(e),n=e.rowIdFn(h._aData),n!==i&&delete e.aIds[n]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;n>e;e++)t.aoData[e].idx=e}),this}),Ht("rows.add()",function(e){var n=this.iterator("table",function(t){var n,i,r,a=[];for(i=0,r=e.length;r>i;i++)n=e[i],n.nodeName&&"TR"===n.nodeName.toUpperCase()?a.push(b(t,n)[0]):a.push(C(t,n));return a},1),i=this.rows(-1);return i.pop(),t.merge(i,n),i}),Ht("row()",function(t,e){return we(this.rows(t,e))}),Ht("row().data()",function(t){var e=this.context;return t===i?e.length&&this.length?e[0].aoData[this[0]]._aData:i:(e[0].aoData[this[0]]._aData=t,k(e[0],this[0],"data"),this)}),Ht("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Ht("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var n=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?b(t,e)[0]:C(t,e)});return this.row(n[0])});var Me=function(t,e){var n=t.context;n.length&&(n=n[0].aoData[e!==i?e:t[0]])&&n._details&&(n._details.remove(),n._detailsShow=i,n._details=i)},Ne=function(t,e){var n=t.context;if(n.length&&t.length){var i=n[0].aoData[t[0]];if(i._details){(i._detailsShow=e)?i._details.insertAfter(i.nTr):i._details.detach();var r=n[0],a=new Xt(r),o=r.aoData;a.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<se(o,"_details").length&&(a.on("draw.dt.DT_details",function(t,e){r===e&&a.rows({page:"current"}).eq(0).each(function(t){t=o[t],t._detailsShow&&t._details.insertAfter(t.nTr)})}),a.on("column-visibility.dt.DT_details",function(t,e){if(r===e)for(var n,i=m(e),a=0,s=o.length;s>a;a++)n=o[a],n._details&&n._details.children("td[colspan]").attr("colspan",i)}),a.on("destroy.dt.DT_details",function(t,e){if(r===e)for(var n=0,i=o.length;i>n;n++)o[n]._details&&Me(a,n)}))}}};Ht("row().child()",function(e,n){var r=this.context;if(e===i)return r.length&&this.length?r[0].aoData[this[0]]._details:i;if(!0===e)this.child.show();else if(!1===e)Me(this);else if(r.length&&this.length){var a=r[0],r=r[0].aoData[this[0]],o=[],s=function(e,n){if(t.isArray(e)||e instanceof t)for(var i=0,r=e.length;r>i;i++)s(e[i],n);else e.nodeName&&"tr"===e.nodeName.toLowerCase()?o.push(e):(i=t("<tr><td/></tr>").addClass(n),t("td",i).addClass(n).html(e)[0].colSpan=m(a),o.push(i[0]))};s(e,n),r._details&&r._details.remove(),r._details=t(o),r._detailsShow&&r._details.insertAfter(r.nTr)}return this}),Ht(["row().child.show()","row().child().show()"],function(){return Ne(this,!0),this}),Ht(["row().child.hide()","row().child().hide()"],function(){return Ne(this,!1),this}),Ht(["row().child.remove()","row().child().remove()"],function(){return Me(this),this}),Ht("row().child.isShown()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]]._detailsShow||!1:!1});var Se=/^(.+):(name|visIdx|visible)$/,De=function(t,e,n,i,r){for(var n=[],i=0,a=r.length;a>i;i++)n.push(x(t,r[i],e));return n};Ht("columns()",function(e,n){e===i?e="":t.isPlainObject(e)&&(n=e,e="");var n=Ae(n),r=this.iterator("table",function(i){var r=e,a=n,o=i.aoColumns,s=se(o,"sName"),l=se(o,"nTh");return xe("column",r,function(e){var n=ie(e);if(""===e)return ue(o.length);if(null!==n)return[n>=0?n:o.length+n];if("function"==typeof e){var r=_e(i,a);return t.map(o,function(t,n){return e(n,De(i,n,0,0,r),l[n])?n:null})}var u="string"==typeof e?e.match(Se):"";if(u)switch(u[2]){case"visIdx":case"visible":if(n=parseInt(u[1],10),0>n){var c=t.map(o,function(t,e){return t.bVisible?e:null});return[c[c.length+n]]}return[g(i,n)];case"name":return t.map(s,function(t,e){return t===u[1]?e:null});default:return[]}return e.nodeName&&e._DT_CellIndex?[e._DT_CellIndex.column]:(n=t(l).filter(e).map(function(){return t.inArray(this,l)}).toArray(),n.length||!e.nodeName?n:(n=t(e).closest("*[data-dt-column]"),n.length?[n.data("dt-column")]:[]))},i,a)},1);return r.selector.cols=e,r.selector.opts=n,r}),Vt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Vt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Vt("columns().data()","column().data()",function(){return this.iterator("column-rows",De,1)}),Vt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Vt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,i,r,a){return le(e.aoData,a,"search"===t?"_aFilterData":"_aSortData",n)},1)}),Vt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,r){return le(t.aoData,r,"anCells",e)},1)}),Vt("columns().visible()","column().visible()",function(e,n){return this.iterator("column",function(r,a){if(e===i)return r.aoColumns[a].bVisible;var o,s,l,u=r.aoColumns,c=u[a],h=r.aoData;if(e!==i&&c.bVisible!==e){if(e){var f=t.inArray(!0,se(u,"bVisible"),a+1);for(o=0,s=h.length;s>o;o++)l=h[o].nTr,u=h[o].anCells,l&&l.insertBefore(u[a],u[f]||null)}else t(se(r.aoData,"anCells",a)).detach();c.bVisible=e,B(r,r.aoHeader),B(r,r.aoFooter),(n===i||n)&&d(r),Ot(r,null,"column-visibility",[r,a,e,n]),Dt(r)}})}),Vt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?p(e,n):n},1)}),Ht("columns.adjust()",function(){return this.iterator("table",function(t){d(t)},1)}),Ht("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return g(n,e);if("fromData"===t||"toVisible"===t)return p(n,e)}}),Ht("column()",function(t,e){return we(this.columns(t,e))}),Ht("cells()",function(e,n,r){if(t.isPlainObject(e)&&(e.row===i?(r=e,e=null):(r=n,n=null)),t.isPlainObject(n)&&(r=n,n=null),null===n||n===i)return this.iterator("table",function(n){var a,o,s,l,u,c,h,f=e,d=Ae(r),g=n.aoData,p=_e(n,d),m=ce(le(g,p,"anCells")),v=t([].concat.apply([],m)),y=n.aoColumns.length;return xe("cell",f,function(e){var r="function"==typeof e;if(null===e||e===i||r){for(o=[],s=0,l=p.length;l>s;s++)for(a=p[s],u=0;y>u;u++)c={row:a,column:u},r?(h=g[a],e(c,x(n,a,u),h.anCells?h.anCells[u]:null)&&o.push(c)):o.push(c);return o}return t.isPlainObject(e)?[e]:(r=v.filter(e).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray(),r.length||!e.nodeName?r:(h=t(e).closest("*[data-dt-row]"),h.length?[{row:h.data("dt-row"),column:h.data("dt-column")}]:[]))},n,d)});var a,o,s,l,u,c=this.columns(n,r),h=this.rows(e,r),f=this.iterator("table",function(t,e){for(a=[],o=0,s=h[e].length;s>o;o++)for(l=0,u=c[e].length;u>l;l++)a.push({row:h[e][o],column:c[e][l]});return a},1);return t.extend(f.selector,{cols:n,rows:e,opts:r}),f}),Vt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){return(t=t.aoData[e])&&t.anCells?t.anCells[n]:i},1)}),Ht("cells().data()",function(){return this.iterator("cell",function(t,e,n){return x(t,e,n)},1)}),Vt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,i){return e.aoData[n][t][i]},1)}),Vt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,i){return x(e,n,i,t)},1)}),Vt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:p(t,n)}},1)}),Vt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,i){k(e,n,t,i)})}),Ht("cell()",function(t,e,n){return we(this.cells(t,e,n))}),Ht("cell().data()",function(t){var e=this.context,n=this[0];return t===i?e.length&&n.length?x(e[0],n[0].row,n[0].column):i:(A(e[0],n[0].row,n[0].column,t),k(e[0],n[0].row,"data",n[0].column),this)}),Ht("order()",function(e,n){var r=this.context;return e===i?0!==r.length?r[0].aaSorting:i:("number"==typeof e?e=[[e,n]]:t.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Ht("order.listener()",function(t,e,n){return this.iterator("table",function(i){Mt(i,t,e,n)})}),Ht("order.fixed()",function(e){if(!e){var n=this.context,n=n.length?n[0].aaSortingFixed:i;return t.isArray(n)?{pre:n}:n}return this.iterator("table",function(n){n.aaSortingFixed=t.extend(!0,{},e)})}),Ht(["columns().order()","column().order()"],function(e){var n=this;return this.iterator("table",function(i,r){var a=[];t.each(n[r],function(t,n){a.push([n,e])}),i.aaSorting=a})}),Ht("search()",function(e,n,r,a){var o=this.context;return e===i?0!==o.length?o[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&H(i,t.extend({},i.oPreviousSearch,{sSearch:e+"",bRegex:null===n?!1:n,bSmart:null===r?!0:r,bCaseInsensitive:null===a?!0:a}),1)})}),Vt("columns().search()","column().search()",function(e,n,r,a){return this.iterator("column",function(o,s){var l=o.aoPreSearchCols;return e===i?l[s].sSearch:void(o.oFeatures.bFilter&&(t.extend(l[s],{sSearch:e+"",bRegex:null===n?!1:n,bSmart:null===r?!0:r,bCaseInsensitive:null===a?!0:a}),H(o,o.oPreviousSearch,1)))})}),Ht("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Ht("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Ht("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Ht("state.save()",function(){return this.iterator("table",function(t){Dt(t)})}),Yt.versionCheck=Yt.fnVersionCheck=function(t){for(var e,n,i=Yt.version.split("."),t=t.split("."),r=0,a=t.length;a>r;r++)if(e=parseInt(i[r],10)||0,
n=parseInt(t[r],10)||0,e!==n)return e>n;return!0},Yt.isDataTable=Yt.fnIsDataTable=function(e){var n=t(e).get(0),i=!1;return t.each(Yt.settings,function(e,r){var a=r.nScrollHead?t("table",r.nScrollHead)[0]:null,o=r.nScrollFoot?t("table",r.nScrollFoot)[0]:null;(r.nTable===n||a===n||o===n)&&(i=!0)}),i},Yt.tables=Yt.fnTables=function(e){var n=!1;t.isPlainObject(e)&&(n=e.api,e=e.visible);var i=t.map(Yt.settings,function(n){return!e||e&&t(n.nTable).is(":visible")?n.nTable:void 0});return n?new Xt(i):i},Yt.util={throttle:vt,escapeRegex:K},Yt.camelToHungarian=a,Ht("$()",function(e,n){var i=this.rows(n).nodes(),i=t(i);return t([].concat(i.filter(e).toArray(),i.find(e).toArray()))}),t.each(["on","one","off"],function(e,n){Ht(n+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var i=t(this.tables().nodes());return i[n].apply(i,e),this})}),Ht("clear()",function(){return this.iterator("table",function(t){S(t)})}),Ht("settings()",function(){return new Xt(this.context,this.context)}),Ht("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Ht("data()",function(){return this.iterator("table",function(t){return se(t.aoData,"_aData")}).flatten()}),Ht("destroy()",function(n){return n=n||!1,this.iterator("table",function(i){var r,a=i.nTableWrapper.parentNode,o=i.oClasses,s=i.nTable,l=i.nTBody,u=i.nTHead,c=i.nTFoot,h=t(s),l=t(l),f=t(i.nTableWrapper),d=t.map(i.aoData,function(t){return t.nTr});i.bDestroying=!0,Ot(i,"aoDestroyCallback","destroy",[i]),n||new Xt(i).columns().visible(!0),f.unbind(".DT").find(":not(tbody *)").unbind(".DT"),t(e).unbind(".DT-"+i.sInstance),s!=u.parentNode&&(h.children("thead").detach(),h.append(u)),c&&s!=c.parentNode&&(h.children("tfoot").detach(),h.append(c)),i.aaSorting=[],i.aaSortingFixed=[],Nt(i),t(d).removeClass(i.asStripeClasses.join(" ")),t("th, td",u).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),i.bJUI&&(t("th span."+o.sSortIcon+", td span."+o.sSortIcon,u).detach(),t("th, td",u).each(function(){var e=t("div."+o.sSortJUIWrapper,this);t(this).append(e.contents()),e.detach()})),l.children().detach(),l.append(d),u=n?"remove":"detach",h[u](),f[u](),!n&&a&&(a.insertBefore(s,i.nTableReinsertBefore),h.css("width",i.sDestroyWidth).removeClass(o.sTable),(r=i.asDestroyStripes.length)&&l.children().each(function(e){t(this).addClass(i.asDestroyStripes[e%r])})),a=t.inArray(i,Yt.settings),-1!==a&&Yt.settings.splice(a,1)})}),t.each(["column","row","cell"],function(t,e){Ht(e+"s().every()",function(t){var n=this.selector.opts,r=this;return this.iterator(e,function(a,o,s,l,u){t.call(r[e](o,"cell"===e?s:n,"cell"===e?n:i),o,s,l,u)})})}),Ht("i18n()",function(e,n,r){var a=this.context[0],e=_(e)(a.oLanguage);return e===i&&(e=n),r!==i&&t.isPlainObject(e)&&(e=e[r]!==i?e[r]:e._),e.replace("%d",r)}),Yt.version="1.10.11",Yt.settings=[],Yt.models={},Yt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Yt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Yt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Yt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Yt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(Yt.defaults),Yt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Yt.defaults.column),Yt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Pt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Pt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,r=this.oFeatures,a=r.bPaginate;return r.bServerSide?!1===a||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!a||n>i||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Yt.ext=Ut={buttons:{},classes:{},build:"dt/dt-1.10.11",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Yt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Yt.version},t.extend(Ut,{afnFiltering:Ut.search,aTypes:Ut.type.detect,ofnSearch:Ut.type.search,oSort:Ut.type.order,afnSortData:Ut.order,aoFeatures:Ut.feature,oApi:Ut.internal,oStdClasses:Ut.classes,oPagination:Ut.pager}),t.extend(Yt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var ke="",ke="",Te=ke+"ui-state-default",je=ke+"css_right ui-icon ui-icon-",ze=ke+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";t.extend(Yt.ext.oJUIClasses,Yt.ext.classes,{sPageButton:"fg-button ui-button "+Te,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Te+" sorting_asc",sSortDesc:Te+" sorting_desc",sSortable:Te+" sorting",sSortableAsc:Te+" sorting_asc_disabled",sSortableDesc:Te+" sorting_desc_disabled",sSortableNone:Te+" sorting_disabled",sSortJUIAsc:je+"triangle-1-n",sSortJUIDesc:je+"triangle-1-s",sSortJUI:je+"carat-2-n-s",sSortJUIAscAllowed:je+"carat-1-n",sSortJUIDescAllowed:je+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Te,sScrollFoot:"dataTables_scrollFoot "+Te,sHeaderTH:Te,sFooterTH:Te,sJUIHeader:ze+" ui-corner-tl ui-corner-tr",sJUIFooter:ze+" ui-corner-bl ui-corner-br"});var Le=Yt.ext.pager;t.extend(Le,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Ft(t,e)]},simple_numbers:function(t,e){return["previous",Ft(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Ft(t,e),"next","last"]},_numbers:Ft,numbers_length:7}),t.extend(!0,Yt.ext.renderer,{pageButton:{_:function(e,i,r,a,o,s){var l,u,c,h=e.oClasses,f=e.oLanguage.oPaginate,d=e.oLanguage.oAria.paginate||{},g=0,p=function(n,i){var a,c,m,v,y=function(t){ct(e,t.data.action,!0)};for(a=0,c=i.length;c>a;a++)if(v=i[a],t.isArray(v))m=t("<"+(v.DT_el||"div")+"/>").appendTo(n),p(m,v);else{switch(l=null,u="",v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=f.sFirst,u=v+(o>0?"":" "+h.sPageButtonDisabled);break;case"previous":l=f.sPrevious,u=v+(o>0?"":" "+h.sPageButtonDisabled);break;case"next":l=f.sNext,u=v+(s-1>o?"":" "+h.sPageButtonDisabled);break;case"last":l=f.sLast,u=v+(s-1>o?"":" "+h.sPageButtonDisabled);break;default:l=v+1,u=o===v?h.sPageButtonActive:""}null!==l&&(m=t("<a>",{"class":h.sPageButton+" "+u,"aria-controls":e.sTableId,"aria-label":d[v],"data-dt-idx":g,tabindex:e.iTabIndex,id:0===r&&"string"==typeof v?e.sTableId+"_"+v:null}).html(l).appendTo(n),Bt(m,{action:v},y),g++)}};try{c=t(i).find(n.activeElement).data("dt-idx")}catch(m){}p(t(i).empty(),a),c&&t(i).find("[data-dt-idx="+c+"]").focus()}}}),t.extend(Yt.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return ae(t,n)?"num"+n:null},function(t){if(t&&!(t instanceof Date)&&(!Kt.test(t)||!qt.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||ne(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return ae(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return oe(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return oe(t,n,!0)?"html-num-fmt"+n:null},function(t){return ne(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(Yt.ext.type.search,{html:function(t){return ne(t)?t:"string"==typeof t?t.replace($t," ").replace(Qt,""):""},string:function(t){return ne(t)?t:"string"==typeof t?t.replace($t," "):t}});var Be=function(t,e,n,i){return 0===t||t&&"-"!==t?(e&&(t=re(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),1*t):-(1/0)};t.extend(Ut.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return ne(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return ne(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return e>t?-1:t>e?1:0},"string-desc":function(t,e){return e>t?1:t>e?-1:0}}),Rt(""),t.extend(!0,Yt.ext.renderer,{header:{_:function(e,n,i,r){t(e.nTable).on("order.dt.DT",function(t,a,o,s){e===a&&(t=i.idx,n.removeClass(i.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[t]?r.sSortAsc:"desc"==s[t]?r.sSortDesc:i.sSortingClass))})},jqueryui:function(e,n,i,r){t("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(t("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),t(e.nTable).on("order.dt.DT",function(t,a,o,s){e===a&&(t=i.idx,n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[t]?r.sSortAsc:"desc"==s[t]?r.sSortDesc:i.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[t]?r.sSortJUIAsc:"desc"==s[t]?r.sSortJUIDesc:i.sSortingClassJUI))})}}});var Ge=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Yt.render={number:function(t,e,n,i,r){return{display:function(a){if("number"!=typeof a&&"string"!=typeof a)return a;var o=0>a?"-":"",s=parseFloat(a);return isNaN(s)?Ge(a):(a=Math.abs(s),s=parseInt(a,10),a=n?e+(a-s).toFixed(n).substring(2):"",o+(i||"")+s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+a+(r||""))}}},text:function(){return{display:Ge}}},t.extend(Yt.ext.internal,{_fnExternApiFunc:Wt,_fnBuildAjax:F,_fnAjaxUpdate:R,_fnAjaxParameters:W,_fnAjaxUpdateDraw:Y,_fnAjaxDataSrc:U,_fnAddColumn:h,_fnColumnOptions:f,_fnAdjustColumnSizing:d,_fnVisibleToColumnIndex:g,_fnColumnIndexToVisible:p,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:I,_fnHungarianMap:r,_fnCamelToHungarian:a,_fnLanguageCompat:o,_fnBrowserDetect:u,_fnAddData:C,_fnAddTr:b,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==i?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,n,i){return t.inArray(i,e.aoData[n].anCells)},_fnGetCellData:x,_fnSetCellData:A,_fnSplitObjNotation:w,_fnGetObjectDataFn:_,_fnSetObjectDataFn:M,_fnGetDataMaster:N,_fnClearTable:S,_fnDeleteIndex:D,_fnInvalidate:k,_fnGetRowElements:T,_fnCreateTr:j,_fnBuildHead:L,_fnDrawHead:B,_fnDraw:G,_fnReDraw:O,_fnAddOptionsHtml:Z,_fnDetectHeader:E,_fnGetUniqueThs:P,_fnFeatureHtmlFilter:X,_fnFilterComplete:H,_fnFilterCustom:V,_fnFilterColumn:J,_fnFilter:$,_fnFilterCreateSearch:Q,_fnEscapeRegex:K,_fnFilterData:q,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:it,_fnInfoMacros:rt,_fnInitialise:at,_fnInitComplete:ot,_fnLengthChange:st,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ut,_fnPageChange:ct,_fnFeatureHtmlProcessing:ht,_fnProcessingDisplay:ft,_fnFeatureHtmlTable:dt,_fnScrollDraw:gt,_fnApplyToChildren:pt,_fnCalculateColumnWidths:mt,_fnThrottle:vt,_fnConvertToWidth:yt,_fnGetWidestNode:It,_fnGetMaxLenString:Ct,_fnStringToCss:bt,_fnSortFlatten:xt,_fnSort:At,_fnSortAria:wt,_fnSortListener:_t,_fnSortAttachListener:Mt,_fnSortingClasses:Nt,_fnSortData:St,_fnSaveState:Dt,_fnLoadState:kt,_fnSettingsFromNode:Tt,_fnLog:jt,_fnMap:zt,_fnBindAction:Bt,_fnCallbackReg:Gt,_fnCallbackFire:Ot,_fnLengthOverflow:Zt,_fnRenderer:Et,_fnDataSource:Pt,_fnRowAttributes:z,_fnCalculateEnd:function(){}}),t.fn.dataTable=Yt,Yt.$=t,t.fn.dataTableSettings=Yt.settings,t.fn.dataTableExt=Yt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Yt,function(e,n){t.fn.DataTable[e]=n}),t.fn.dataTable}),function(){function t(t,e){if(t!==e){var n=null===t,i=t===C,r=t===t,a=null===e,o=e===C,s=e===e;if(t>e&&!a||!r||n&&!o&&s||i&&s)return 1;if(e>t&&!n||!s||a&&!i&&r||o&&r)return-1}return 0}function e(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function n(t,e,n){if(e!==e)return f(t,n);n-=1;for(var i=t.length;++n<i;)if(t[n]===e)return n;return-1}function i(t){return"function"==typeof t||!1}function r(t){return null==t?"":t+""}function a(t,e){for(var n=-1,i=t.length;++n<i&&-1<e.indexOf(t.charAt(n)););return n}function o(t,e){for(var n=t.length;n--&&-1<e.indexOf(t.charAt(n)););return n}function s(e,n){return t(e.a,n.a)||e.b-n.b}function l(t){return Bt[t]}function u(t){return Gt[t]}function c(t,e,n){return e?t=Et[t]:n&&(t=Pt[t]),"\\"+t}function h(t){return"\\"+Pt[t]}function f(t,e,n){var i=t.length;for(e+=n?0:-1;n?e--:++e<i;){var r=t[e];if(r!==r)return e}return-1}function d(t){return!!t&&"object"==typeof t}function g(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function p(t,e){for(var n=-1,i=t.length,r=-1,a=[];++n<i;)t[n]===e&&(t[n]=E,a[++r]=n);return a}function m(t){for(var e=-1,n=t.length;++e<n&&g(t.charCodeAt(e)););return e}function v(t){for(var e=t.length;e--&&g(t.charCodeAt(e)););return e}function y(t){return Ot[t]}function I(g){function Bt(t){if(d(t)&&!(Na(t)||t instanceof Zt)){if(t instanceof Ot)return t;if(tr.call(t,"__chain__")&&tr.call(t,"__wrapped__"))return Rn(t)}return new Ot(t)}function Gt(){}function Ot(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Zt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Nr,this.__views__=[]}function Et(){this.__data__={}}function Pt(t){var e=t?t.length:0;for(this.data={hash:mr(null),set:new cr};e--;)this.push(t[e])}function Ft(t,e){var n=t.data;return("string"==typeof e||mi(e)?n.set.has(e):n.hash[e])?0:-1}function Rt(t,e){var n=-1,i=t.length;for(e||(e=Pi(i));++n<i;)e[n]=t[n];return e}function Wt(t,e){for(var n=-1,i=t.length;++n<i&&!1!==e(t[n],n,t););return t}function Yt(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ut(t,e){for(var n=-1,i=t.length,r=-1,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[++r]=o)}return a}function Vt(t,e){for(var n=-1,i=t.length,r=Pi(i);++n<i;)r[n]=e(t[n],n,t);return r}function Jt(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function $t(t,e,n,i){var r=-1,a=t.length;for(i&&a&&(n=t[++r]);++r<a;)n=e(n,t[r],r,t);return n}function Qt(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function Kt(t,e,n,i){return t!==C&&tr.call(i,n)?t:e}function qt(t,e,n){for(var i=-1,r=Za(e),a=r.length;++i<a;){var o=r[i],s=t[o],l=n(s,e[o],o,t,e);(l===l?l===s:s!==s)&&(s!==C||o in t)||(t[o]=l)}return t}function te(t,e){return null==e?t:ne(e,Za(e),t)}function ee(t,e){for(var n=-1,i=null==t,r=!i&&Dn(t),a=r?t.length:0,o=e.length,s=Pi(o);++n<o;){var l=e[n];s[n]=r?kn(l,a)?t[l]:C:i?C:t[l]}return s}function ne(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var a=e[i];n[a]=t[a]}return n}function ie(t,e,n){var i=typeof t;return"function"==i?e===C?t:Ee(t,e,n):null==t?Bi:"object"==i?Ce(t):e===C?Ei(t):be(t,e)}function re(t,e,n,i,r,a,o){var s;if(n&&(s=r?n(t,i,r):n(t)),s!==C)return s;if(!mi(t))return t;if(i=Na(t)){if(s=_n(t),!e)return Rt(t,s)}else{var l=nr.call(t),u=l==U;if(l!=H&&l!=P&&(!u||r))return Lt[l]?Nn(t,l,e):r?t:{};if(s=Mn(u?{}:t),!e)return te(s,t)}for(a||(a=[]),o||(o=[]),r=a.length;r--;)if(a[r]==t)return o[r];return a.push(t),o.push(s),(i?Wt:de)(t,function(i,r){s[r]=re(i,e,n,r,t,a,o)}),s}function ae(t,e,n){if("function"!=typeof t)throw new Ji(Z);return hr(function(){t.apply(C,n)},e)}function oe(t,e){var i=t?t.length:0,r=[];if(!i)return r;var a=-1,o=xn(),s=o===n,l=s&&e.length>=B&&mr&&cr?new Pt(e):null,u=e.length;l&&(o=Ft,s=!1,e=l);t:for(;++a<i;)if(l=t[a],s&&l===l){for(var c=u;c--;)if(e[c]===l)continue t;r.push(l)}else 0>o(e,l,0)&&r.push(l);return r}function se(t,e){var n=!0;return Lr(t,function(t,i,r){return n=!!e(t,i,r)}),n}function le(t,e,n,i){var r=i,a=r;return Lr(t,function(t,o,s){o=+e(t,o,s),(n(o,r)||o===i&&o===a)&&(r=o,a=t)}),a}function ue(t,e){var n=[];return Lr(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ce(t,e,n,i){var r;return n(t,function(t,n,a){return e(t,n,a)?(r=i?n:t,!1):void 0}),r}function he(t,e,n,i){i||(i=[]);for(var r=-1,a=t.length;++r<a;){var o=t[r];d(o)&&Dn(o)&&(n||Na(o)||fi(o))?e?he(o,e,n,i):Jt(i,o):n||(i[i.length]=o)}return i}function fe(t,e){Gr(t,e,Ni)}function de(t,e){return Gr(t,e,Za)}function ge(t,e){return Or(t,e,Za)}function pe(t,e){for(var n=-1,i=e.length,r=-1,a=[];++n<i;){var o=e[n];pi(t[o])&&(a[++r]=o)}return a}function me(t,e,n){if(null!=t){n!==C&&n in Pn(t)&&(e=[n]),n=0;for(var i=e.length;null!=t&&i>n;)t=t[e[n++]];return n&&n==i?t:C}}function ve(t,e,n,i,r,a){if(t===e)t=!0;else if(null==t||null==e||!mi(t)&&!d(e))t=t!==t&&e!==e;else t:{var o=ve,s=Na(t),l=Na(e),u=F,c=F;s||(u=nr.call(t),u==P?u=H:u!=H&&(s=xi(t))),l||(c=nr.call(e),c==P?c=H:c!=H&&xi(e));var h=u==H,l=c==H,c=u==c;if(!c||s||h){if(!i&&(u=h&&tr.call(t,"__wrapped__"),l=l&&tr.call(e,"__wrapped__"),u||l)){t=o(u?t.value():t,l?e.value():e,n,i,r,a);break t}if(c){for(r||(r=[]),a||(a=[]),u=r.length;u--;)if(r[u]==t){t=a[u]==e;break t}r.push(t),a.push(e),t=(s?vn:In)(t,e,o,n,i,r,a),r.pop(),a.pop()}else t=!1}else t=yn(t,e,u)}return t}function ye(t,e,n){var i=e.length,r=i,a=!n;if(null==t)return!r;for(t=Pn(t);i--;){var o=e[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<r;){var o=e[i],s=o[0],l=t[s],u=o[1];if(a&&o[2]){if(l===C&&!(s in t))return!1}else if(o=n?n(l,u,s):C,o===C?!ve(u,l,n,!0):!o)return!1}return!0}function Ie(t,e){var n=-1,i=Dn(t)?Pi(t.length):[];return Lr(t,function(t,r,a){i[++n]=e(t,r,a)}),i}function Ce(t){var e=An(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null==t?!1:t[n]===i&&(i!==C||n in Pn(t))}}return function(t){return ye(t,e)}}function be(t,e){var n=Na(t),i=jn(t)&&e===e&&!mi(e),r=t+"";return t=Fn(t),function(a){if(null==a)return!1;var o=r;if(a=Pn(a),!(!n&&i||o in a)){if(a=1==t.length?a:me(a,Se(t,0,-1)),null==a)return!1;o=Hn(t),a=Pn(a)}return a[o]===e?e!==C||o in a:ve(e,a[o],C,!0)}}function xe(t,e,n,i,r){if(!mi(t))return t;var a=Dn(e)&&(Na(e)||xi(e)),o=a?C:Za(e);return Wt(o||e,function(s,l){if(o&&(l=s,s=e[l]),d(s)){i||(i=[]),r||(r=[]);t:{for(var u=l,c=i,h=r,f=c.length,g=e[u];f--;)if(c[f]==g){t[u]=h[f];break t}var f=t[u],p=n?n(f,g,u,t,e):C,m=p===C;m&&(p=g,Dn(g)&&(Na(g)||xi(g))?p=Na(f)?f:Dn(f)?Rt(f):[]:Ii(g)||fi(g)?p=fi(f)?_i(f):Ii(f)?f:{}:m=!1),c.push(g),h.push(p),m?t[u]=xe(p,g,n,c,h):(p===p?p!==f:f===f)&&(t[u]=p)}}else u=t[l],c=n?n(u,s,l,t,e):C,(h=c===C)&&(c=s),c===C&&(!a||l in t)||!h&&(c===c?c===u:u!==u)||(t[l]=c)}),t}function Ae(t){return function(e){return null==e?C:e[t]}}function we(t){var e=t+"";return t=Fn(t),function(n){return me(n,t,e)}}function _e(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&kn(i)){var r=i;fr.call(t,i,1)}}}function Me(t,e){return t+vr(_r()*(e-t+1))}function Ne(t,e,n,i,r){return r(t,function(t,r,a){n=i?(i=!1,t):e(n,t,r,a)}),n}function Se(t,e,n){var i=-1,r=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),n=n===C||n>r?r:+n||0,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0,n=Pi(r);++i<r;)n[i]=t[i+e];return n}function De(t,e){var n;return Lr(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function ke(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function Te(e,n,i){var r=Cn(),a=-1;return n=Vt(n,function(t){return r(t)}),e=Ie(e,function(t){return{a:Vt(n,function(e){return e(t)}),b:++a,c:t}}),ke(e,function(e,n){var r;t:{for(var a=-1,o=e.a,s=n.a,l=o.length,u=i.length;++a<l;)if(r=t(o[a],s[a])){if(a>=u)break t;a=i[a],r*="asc"===a||!0===a?1:-1;break t}r=e.b-n.b}return r})}function je(t,e){var n=0;return Lr(t,function(t,i,r){n+=+e(t,i,r)||0}),n}function ze(t,e){var i=-1,r=xn(),a=t.length,o=r===n,s=o&&a>=B,l=s&&mr&&cr?new Pt(void 0):null,u=[];l?(r=Ft,o=!1):(s=!1,l=e?[]:u);t:for(;++i<a;){var c=t[i],h=e?e(c,i,t):c;if(o&&c===c){for(var f=l.length;f--;)if(l[f]===h)continue t;e&&l.push(h),u.push(c)}else 0>r(l,h,0)&&((e||s)&&l.push(h),u.push(c))}return u}function Le(t,e){for(var n=-1,i=e.length,r=Pi(i);++n<i;)r[n]=t[e[n]];return r}function Be(t,e,n,i){for(var r=t.length,a=i?r:-1;(i?a--:++a<r)&&e(t[a],a,t););return n?Se(t,i?0:a,i?a+1:r):Se(t,i?a+1:0,i?r:a)}function Ge(t,e){var n=t;n instanceof Zt&&(n=n.value());for(var i=-1,r=e.length;++i<r;)var a=e[i],n=a.func.apply(a.thisArg,Jt([n],a.args));return n}function Oe(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&Dr>=r){for(;r>i;){var a=i+r>>>1,o=t[a];(n?e>=o:e>o)&&null!==o?i=a+1:r=a}return r}return Ze(t,e,Bi,n)}function Ze(t,e,n,i){e=n(e);for(var r=0,a=t?t.length:0,o=e!==e,s=null===e,l=e===C;a>r;){var u=vr((r+a)/2),c=n(t[u]),h=c!==C,f=c===c;(o?f||i:s?f&&h&&(i||null!=c):l?f&&(i||h):null==c?0:i?e>=c:e>c)?r=u+1:a=u}return xr(a,Sr)}function Ee(t,e,n){if("function"!=typeof t)return Bi;if(e===C)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,a){return t.call(e,n,i,r,a)};case 5:return function(n,i,r,a,o){return t.call(e,n,i,r,a,o)}}return function(){return t.apply(e,arguments)}}function Pe(t){var e=new ar(t.byteLength);return new dr(e).set(new dr(t)),e}function Fe(t,e,n){for(var i=n.length,r=-1,a=br(t.length-i,0),o=-1,s=e.length,l=Pi(s+a);++o<s;)l[o]=e[o];for(;++r<i;)l[n[r]]=t[r];for(;a--;)l[o++]=t[r++];return l}function Re(t,e,n){for(var i=-1,r=n.length,a=-1,o=br(t.length-r,0),s=-1,l=e.length,u=Pi(o+l);++a<o;)u[a]=t[a];for(o=a;++s<l;)u[o+s]=e[s];for(;++i<r;)u[o+n[i]]=t[a++];return u}function We(t,e){return function(n,i,r){var a=e?e():{};if(i=Cn(i,r,3),Na(n)){r=-1;for(var o=n.length;++r<o;){var s=n[r];t(a,s,i(s,r,n),n)}}else Lr(n,function(e,n,r){t(a,e,i(e,n,r),r)});return a}}function Ye(t){return ci(function(e,n){var i=-1,r=null==e?0:n.length,a=r>2?n[r-2]:C,o=r>2?n[2]:C,s=r>1?n[r-1]:C;for("function"==typeof a?(a=Ee(a,s,5),r-=2):(a="function"==typeof s?s:C,r-=a?1:0),o&&Tn(n[0],n[1],o)&&(a=3>r?C:a,r=1);++i<r;)(o=n[i])&&t(e,o,a);return e})}function Ue(t,e){return function(n,i){var r=n?Pr(n):0;if(!Ln(r))return t(n,i);for(var a=e?r:-1,o=Pn(n);(e?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function Xe(t){return function(e,n,i){var r=Pn(e);i=i(e);for(var a=i.length,o=t?a:-1;t?o--:++o<a;){var s=i[o];if(!1===n(r[s],s,r))break}return e}}function He(t,e){function n(){return(this&&this!==Xt&&this instanceof n?i:t).apply(e,arguments)}var i=Je(t);return n}function Ve(t){return function(e){var n=-1;e=zi(ki(e));for(var i=e.length,r="";++n<i;)r=t(r,e[n],n);return r}}function Je(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=zr(t.prototype),e=t.apply(n,e);return mi(e)?e:n}}function $e(t){function e(n,i,r){return r&&Tn(n,i,r)&&(i=C),n=mn(n,t,C,C,C,C,C,i),n.placeholder=e.placeholder,n}return e}function Qe(t,e){return ci(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(C,n))})}function Ke(t,e){return function(n,i,r){if(r&&Tn(n,i,r)&&(i=C),i=Cn(i,r,3),1==i.length){r=n=Na(n)?n:En(n);for(var a=i,o=-1,s=r.length,l=e,u=l;++o<s;){var c=r[o],h=+a(c);t(h,l)&&(l=h,u=c)}if(r=u,!n.length||r!==e)return r}return le(n,i,t,e)}}function qe(t,n){return function(i,r,a){return r=Cn(r,a,3),Na(i)?(r=e(i,r,n),r>-1?i[r]:C):ce(i,r,t)}}function tn(t){return function(n,i,r){return n&&n.length?(i=Cn(i,r,3),e(n,i,t)):-1}}function en(t){return function(e,n,i){return n=Cn(n,i,3),ce(e,n,t,!0)}}function nn(t){return function(){for(var e,n=arguments.length,i=t?n:-1,r=0,a=Pi(n);t?i--:++i<n;){var o=a[r++]=arguments[i];if("function"!=typeof o)throw new Ji(Z);!e&&Ot.prototype.thru&&"wrapper"==bn(o)&&(e=new Ot([],!0))}for(i=e?-1:n;++i<n;){var o=a[i],r=bn(o),s="wrapper"==r?Er(o):C;e=s&&zn(s[0])&&s[1]==(D|_|N|k)&&!s[4].length&&1==s[9]?e[bn(s[0])].apply(e,s[3]):1==o.length&&zn(o)?e[r]():e.thru(o)}return function(){var t=arguments,i=t[0];if(e&&1==t.length&&Na(i)&&i.length>=B)return e.plant(i).value();for(var r=0,t=n?a[r].apply(this,t):i;++r<n;)t=a[r].call(this,t);return t}}}function rn(t,e){return function(n,i,r){return"function"==typeof i&&r===C&&Na(n)?t(n,i):e(n,Ee(i,r,3))}}function an(t){return function(e,n,i){return("function"!=typeof n||i!==C)&&(n=Ee(n,i,3)),t(e,n,Ni)}}function on(t){return function(e,n,i){return("function"!=typeof n||i!==C)&&(n=Ee(n,i,3)),t(e,n)}}function sn(t){return function(e,n,i){var r={};return n=Cn(n,i,3),de(e,function(e,i,a){a=n(e,i,a),i=t?a:i,e=t?e:a,r[i]=e}),r}}function ln(t){return function(e,n,i){return e=r(e),(t?e:"")+fn(e,n,i)+(t?"":e)}}function un(t){var e=ci(function(n,i){var r=p(i,e.placeholder);return mn(n,t,C,i,r)});return e}function cn(t,e){return function(n,i,r,a){var o=3>arguments.length;return"function"==typeof i&&a===C&&Na(n)?t(n,i,r,o):Ne(n,Cn(i,a,4),r,o,e)}}function hn(t,e,n,i,r,a,o,s,l,u){function c(){for(var I=arguments.length,b=I,w=Pi(I);b--;)w[b]=arguments[b];if(i&&(w=Fe(w,i,r)),a&&(w=Re(w,a,o)),g||v){var b=c.placeholder,_=p(w,b),I=I-_.length;if(u>I){var M=s?Rt(s):C,I=br(u-I,0),D=g?_:C,_=g?C:_,k=g?w:C,w=g?C:w;return e|=g?N:S,e&=~(g?S:N),m||(e&=~(x|A)),w=[t,e,n,k,D,w,_,M,l,I],M=hn.apply(C,w),zn(t)&&Fr(M,w),M.placeholder=b,M}}if(b=f?n:this,M=d?b[t]:t,s)for(I=w.length,D=xr(s.length,I),_=Rt(w);D--;)k=s[D],w[D]=kn(k,I)?_[k]:C;return h&&l<w.length&&(w.length=l),this&&this!==Xt&&this instanceof c&&(M=y||Je(t)),M.apply(b,w)}var h=e&D,f=e&x,d=e&A,g=e&_,m=e&w,v=e&M,y=d?C:Je(t);return c}function fn(t,e,n){return t=t.length,e=+e,e>t&&Ir(e)?(e-=t,n=null==n?" ":n+"",Ti(n,pr(e/n.length)).slice(0,e)):""}function dn(t,e,n,i){function r(){for(var e=-1,s=arguments.length,l=-1,u=i.length,c=Pi(u+s);++l<u;)c[l]=i[l];for(;s--;)c[l++]=arguments[++e];return(this&&this!==Xt&&this instanceof r?o:t).apply(a?n:this,c)}var a=e&x,o=Je(t);return r}function gn(t){var e=Yi[t];return function(t,n){return(n=n===C?0:+n||0)?(n=lr(10,n),e(t*n)/n):e(t)}}function pn(t){return function(e,n,i,r){var a=Cn(i);return null==i&&a===ie?Oe(e,n,t):Ze(e,n,a(i,r,1),t)}}function mn(t,e,n,i,r,a,o,s){var l=e&A;if(!l&&"function"!=typeof t)throw new Ji(Z);var u=i?i.length:0;if(u||(e&=~(N|S),i=r=C),u-=r?r.length:0,e&S){var c=i,h=r;i=r=C}var f=l?C:Er(t);return n=[t,e,n,i,r,c,h,a,o,s],f&&(i=n[1],e=f[1],s=i|e,r=e==D&&i==_||e==D&&i==k&&n[7].length<=f[8]||e==(D|k)&&i==_,(D>s||r)&&(e&x&&(n[2]=f[2],s|=i&x?0:w),(i=f[3])&&(r=n[3],n[3]=r?Fe(r,i,f[4]):Rt(i),n[4]=r?p(n[3],E):Rt(f[4])),(i=f[5])&&(r=n[5],n[5]=r?Re(r,i,f[6]):Rt(i),n[6]=r?p(n[5],E):Rt(f[6])),(i=f[7])&&(n[7]=Rt(i)),e&D&&(n[8]=null==n[8]?f[8]:xr(n[8],f[8])),null==n[9]&&(n[9]=f[9]),n[0]=f[0],n[1]=s),e=n[1],s=n[9]),n[9]=null==s?l?0:t.length:br(s-u,0)||0,(f?Zr:Fr)(e==x?He(n[0],n[2]):e!=N&&e!=(x|N)||n[4].length?hn.apply(C,n):dn.apply(C,n),n)}function vn(t,e,n,i,r,a,o){var s=-1,l=t.length,u=e.length;if(l!=u&&(!r||l>=u))return!1;for(;++s<l;){var c=t[s],u=e[s],h=i?i(r?u:c,r?c:u,s):C;if(h!==C){if(h)continue;return!1}if(r){if(!Qt(e,function(t){return c===t||n(c,t,i,r,a,o)}))return!1}else if(c!==u&&!n(c,u,i,r,a,o))return!1}return!0}function yn(t,e,n){switch(n){case R:case W:return+t==+e;case Y:return t.name==e.name&&t.message==e.message;case X:return t!=+t?e!=+e:t==+e;case V:case J:return t==e+""}return!1}function In(t,e,n,i,r,a,o){var s=Za(t),l=s.length,u=Za(e).length;if(l!=u&&!r)return!1;for(u=l;u--;){var c=s[u];if(!(r?c in e:tr.call(e,c)))return!1}for(var h=r;++u<l;){var c=s[u],f=t[c],d=e[c],g=i?i(r?d:f,r?f:d,c):C;if(g===C?!n(f,d,i,r,a,o):!g)return!1;h||(h="constructor"==c)}return h||(n=t.constructor,i=e.constructor,!(n!=i&&"constructor"in t&&"constructor"in e)||"function"==typeof n&&n instanceof n&&"function"==typeof i&&i instanceof i)?!0:!1}function Cn(t,e,n){var i=Bt.callback||Li,i=i===Li?ie:i;return n?i(t,e,n):i}function bn(t){for(var e=t.name+"",n=jr[e],i=n?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==t)return r.name}return e}function xn(t,e,i){var r=Bt.indexOf||Xn,r=r===Xn?n:r;
return t?r(t,e,i):r}function An(t){t=Si(t);for(var e=t.length;e--;){var n=t[e][1];t[e][2]=n===n&&!mi(n)}return t}function wn(t,e){var n=null==t?C:t[e];return vi(n)?n:C}function _n(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&tr.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Mn(t){return t=t.constructor,"function"==typeof t&&t instanceof t||(t=Xi),new t}function Nn(t,e,n){var i=t.constructor;switch(e){case $:return Pe(t);case R:case W:return new i(+t);case Q:case K:case q:case tt:case et:case nt:case it:case rt:case at:return e=t.buffer,new i(n?Pe(e):e,t.byteOffset,t.length);case X:case J:return new i(t);case V:var r=new i(t.source,wt.exec(t));r.lastIndex=t.lastIndex}return r}function Sn(t,e,n){return null==t||jn(e,t)||(e=Fn(e),t=1==e.length?t:me(t,Se(e,0,-1)),e=Hn(e)),e=null==t?t:t[e],null==e?C:e.apply(t,n)}function Dn(t){return null!=t&&Ln(Pr(t))}function kn(t,e){return t="number"==typeof t||Nt.test(t)?+t:-1,e=null==e?kr:e,t>-1&&0==t%1&&e>t}function Tn(t,e,n){if(!mi(n))return!1;var i=typeof e;return("number"==i?Dn(n)&&kn(e,n.length):"string"==i&&e in n)?(e=n[e],t===t?t===e:e!==e):!1}function jn(t,e){var n=typeof t;return"string"==n&&vt.test(t)||"number"==n?!0:Na(t)?!1:!mt.test(t)||null!=e&&t in Pn(e)}function zn(t){var e=bn(t),n=Bt[e];return"function"==typeof n&&e in Zt.prototype?t===n?!0:(e=Er(n),!!e&&t===e[0]):!1}function Ln(t){return"number"==typeof t&&t>-1&&0==t%1&&kr>=t}function Bn(t,e){return t===C?e:Sa(t,e,Bn)}function Gn(t,e){t=Pn(t);for(var n=-1,i=e.length,r={};++n<i;){var a=e[n];a in t&&(r[a]=t[a])}return r}function On(t,e){var n={};return fe(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function Zn(t){for(var e=Ni(t),n=e.length,i=n&&t.length,r=!!i&&Ln(i)&&(Na(t)||fi(t)),a=-1,o=[];++a<n;){var s=e[a];(r&&kn(s,i)||tr.call(t,s))&&o.push(s)}return o}function En(t){return null==t?[]:Dn(t)?mi(t)?t:Xi(t):Di(t)}function Pn(t){return mi(t)?t:Xi(t)}function Fn(t){if(Na(t))return t;var e=[];return r(t).replace(yt,function(t,n,i,r){e.push(i?r.replace(xt,"$1"):n||t)}),e}function Rn(t){return t instanceof Zt?t.clone():new Ot(t.__wrapped__,t.__chain__,Rt(t.__actions__))}function Wn(t,e,n){return t&&t.length?((n?Tn(t,e,n):null==e)&&(e=1),Se(t,0>e?0:e)):[]}function Yn(t,e,n){var i=t?t.length:0;return i?((n?Tn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Se(t,0,0>e?0:e)):[]}function Un(t){return t?t[0]:C}function Xn(t,e,i){var r=t?t.length:0;if(!r)return-1;if("number"==typeof i)i=0>i?br(r+i,0):i;else if(i)return i=Oe(t,e),r>i&&(e===e?e===t[i]:t[i]!==t[i])?i:-1;return n(t,e,i||0)}function Hn(t){var e=t?t.length:0;return e?t[e-1]:C}function Vn(t){return Wn(t,1)}function Jn(t,e,i,r){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(r=i,i=Tn(t,e,r)?C:e,e=!1);var a=Cn();if((null!=i||a!==ie)&&(i=a(i,r,3)),e&&xn()===n){e=i;var o;i=-1,r=t.length;for(var a=-1,s=[];++i<r;){var l=t[i],u=e?e(l,i,t):l;i&&o===u||(o=u,s[++a]=l)}t=s}else t=ze(t,i);return t}function $n(t){if(!t||!t.length)return[];var e=-1,n=0;t=Ut(t,function(t){return Dn(t)?(n=br(t.length,n),!0):void 0});for(var i=Pi(n);++e<n;)i[e]=Vt(t,Ae(e));return i}function Qn(t,e,n){return t&&t.length?(t=$n(t),null==e?t:(e=Ee(e,n,4),Vt(t,function(t){return $t(t,e,C,!0)}))):[]}function Kn(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||Na(t[0])||(e=[]);++n<i;){var a=t[n];e?r[a]=e[n]:a&&(r[a[0]]=a[1])}return r}function qn(t){return t=Bt(t),t.__chain__=!0,t}function ti(t,e,n){return e.call(n,t)}function ei(t,e,n){var i=Na(t)?Yt:se;return n&&Tn(t,e,n)&&(e=C),("function"!=typeof e||n!==C)&&(e=Cn(e,n,3)),i(t,e)}function ni(t,e,n){var i=Na(t)?Ut:ue;return e=Cn(e,n,3),i(t,e)}function ii(t,e,n,i){var r=t?Pr(t):0;return Ln(r)||(t=Di(t),r=t.length),n="number"!=typeof n||i&&Tn(e,n,i)?0:0>n?br(r+n,0):n||0,"string"==typeof t||!Na(t)&&bi(t)?r>=n&&-1<t.indexOf(e,n):!!r&&-1<xn(t,e,n)}function ri(t,e,n){var i=Na(t)?Vt:Ie;return e=Cn(e,n,3),i(t,e)}function ai(t,e,n){if(n?Tn(t,e,n):null==e){t=En(t);var i=t.length;return i>0?t[Me(0,i-1)]:C}n=-1,t=wi(t);var i=t.length,r=i-1;for(e=xr(0>e?0:+e||0,i);++n<e;){var i=Me(n,r),a=t[i];t[i]=t[n],t[n]=a}return t.length=e,t}function oi(t,e,n){var i=Na(t)?Qt:De;return n&&Tn(t,e,n)&&(e=C),("function"!=typeof e||n!==C)&&(e=Cn(e,n,3)),i(t,e)}function si(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Ji(Z);var i=t;t=e,e=i}return function(){return 0<--t&&(n=e.apply(this,arguments)),1>=t&&(e=C),n}}function li(t,e,n){function i(e,n){n&&or(n),l=f=d=C,e&&(g=da(),u=t.apply(h,s),f||l||(s=h=C))}function r(){var t=e-(da()-c);0>=t||t>e?i(d,l):f=hr(r,t)}function a(){i(m,f)}function o(){if(s=arguments,c=da(),h=this,d=m&&(f||!v),!1===p)var n=v&&!f;else{l||v||(g=c);var i=p-(c-g),o=0>=i||i>p;o?(l&&(l=or(l)),g=c,u=t.apply(h,s)):l||(l=hr(a,i))}return o&&f?f=or(f):f||e===p||(f=hr(r,e)),n&&(o=!0,u=t.apply(h,s)),!o||f||l||(s=h=C),u}var s,l,u,c,h,f,d,g=0,p=!1,m=!0;if("function"!=typeof t)throw new Ji(Z);if(e=0>e?0:+e||0,!0===n)var v=!0,m=!1;else mi(n)&&(v=!!n.leading,p="maxWait"in n&&br(+n.maxWait||0,e),m="trailing"in n?!!n.trailing:m);return o.cancel=function(){f&&or(f),l&&or(l),g=0,l=f=d=C},o}function ui(t,e){function n(){var i=arguments,r=e?e.apply(this,i):i[0],a=n.cache;return a.has(r)?a.get(r):(i=t.apply(this,i),n.cache=a.set(r,i),i)}if("function"!=typeof t||e&&"function"!=typeof e)throw new Ji(Z);return n.cache=new ui.Cache,n}function ci(t,e){if("function"!=typeof t)throw new Ji(Z);return e=br(e===C?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=br(n.length-e,0),a=Pi(r);++i<r;)a[i]=n[e+i];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}for(r=Pi(e+1),i=-1;++i<e;)r[i]=n[i];return r[e]=a,t.apply(this,r)}}function hi(t,e){return t>e}function fi(t){return d(t)&&Dn(t)&&tr.call(t,"callee")&&!ur.call(t,"callee")}function di(t,e,n,i){return i=(n="function"==typeof n?Ee(n,i,3):C)?n(t,e):C,i===C?ve(t,e,n):!!i}function gi(t){return d(t)&&"string"==typeof t.message&&nr.call(t)==Y}function pi(t){return mi(t)&&nr.call(t)==U}function mi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function vi(t){return null==t?!1:pi(t)?rr.test(qi.call(t)):d(t)&&Mt.test(t)}function yi(t){return"number"==typeof t||d(t)&&nr.call(t)==X}function Ii(t){var e;if(!d(t)||nr.call(t)!=H||fi(t)||!(tr.call(t,"constructor")||(e=t.constructor,"function"!=typeof e||e instanceof e)))return!1;var n;return fe(t,function(t,e){n=e}),n===C||tr.call(t,n)}function Ci(t){return mi(t)&&nr.call(t)==V}function bi(t){return"string"==typeof t||d(t)&&nr.call(t)==J}function xi(t){return d(t)&&Ln(t.length)&&!!zt[nr.call(t)]}function Ai(t,e){return e>t}function wi(t){var e=t?Pr(t):0;return Ln(e)?e?Rt(t):[]:Di(t)}function _i(t){return ne(t,Ni(t))}function Mi(t){return pe(t,Ni(t))}function Ni(t){if(null==t)return[];mi(t)||(t=Xi(t));for(var e=t.length,e=e&&Ln(e)&&(Na(t)||fi(t))&&e||0,n=t.constructor,i=-1,n="function"==typeof n&&n.prototype===t,r=Pi(e),a=e>0;++i<e;)r[i]=i+"";for(var o in t)a&&kn(o,e)||"constructor"==o&&(n||!tr.call(t,o))||r.push(o);return r}function Si(t){t=Pn(t);for(var e=-1,n=Za(t),i=n.length,r=Pi(i);++e<i;){var a=n[e];r[e]=[a,t[a]]}return r}function Di(t){return Le(t,Za(t))}function ki(t){return(t=r(t))&&t.replace(St,l).replace(bt,"")}function Ti(t,e){var n="";if(t=r(t),e=+e,1>e||!t||!Ir(e))return n;do e%2&&(n+=t),e=vr(e/2),t+=t;while(e);return n}function ji(t,e,n){var i=t;return(t=r(t))?(n?Tn(i,e,n):null==e)?t.slice(m(t),v(t)+1):(e+="",t.slice(a(t,e),o(t,e)+1)):t}function zi(t,e,n){return n&&Tn(t,e,n)&&(e=C),t=r(t),t.match(e||Tt)||[]}function Li(t,e,n){return n&&Tn(t,e,n)&&(e=C),d(t)?Gi(t):ie(t,e)}function Bi(t){return t}function Gi(t){return Ce(re(t,!0))}function Oi(t,e,n){if(null==n){var i=mi(e),r=i?Za(e):C;((r=r&&r.length?pe(e,r):C)?r.length:i)||(r=!1,n=e,e=t,t=this)}r||(r=pe(e,Za(e)));var a=!0,i=-1,o=pi(t),s=r.length;!1===n?a=!1:mi(n)&&"chain"in n&&(a=n.chain);for(;++i<s;){n=r[i];var l=e[n];t[n]=l,o&&(t.prototype[n]=function(e){return function(){var n=this.__chain__;if(a||n){var i=t(this.__wrapped__);return(i.__actions__=Rt(this.__actions__)).push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,Jt([this.value()],arguments))}}(l))}return t}function Zi(){}function Ei(t){return jn(t)?Ae(t):we(t)}g=g?Ht.defaults(Xt.Object(),g,Ht.pick(Xt,jt)):Xt;var Pi=g.Array,Fi=g.Date,Ri=g.Error,Wi=g.Function,Yi=g.Math,Ui=g.Number,Xi=g.Object,Hi=g.RegExp,Vi=g.String,Ji=g.TypeError,$i=Pi.prototype,Qi=Xi.prototype,Ki=Vi.prototype,qi=Wi.prototype.toString,tr=Qi.hasOwnProperty,er=0,nr=Qi.toString,ir=Xt._,rr=Hi("^"+qi.call(tr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ar=g.ArrayBuffer,or=g.clearTimeout,sr=g.parseFloat,lr=Yi.pow,ur=Qi.propertyIsEnumerable,cr=wn(g,"Set"),hr=g.setTimeout,fr=$i.splice,dr=g.Uint8Array,gr=wn(g,"WeakMap"),pr=Yi.ceil,mr=wn(Xi,"create"),vr=Yi.floor,yr=wn(Pi,"isArray"),Ir=g.isFinite,Cr=wn(Xi,"keys"),br=Yi.max,xr=Yi.min,Ar=wn(Fi,"now"),wr=g.parseInt,_r=Yi.random,Mr=Ui.NEGATIVE_INFINITY,Nr=Ui.POSITIVE_INFINITY,Sr=4294967294,Dr=2147483647,kr=9007199254740991,Tr=gr&&new gr,jr={};Bt.support={},Bt.templateSettings={escape:dt,evaluate:gt,interpolate:pt,variable:"",imports:{_:Bt}};var zr=function(){function t(){}return function(e){if(mi(e)){t.prototype=e;var n=new t;t.prototype=C}return n||{}}}(),Lr=Ue(de),Br=Ue(ge,!0),Gr=Xe(),Or=Xe(!0),Zr=Tr?function(t,e){return Tr.set(t,e),t}:Bi,Er=Tr?function(t){return Tr.get(t)}:Zi,Pr=Ae("length"),Fr=function(){var t=0,e=0;return function(n,i){var r=da(),a=L-(r-e);if(e=r,a>0){if(++t>=z)return n}else t=0;return Zr(n,i)}}(),Rr=ci(function(t,e){return d(t)&&Dn(t)?oe(t,he(e,!1,!0)):[]}),Wr=tn(),Yr=tn(!0),Ur=ci(function(t){for(var e=t.length,i=e,r=Pi(c),a=xn(),o=a===n,s=[];i--;){var l=t[i]=Dn(l=t[i])?l:[];r[i]=o&&120<=l.length&&mr&&cr?new Pt(i&&l):null}var o=t[0],u=-1,c=o?o.length:0,h=r[0];t:for(;++u<c;)if(l=o[u],0>(h?Ft(h,l):a(s,l,0))){for(i=e;--i;){var f=r[i];if(0>(f?Ft(f,l):a(t[i],l,0)))continue t}h&&h.push(l),s.push(l)}return s}),Xr=ci(function(e,n){n=he(n);var i=ee(e,n);return _e(e,n.sort(t)),i}),Hr=pn(),Vr=pn(!0),Jr=ci(function(t){return ze(he(t,!1,!0))}),$r=ci(function(t,e){return Dn(t)?oe(t,e):[]}),Qr=ci($n),Kr=ci(function(t){var e=t.length,n=e>2?t[e-2]:C,i=e>1?t[e-1]:C;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):C,i=C),t.length=e,Qn(t,n,i)}),qr=ci(function(t){return t=he(t),this.thru(function(e){e=Na(e)?e:[Pn(e)];for(var n=t,i=-1,r=e.length,a=-1,o=n.length,s=Pi(r+o);++i<r;)s[i]=e[i];for(;++a<o;)s[i++]=n[a];return s})}),ta=ci(function(t,e){return ee(t,he(e))}),ea=We(function(t,e,n){tr.call(t,n)?++t[n]:t[n]=1}),na=qe(Lr),ia=qe(Br,!0),ra=rn(Wt,Lr),aa=rn(function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t},Br),oa=We(function(t,e,n){tr.call(t,n)?t[n].push(e):t[n]=[e]}),sa=We(function(t,e,n){t[n]=e}),la=ci(function(t,e,n){var i=-1,r="function"==typeof e,a=jn(e),o=Dn(t)?Pi(t.length):[];return Lr(t,function(t){var s=r?e:a&&null!=t?t[e]:C;o[++i]=s?s.apply(t,n):Sn(t,e,n)}),o}),ua=We(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ca=cn($t,Lr),ha=cn(function(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n},Br),fa=ci(function(t,e){if(null==t)return[];var n=e[2];return n&&Tn(e[0],e[1],n)&&(e.length=1),Te(t,he(e),[])}),da=Ar||function(){return(new Fi).getTime()},ga=ci(function(t,e,n){var i=x;if(n.length)var r=p(n,ga.placeholder),i=i|N;return mn(t,i,e,n,r)}),pa=ci(function(t,e){e=e.length?he(e):Mi(t);for(var n=-1,i=e.length;++n<i;){var r=e[n];t[r]=mn(t[r],x,t)}return t}),ma=ci(function(t,e,n){var i=x|A;if(n.length)var r=p(n,ma.placeholder),i=i|N;return mn(e,i,t,n,r)}),va=$e(_),ya=$e(M),Ia=ci(function(t,e){return ae(t,1,e)}),Ca=ci(function(t,e,n){return ae(t,e,n)}),ba=nn(),xa=nn(!0),Aa=ci(function(t,e){if(e=he(e),"function"!=typeof t||!Yt(e,i))throw new Ji(Z);var n=e.length;return ci(function(i){for(var r=xr(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)})}),wa=un(N),_a=un(S),Ma=ci(function(t,e){return mn(t,k,C,C,C,he(e))}),Na=yr||function(t){return d(t)&&Ln(t.length)&&nr.call(t)==F},Sa=Ye(xe),Da=Ye(function(t,e,n){return n?qt(t,e,n):te(t,e)}),ka=Qe(Da,function(t,e){return t===C?e:t}),Ta=Qe(Sa,Bn),ja=en(de),za=en(ge),La=an(Gr),Ba=an(Or),Ga=on(de),Oa=on(ge),Za=Cr?function(t){var e=null==t?C:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Dn(t)?Zn(t):mi(t)?Cr(t):[]}:Zn,Ea=sn(!0),Pa=sn(),Fa=ci(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Vt(he(e),Vi),Gn(t,oe(Ni(t),e));var n=Ee(e[0],e[1],3);return On(t,function(t,e,i){return!n(t,e,i)})}),Ra=ci(function(t,e){return null==t?{}:"function"==typeof e[0]?On(t,Ee(e[0],e[1],3)):Gn(t,he(e))}),Wa=Ve(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Ya=Ve(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ua=ln(),Xa=ln(!0),Ha=Ve(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Va=Ve(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ja=ci(function(t,e){try{return t.apply(C,e)}catch(n){return gi(n)?n:new Ri(n)}}),$a=ci(function(t,e){return function(n){return Sn(n,t,e)}}),Qa=ci(function(t,e){return function(n){return Sn(t,n,e)}}),Ka=gn("ceil"),qa=gn("floor"),to=Ke(hi,Mr),eo=Ke(Ai,Nr),no=gn("round");return Bt.prototype=Gt.prototype,Ot.prototype=zr(Gt.prototype),Ot.prototype.constructor=Ot,Zt.prototype=zr(Gt.prototype),Zt.prototype.constructor=Zt,Et.prototype["delete"]=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){return"__proto__"==t?C:this.__data__[t]},Et.prototype.has=function(t){return"__proto__"!=t&&tr.call(this.__data__,t)},Et.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Pt.prototype.push=function(t){var e=this.data;"string"==typeof t||mi(t)?e.set.add(t):e.hash[t]=!0},ui.Cache=Et,Bt.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Ji(Z);var n=t;t=e,e=n}return t=Ir(t=+t)?t:0,function(){return 1>--t?e.apply(this,arguments):void 0}},Bt.ary=function(t,e,n){return n&&Tn(t,e,n)&&(e=C),e=t&&null==e?t.length:br(+e||0,0),mn(t,D,C,C,C,C,e)},Bt.assign=Da,Bt.at=ta,Bt.before=si,Bt.bind=ga,Bt.bindAll=pa,Bt.bindKey=ma,Bt.callback=Li,Bt.chain=qn,Bt.chunk=function(t,e,n){e=(n?Tn(t,e,n):null==e)?1:br(vr(e)||1,1),n=0;for(var i=t?t.length:0,r=-1,a=Pi(pr(i/e));i>n;)a[++r]=Se(t,n,n+=e);return a},Bt.compact=function(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var a=t[e];a&&(r[++i]=a)}return r},Bt.constant=function(t){return function(){return t}},Bt.countBy=ea,Bt.create=function(t,e,n){var i=zr(t);return n&&Tn(t,e,n)&&(e=C),e?te(i,e):i},Bt.curry=va,Bt.curryRight=ya,Bt.debounce=li,Bt.defaults=ka,Bt.defaultsDeep=Ta,Bt.defer=Ia,Bt.delay=Ca,Bt.difference=Rr,Bt.drop=Wn,Bt.dropRight=Yn,Bt.dropRightWhile=function(t,e,n){return t&&t.length?Be(t,Cn(e,n,3),!0,!0):[]},Bt.dropWhile=function(t,e,n){return t&&t.length?Be(t,Cn(e,n,3),!0):[]},Bt.fill=function(t,e,n,i){var r=t?t.length:0;if(!r)return[];for(n&&"number"!=typeof n&&Tn(t,e,n)&&(n=0,i=r),r=t.length,n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),i=i===C||i>r?r:+i||0,0>i&&(i+=r),r=n>i?0:i>>>0,n>>>=0;r>n;)t[n++]=e;return t},Bt.filter=ni,Bt.flatten=function(t,e,n){var i=t?t.length:0;return n&&Tn(t,e,n)&&(e=!1),i?he(t,e):[]},Bt.flattenDeep=function(t){return t&&t.length?he(t,!0):[]},Bt.flow=ba,Bt.flowRight=xa,Bt.forEach=ra,Bt.forEachRight=aa,Bt.forIn=La,Bt.forInRight=Ba,Bt.forOwn=Ga,Bt.forOwnRight=Oa,Bt.functions=Mi,Bt.groupBy=oa,Bt.indexBy=sa,Bt.initial=function(t){return Yn(t,1)},Bt.intersection=Ur,Bt.invert=function(t,e,n){n&&Tn(t,e,n)&&(e=C),n=-1;for(var i=Za(t),r=i.length,a={};++n<r;){var o=i[n],s=t[o];e?tr.call(a,s)?a[s].push(o):a[s]=[o]:a[s]=o}return a},Bt.invoke=la,Bt.keys=Za,Bt.keysIn=Ni,Bt.map=ri,Bt.mapKeys=Ea,Bt.mapValues=Pa,Bt.matches=Gi,Bt.matchesProperty=function(t,e){return be(t,re(e,!0))},Bt.memoize=ui,Bt.merge=Sa,Bt.method=$a,Bt.methodOf=Qa,Bt.mixin=Oi,Bt.modArgs=Aa,Bt.negate=function(t){if("function"!=typeof t)throw new Ji(Z);return function(){return!t.apply(this,arguments)}},Bt.omit=Fa,Bt.once=function(t){return si(2,t)},Bt.pairs=Si,Bt.partial=wa,Bt.partialRight=_a,Bt.partition=ua,Bt.pick=Ra,Bt.pluck=function(t,e){return ri(t,Ei(e))},Bt.property=Ei,Bt.propertyOf=function(t){return function(e){return me(t,Fn(e),e+"")}},Bt.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=xn(),r=t.length;++n<r;)for(var a=0,o=t[n];-1<(a=i(e,o,a));)fr.call(e,a,1);return e},Bt.pullAt=Xr,Bt.range=function(t,e,n){n&&Tn(t,e,n)&&(e=n=C),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;var i=-1;e=br(pr((e-t)/(n||1)),0);for(var r=Pi(e);++i<e;)r[i]=t,t+=n;return r},Bt.rearg=Ma,Bt.reject=function(t,e,n){var i=Na(t)?Ut:ue;return e=Cn(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})},Bt.remove=function(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,a=[],o=t.length;for(e=Cn(e,n,3);++r<o;)n=t[r],e(n,r,t)&&(i.push(n),a.push(r));return _e(t,a),i},Bt.rest=Vn,Bt.restParam=ci,Bt.set=function(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||jn(e,t)?[i]:Fn(e);for(var i=-1,r=e.length,a=r-1,o=t;null!=o&&++i<r;){var s=e[i];mi(o)&&(i==a?o[s]=n:null==o[s]&&(o[s]=kn(e[i+1])?[]:{})),o=o[s]}return t},Bt.shuffle=function(t){return ai(t,Nr)},Bt.slice=function(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Tn(t,e,n)&&(e=0,n=i),Se(t,e,n)):[]},Bt.sortBy=function(t,e,n){if(null==t)return[];n&&Tn(t,e,n)&&(e=C);var i=-1;return e=Cn(e,n,3),t=Ie(t,function(t,n,r){return{a:e(t,n,r),b:++i,c:t}}),ke(t,s)},Bt.sortByAll=fa,Bt.sortByOrder=function(t,e,n,i){return null==t?[]:(i&&Tn(e,n,i)&&(n=C),Na(e)||(e=null==e?[]:[e]),Na(n)||(n=null==n?[]:[n]),Te(t,e,n))},Bt.spread=function(t){if("function"!=typeof t)throw new Ji(Z);return function(e){return t.apply(this,e)}},Bt.take=function(t,e,n){return t&&t.length?((n?Tn(t,e,n):null==e)&&(e=1),Se(t,0,0>e?0:e)):[]},Bt.takeRight=function(t,e,n){var i=t?t.length:0;return i?((n?Tn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Se(t,0>e?0:e)):[]},Bt.takeRightWhile=function(t,e,n){return t&&t.length?Be(t,Cn(e,n,3),!1,!0):[]},Bt.takeWhile=function(t,e,n){return t&&t.length?Be(t,Cn(e,n,3)):[]},Bt.tap=function(t,e,n){return e.call(n,t),t},Bt.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Ji(Z);return!1===n?i=!1:mi(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),li(t,e,{leading:i,maxWait:+e,trailing:r})},Bt.thru=ti,Bt.times=function(t,e,n){if(t=vr(t),1>t||!Ir(t))return[];var i=-1,r=Pi(xr(t,4294967295));for(e=Ee(e,n,1);++i<t;)4294967295>i?r[i]=e(i):e(i);return r},Bt.toArray=wi,Bt.toPlainObject=_i,Bt.transform=function(t,e,n,i){var r=Na(t)||xi(t);return e=Cn(e,i,4),null==n&&(r||mi(t)?(i=t.constructor,n=r?Na(t)?new i:[]:zr(pi(i)?i.prototype:C)):n={}),(r?Wt:de)(t,function(t,i,r){return e(n,t,i,r)}),n},Bt.union=Jr,Bt.uniq=Jn,Bt.unzip=$n,Bt.unzipWith=Qn,Bt.values=Di,Bt.valuesIn=function(t){return Le(t,Ni(t))},Bt.where=function(t,e){return ni(t,Ce(e))},Bt.without=$r,Bt.wrap=function(t,e){return e=null==e?Bi:e,mn(e,N,C,[t],[])},Bt.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Dn(n))var i=i?Jt(oe(i,n),oe(n,i)):n}return i?ze(i):[]},Bt.zip=Qr,Bt.zipObject=Kn,Bt.zipWith=Kr,Bt.backflow=xa,Bt.collect=ri,Bt.compose=xa,Bt.each=ra,Bt.eachRight=aa,Bt.extend=Da,Bt.iteratee=Li,Bt.methods=Mi,Bt.object=Kn,Bt.select=ni,Bt.tail=Vn,Bt.unique=Jn,Oi(Bt,Bt),Bt.add=function(t,e){return(+t||0)+(+e||0)},Bt.attempt=Ja,Bt.camelCase=Wa,Bt.capitalize=function(t){return(t=r(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Bt.ceil=Ka,Bt.clone=function(t,e,n,i){return e&&"boolean"!=typeof e&&Tn(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?re(t,e,Ee(n,i,3)):re(t,e)},Bt.cloneDeep=function(t,e,n){return"function"==typeof e?re(t,!0,Ee(e,n,3)):re(t,!0)},Bt.deburr=ki,Bt.endsWith=function(t,e,n){t=r(t),e+="";var i=t.length;return n=n===C?i:xr(0>n?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n},Bt.escape=function(t){return(t=r(t))&&ft.test(t)?t.replace(ct,u):t},Bt.escapeRegExp=function(t){return(t=r(t))&&Ct.test(t)?t.replace(It,c):t||"(?:)"},Bt.every=ei,Bt.find=na,Bt.findIndex=Wr,Bt.findKey=ja,Bt.findLast=ia,Bt.findLastIndex=Yr,Bt.findLastKey=za,Bt.findWhere=function(t,e){return na(t,Ce(e))},Bt.first=Un,Bt.floor=qa,Bt.get=function(t,e,n){return t=null==t?C:me(t,Fn(e),e+""),t===C?n:t},Bt.gt=hi,Bt.gte=function(t,e){return t>=e},Bt.has=function(t,e){if(null==t)return!1;var n=tr.call(t,e);if(!n&&!jn(e)){if(e=Fn(e),t=1==e.length?t:me(t,Se(e,0,-1)),null==t)return!1;e=Hn(e),n=tr.call(t,e)}return n||Ln(t.length)&&kn(e,t.length)&&(Na(t)||fi(t))},Bt.identity=Bi,Bt.includes=ii,Bt.indexOf=Xn,Bt.inRange=function(t,e,n){return e=+e||0,n===C?(n=e,e=0):n=+n||0,t>=xr(e,n)&&t<br(e,n)},Bt.isArguments=fi,Bt.isArray=Na,Bt.isBoolean=function(t){return!0===t||!1===t||d(t)&&nr.call(t)==R},Bt.isDate=function(t){return d(t)&&nr.call(t)==W},Bt.isElement=function(t){return!!t&&1===t.nodeType&&d(t)&&!Ii(t)},Bt.isEmpty=function(t){return null==t?!0:Dn(t)&&(Na(t)||bi(t)||fi(t)||d(t)&&pi(t.splice))?!t.length:!Za(t).length},Bt.isEqual=di,Bt.isError=gi,Bt.isFinite=function(t){return"number"==typeof t&&Ir(t)},Bt.isFunction=pi,Bt.isMatch=function(t,e,n,i){return n="function"==typeof n?Ee(n,i,3):C,ye(t,An(e),n)},Bt.isNaN=function(t){return yi(t)&&t!=+t},Bt.isNative=vi,Bt.isNull=function(t){return null===t},Bt.isNumber=yi,Bt.isObject=mi,Bt.isPlainObject=Ii,Bt.isRegExp=Ci,Bt.isString=bi,Bt.isTypedArray=xi,Bt.isUndefined=function(t){return t===C},Bt.kebabCase=Ya,Bt.last=Hn,Bt.lastIndexOf=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?br(i+n,0):xr(n||0,i-1))+1;else if(n)return r=Oe(t,e,!0)-1,t=t[r],(e===e?e===t:t!==t)?r:-1;if(e!==e)return f(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1},Bt.lt=Ai,Bt.lte=function(t,e){return e>=t},Bt.max=to,Bt.min=eo,Bt.noConflict=function(){return Xt._=ir,this},Bt.noop=Zi,Bt.now=da,Bt.pad=function(t,e,n){t=r(t),e=+e;var i=t.length;return e>i&&Ir(e)?(i=(e-i)/2,e=vr(i),i=pr(i),n=fn("",i,n),n.slice(0,e)+t+n):t},Bt.padLeft=Ua,Bt.padRight=Xa,Bt.parseInt=function(t,e,n){return(n?Tn(t,e,n):null==e)?e=0:e&&(e=+e),t=ji(t),wr(t,e||(_t.test(t)?16:10))},Bt.random=function(t,e,n){n&&Tn(t,e,n)&&(e=n=C);var i=null==t,r=null==e;return null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1?(n=_r(),xr(t+n*(e-t+sr("1e-"+((n+"").length-1))),e)):Me(t,e)},Bt.reduce=ca,Bt.reduceRight=ha,Bt.repeat=Ti,Bt.result=function(t,e,n){var i=null==t?C:t[e];return i===C&&(null==t||jn(e,t)||(e=Fn(e),t=1==e.length?t:me(t,Se(e,0,-1)),i=null==t?C:t[Hn(e)]),i=i===C?n:i),pi(i)?i.call(t):i},Bt.round=no,Bt.runInContext=I,Bt.size=function(t){var e=t?Pr(t):0;return Ln(e)?e:Za(t).length},Bt.snakeCase=Ha,Bt.some=oi,Bt.sortedIndex=Hr,Bt.sortedLastIndex=Vr,Bt.startCase=Va,Bt.startsWith=function(t,e,n){return t=r(t),n=null==n?0:xr(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n},Bt.sum=function(t,e,n){if(n&&Tn(t,e,n)&&(e=C),e=Cn(e,n,3),1==e.length){t=Na(t)?t:En(t),n=t.length;for(var i=0;n--;)i+=+e(t[n])||0;t=i}else t=je(t,e);return t},Bt.template=function(t,e,n){var i=Bt.templateSettings;n&&Tn(t,e,n)&&(e=n=C),t=r(t),e=qt(te({},n||e),i,Kt),n=qt(te({},e.imports),i.imports,Kt);var a,o,s=Za(n),l=Le(n,s),u=0;n=e.interpolate||Dt;var c="__p+='";n=Hi((e.escape||Dt).source+"|"+n.source+"|"+(n===pt?At:Dt).source+"|"+(e.evaluate||Dt).source+"|$","g");var f="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,i,r,s,l){return i||(i=r),c+=t.slice(u,l).replace(kt,h),n&&(a=!0,c+="'+__e("+n+")+'"),s&&(o=!0,c+="';"+s+";\n__p+='"),i&&(c+="'+((__t=("+i+"))==null?'':__t)+'"),u=l+e.length,e}),c+="';",(e=e.variable)||(c="with(obj){"+c+"}"),c=(o?c.replace(ot,""):c).replace(st,"$1").replace(lt,"$1;"),c="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(a?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",e=Ja(function(){return Wi(s,f+"return "+c).apply(C,l)}),e.source=c,gi(e))throw e;return e},Bt.trim=ji,Bt.trimLeft=function(t,e,n){var i=t;return(t=r(t))?t.slice((n?Tn(i,e,n):null==e)?m(t):a(t,e+"")):t},Bt.trimRight=function(t,e,n){var i=t;return(t=r(t))?(n?Tn(i,e,n):null==e)?t.slice(0,v(t)+1):t.slice(0,o(t,e+"")+1):t},Bt.trunc=function(t,e,n){n&&Tn(t,e,n)&&(e=C);var i=T;if(n=j,null!=e)if(mi(e)){var a="separator"in e?e.separator:a,i="length"in e?+e.length||0:i;n="omission"in e?r(e.omission):n}else i=+e||0;if(t=r(t),i>=t.length)return t;if(i-=n.length,1>i)return n;if(e=t.slice(0,i),null==a)return e+n;if(Ci(a)){if(t.slice(i).search(a)){var o,s=t.slice(0,i);for(a.global||(a=Hi(a.source,(wt.exec(a)||"")+"g")),a.lastIndex=0;t=a.exec(s);)o=t.index;e=e.slice(0,null==o?i:o)}}else t.indexOf(a,i)!=i&&(a=e.lastIndexOf(a),a>-1&&(e=e.slice(0,a)));return e+n},Bt.unescape=function(t){return(t=r(t))&&ht.test(t)?t.replace(ut,y):t},Bt.uniqueId=function(t){var e=++er;return r(t)+e},Bt.words=zi,Bt.all=ei,Bt.any=oi,Bt.contains=ii,Bt.eq=di,Bt.detect=na,Bt.foldl=ca,Bt.foldr=ha,Bt.head=Un,Bt.include=ii,Bt.inject=ca,Oi(Bt,function(){var t={};return de(Bt,function(e,n){Bt.prototype[n]||(t[n]=e)}),t}(),!1),Bt.sample=ai,Bt.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ai(e,t)}):ai(this.value())},Bt.VERSION=b,Wt("bind bindKey curry curryRight partial partialRight".split(" "),function(t){Bt[t].placeholder=Bt}),Wt(["drop","take"],function(t,e){Zt.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Zt(this);n=null==n?1:br(vr(n)||0,0);var r=this.clone();return i?r.__takeCount__=xr(r.__takeCount__,n):r.__views__.push({size:n,type:t+(0>r.__dir__?"Right":"")}),r},Zt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Wt(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n!=O;Zt.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:Cn(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),Wt(["first","last"],function(t,e){var n="take"+(e?"Right":"");Zt.prototype[t]=function(){return this[n](1).value()[0]}}),Wt(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Zt.prototype[t]=function(){return this.__filtered__?new Zt(this):this[n](1)}}),Wt(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?Ce:Ei;Zt.prototype[t]=function(t){return this[n](i(t))}}),Zt.prototype.compact=function(){return this.filter(Bi)},Zt.prototype.reject=function(t,e){return t=Cn(t,e,1),this.filter(function(e){return!t(e)})},Zt.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||0>e)?new Zt(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==C&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n)},Zt.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Zt.prototype.toArray=function(){return this.take(Nr)},de(Zt.prototype,function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),i=/^(?:first|last)$/.test(e),r=Bt[i?"take"+("last"==e?"Right":""):e];r&&(Bt.prototype[e]=function(){function e(t){return i&&o?r(t,1)[0]:r.apply(C,Jt([t],a))}var a=i?[1]:arguments,o=this.__chain__,s=this.__wrapped__,l=!!this.__actions__.length,u=s instanceof Zt,c=a[0],h=u||Na(s);return h&&n&&"function"==typeof c&&1!=c.length&&(u=h=!1),c={func:ti,args:[e],thisArg:C},l=u&&!l,i&&!o?l?(s=s.clone(),s.__actions__.push(c),t.call(s)):r.call(C,this.value())[0]:!i&&h?(s=l?s:new Zt(this),s=t.apply(s,a),s.__actions__.push(c),new Ot(s,o)):this.thru(e)})}),Wt("join pop push replace shift sort splice split unshift".split(" "),function(t){var e=(/^(?:replace|split)$/.test(t)?Ki:$i)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);Bt.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),de(Zt.prototype,function(t,e){var n=Bt[e];if(n){var i=n.name+"";(jr[i]||(jr[i]=[])).push({name:e,func:n})}}),jr[hn(C,A).name]=[{name:"wrapper",func:C}],Zt.prototype.clone=function(){var t=new Zt(this.__wrapped__);return t.__actions__=Rt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Rt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Rt(this.__views__),t},Zt.prototype.reverse=function(){if(this.__filtered__){var t=new Zt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Zt.prototype.value=function(){var t,e=this.__wrapped__.value(),n=this.__dir__,i=Na(e),r=0>n,a=i?e.length:0;t=a;for(var o=this.__views__,s=0,l=-1,u=o.length;++l<u;){var c=o[l],h=c.size;switch(c.type){case"drop":s+=h;break;case"dropRight":t-=h;break;case"take":t=xr(t,s+h);break;case"takeRight":s=br(s,t-h)}}if(t={start:s,end:t},o=t.start,s=t.end,t=s-o,r=r?s:o-1,o=this.__iteratees__,s=o.length,l=0,u=xr(t,this.__takeCount__),!i||B>a||a==t&&u==t)return Ge(e,this.__actions__);i=[];t:for(;t--&&u>l;){for(r+=n,a=-1,c=e[r];++a<s;){var f=o[a],h=f.type,f=f.iteratee(c);if(h==O)c=f;else if(!f){if(h==G)continue t;break t}}i[l++]=c}return i},Bt.prototype.chain=function(){return qn(this)},Bt.prototype.commit=function(){return new Ot(this.value(),this.__chain__)},Bt.prototype.concat=qr,Bt.prototype.plant=function(t){for(var e,n=this;n instanceof Gt;){var i=Rn(n);e?r.__wrapped__=i:e=i;var r=i,n=n.__wrapped__}return r.__wrapped__=t,e},Bt.prototype.reverse=function(){function t(t){return t.reverse()}var e=this.__wrapped__;return e instanceof Zt?(this.__actions__.length&&(e=new Zt(this)),e=e.reverse(),e.__actions__.push({func:ti,args:[t],thisArg:C}),new Ot(e,this.__chain__)):this.thru(t)},Bt.prototype.toString=function(){return this.value()+""},Bt.prototype.run=Bt.prototype.toJSON=Bt.prototype.valueOf=Bt.prototype.value=function(){return Ge(this.__wrapped__,this.__actions__)},Bt.prototype.collect=Bt.prototype.map,Bt.prototype.head=Bt.prototype.first,Bt.prototype.select=Bt.prototype.filter,Bt.prototype.tail=Bt.prototype.rest,Bt}var C,b="3.10.1",x=1,A=2,w=4,_=8,M=16,N=32,S=64,D=128,k=256,T=30,j="...",z=150,L=16,B=200,G=1,O=2,Z="Expected a function",E="__lodash_placeholder__",P="[object Arguments]",F="[object Array]",R="[object Boolean]",W="[object Date]",Y="[object Error]",U="[object Function]",X="[object Number]",H="[object Object]",V="[object RegExp]",J="[object String]",$="[object ArrayBuffer]",Q="[object Float32Array]",K="[object Float64Array]",q="[object Int8Array]",tt="[object Int16Array]",et="[object Int32Array]",nt="[object Uint8Array]",it="[object Uint8ClampedArray]",rt="[object Uint16Array]",at="[object Uint32Array]",ot=/\b__p\+='';/g,st=/\b(__p\+=)''\+/g,lt=/(__e\(.*?\)|\b__t\))\+'';/g,ut=/&(?:amp|lt|gt|quot|#39|#96);/g,ct=/[&<>"'`]/g,ht=RegExp(ut.source),ft=RegExp(ct.source),dt=/<%-([\s\S]+?)%>/g,gt=/<%([\s\S]+?)%>/g,pt=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,vt=/^\w*$/,yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,It=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ct=RegExp(It.source),bt=/[\u0300-\u036f\ufe20-\ufe23]/g,xt=/\\(\\)?/g,At=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wt=/\w*$/,_t=/^0[xX]/,Mt=/^\[object .+?Constructor\]$/,Nt=/^\d+$/,St=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Dt=/($^)/,kt=/['\n\r\u2028\u2029\\]/g,Tt=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),jt="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),zt={};zt[Q]=zt[K]=zt[q]=zt[tt]=zt[et]=zt[nt]=zt[it]=zt[rt]=zt[at]=!0,zt[P]=zt[F]=zt[$]=zt[R]=zt[W]=zt[Y]=zt[U]=zt["[object Map]"]=zt[X]=zt[H]=zt[V]=zt["[object Set]"]=zt[J]=zt["[object WeakMap]"]=!1;var Lt={};Lt[P]=Lt[F]=Lt[$]=Lt[R]=Lt[W]=Lt[Q]=Lt[K]=Lt[q]=Lt[tt]=Lt[et]=Lt[X]=Lt[H]=Lt[V]=Lt[J]=Lt[nt]=Lt[it]=Lt[rt]=Lt[at]=!0,Lt[Y]=Lt[U]=Lt["[object Map]"]=Lt["[object Set]"]=Lt["[object WeakMap]"]=!1;var Bt={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},Gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;",
"'":"&#39;","`":"&#96;"},Ot={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Zt={"function":!0,object:!0},Et={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Pt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ft=Zt[typeof exports]&&exports&&!exports.nodeType&&exports,Rt=Zt[typeof module]&&module&&!module.nodeType&&module,Wt=Zt[typeof self]&&self&&self.Object&&self,Yt=Zt[typeof window]&&window&&window.Object&&window,Ut=Rt&&Rt.exports===Ft&&Ft,Xt=Ft&&Rt&&"object"==typeof global&&global&&global.Object&&global||Yt!==(this&&this.window)&&Yt||Wt||this,Ht=I();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Xt._=Ht,define(function(){return Ht})):Ft&&Rt?Ut?(Rt.exports=Ht)._=Ht:Ft._=Ht:Xt._=Ht}.call(this),function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,i,r){e.Backbone=t(e,r,n,i)});else if("undefined"!=typeof exports){var n,i=require("underscore");try{n=require("jquery")}catch(r){}t(e,exports,i,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,n,i){var r=t.Backbone,a=[].slice;e.VERSION="1.2.1",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],t,r)};case 4:return function(t,r,a){return n[e](this[i],t,r,a)};default:return function(){var t=a.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},s=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=o(e,r,i))})},l=e.Events={},u=/\s+/,c=function(t,e,i,r,a){var o,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in a&&void 0===a.context&&(a.context=r);for(o=n.keys(i);s<o.length;s++)e=t(e,o[s],i[o[s]],a)}else if(i&&u.test(i))for(o=i.split(u);s<o.length;s++)e=t(e,o[s],r,a);else e=t(e,i,r,a);return e};l.on=function(t,e,n){return h(this,t,e,n)};var h=function(t,e,n,i,r){if(t._events=c(f,t._events||{},e,n,{context:i,ctx:t,listening:r}),r){var a=t._listeners||(t._listeners={});a[r.id]=r}return t};l.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),o=a[r];if(!o){var s=this._listenId||(this._listenId=n.uniqueId("l"));o=a[r]={obj:t,objId:r,id:s,listeningTo:a,count:0}}return h(t,e,i,this,o),this};var f=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),a=i.context,o=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:a,ctx:a||o,listening:s})}return t};l.off=function(t,e,n){return this._events?(this._events=c(d,this._events,t,e,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var a=t?[t._listenId]:n.keys(r),o=0;o<a.length;o++){var s=r[a[o]];if(!s)break;s.obj.off(e,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var d=function(t,e,i,r){if(t){var a,o=0,s=r.context,l=r.listeners;if(e||i||s){for(var u=e?[e]:n.keys(t);o<u.length;o++){e=u[o];var c=t[e];if(!c)break;for(var h=[],f=0;f<c.length;f++){var d=c[f];i&&i!==d.callback&&i!==d.callback._callback||s&&s!==d.context?h.push(d):(a=d.listening,a&&0===--a.count&&(delete l[a.id],delete a.listeningTo[a.objId]))}h.length?t[e]=h:delete t[e]}return n.size(t)?t:void 0}for(var g=n.keys(l);o<g.length;o++)a=l[g[o]],delete l[a.id],delete a.listeningTo[a.objId]}};l.once=function(t,e,i){var r=c(g,{},t,e,n.bind(this.off,this));return this.on(r,void 0,i)},l.listenToOnce=function(t,e,i){var r=c(g,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,i,r){if(i){var a=t[e]=n.once(function(){r(e,a),i.apply(this,arguments)});a._callback=i}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;e>i;i++)n[i]=arguments[i+1];return c(p,this._events,t,void 0,n),this};var p=function(t,e,n,i){if(t){var r=t[e],a=t.all;r&&a&&(a=a.slice()),r&&m(r,i),a&&m(a,[e].concat(i))}return t},m=function(t,e){var n,i=-1,r=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a,o,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};l.bind=l.on,l.unbind=l.off,n.extend(e,l);var v=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var a=i.unset,o=i.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;this.idAttribute in r&&(this.id=r[this.idAttribute]);for(var f in r)e=r[f],n.isEqual(u[f],e)||s.push(f),n.isEqual(h[f],e)?delete c[f]:c[f]=e,a?delete u[f]:u[f]=e;if(!o){s.length&&(this._pending=i);for(var d=0;d<s.length;d++)this.trigger("change:"+s[d],this,u[s[d]],i)}if(l)return this;if(!o)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var a=t[r];n.isEqual(e[r],a)||(i[r]=a)}return n.size(i)?i:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;return e.set(r,t)?(i&&i.call(t.context,e,n,t),void e.trigger("sync",e,n,t)):!1},E(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var a=i.wait;if(r&&!a){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var o=this,s=i.success,l=this.attributes;i.success=function(t){o.attributes=l;var e=i.parse?o.parse(t,i):t;return a&&(e=n.extend({},r,e)),e&&!o.set(e,i)?!1:(s&&s.call(i.context,o,t,i),void o.trigger("sync",o,t,i))},E(this,i),r&&a&&(this.attributes=n.extend({},l,r));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=r);var c=this.sync(u,this,i);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,a=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&a(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var o=!1;return this.isNew()?n.defer(t.success):(E(this,t),o=this.sync("delete",this,t)),r||a(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||Z();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var y={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s(v,y,"attributes");var I=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},C={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1};n.extend(I.prototype,l,{model:v,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,b))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:n.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),i?r[0]:r},set:function(t,e){e=n.defaults({},e,C),e.parse&&!this._isModel(t)&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?t?[t]:[]:t.slice();var r,a,o,s,l,u=e.at;null!=u&&(u=+u),0>u&&(u+=this.length+1);for(var c=this.comparator&&null==u&&e.sort!==!1,h=n.isString(this.comparator)?this.comparator:null,f=[],d=[],g={},p=e.add,m=e.merge,v=e.remove,y=!c&&p&&v?[]:!1,I=!1,b=0;b<t.length;b++){if(o=t[b],s=this.get(o))v&&(g[s.cid]=!0),m&&o!==s&&(o=this._isModel(o)?o.attributes:o,e.parse&&(o=s.parse(o,e)),s.set(o,e),c&&!l&&s.hasChanged(h)&&(l=!0)),t[b]=s;else if(p){if(a=t[b]=this._prepareModel(o,e),!a)continue;f.push(a),this._addReference(a,e)}a=s||a,a&&(r=this.modelId(a.attributes),!y||!a.isNew()&&g[r]||(y.push(a),I=I||!this.models[b]||a.cid!==this.models[b].cid),g[r]=!0)}if(v){for(var b=0;b<this.length;b++)g[(a=this.models[b]).cid]||d.push(a);d.length&&this._removeModels(d,e)}if(f.length||I)if(c&&(l=!0),this.length+=f.length,null!=u)for(var b=0;b<f.length;b++)this.models.splice(u+b,0,f[b]);else{y&&(this.models.length=0);for(var x=y||f,b=0;b<x.length;b++)this.models.push(x[b])}if(l&&this.sort({silent:!0}),!e.silent){for(var A=null!=u?n.clone(e):e,b=0;b<f.length;b++)null!=u&&(A.index=u+b),(a=f[b]).trigger("add",a,this,A);(l||I)&&this.trigger("sort",this,e),(f.length||d.length)&&this.trigger("update",this,e)}return i?t[0]:t},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null==t)return void 0;var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){var i=n.matches(t);return this[e?"find":"filter"](function(t){return i(t.attributes)})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},E(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(t=this._prepareModel(t,e),!t)return!1;i||this.add(t,e);var r=this,a=e.success;return e.success=function(t,e,n){i&&r.add(t,n),a&&a.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var a=this.indexOf(r);this.models.splice(a,1),this.length--,e.silent||(e.index=a,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n.length?n:!1},_isModel:function(t){return t instanceof v},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),a=this.modelId(e.attributes);r!==a&&(null!=r&&delete this._byId[r],null!=a&&(this._byId[a]=e))}this.trigger.apply(this,arguments)}}});var x={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3};s(I,x,"models");var A=["groupBy","countBy","sortBy","indexBy"];n.each(A,function(t){n[t]&&(I.prototype[t]=function(e,i){var r=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,r,i)})});var w=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,M)),this._ensureElement(),this.initialize.apply(this,arguments)},_=/^(\S+)\s*(.*)$/,M=["model","collection","el","id","attributes","className","tagName","events"];n.extend(w.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(_);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var a=N[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:a,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||Z()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",r.emulateJSON&&(o.data._method=a);var s=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",a),s?s.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var l=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var u=r.xhr=e.ajax(n.extend(o,r));return i.trigger("request",i,u,r),u};var N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var S=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,T=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(S.prototype,l,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var a=this;return e.history.route(t,function(n){var o=a._extractParameters(t,n);a.execute(r,o,i)!==!1&&(a.trigger.apply(a,["route:"+i].concat(o)),a.trigger("route",i,o),e.history.trigger("route",a,i,o))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(D,"(?:$1)?").replace(k,function(t,e){return e?t:"([^/?]+)"}).replace(T,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var z=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,G=/#.*$/;z.started=!1,n.extend(z.prototype,l,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(L,"")},start:function(t){if(z.started)throw new Error("Backbone.history has already been started");if(z.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(B,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var a=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),z.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!z.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;(""===t||"?"===t.charAt(0))&&(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(G,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new z;var O=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var a=function(){this.constructor=i};return a.prototype=r.prototype,i.prototype=new a,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};v.extend=I.extend=S.extend=w.extend=z.extend=O;var Z=function(){throw new Error('A "url" property or function must be specified')},E=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}),/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
function(t,e){if("function"==typeof define&&define.amd)define(["backbone","lodash","jquery"],function(n,i,r){return n.$=r,e(t,n,i,r)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("lodash"),r=n.$=require("jquery");module.exports=e(t,n,i,r)}else{var n=t.Backbone,i=t._,r=n.$=t.jQuery||t.$;t.joint=e(t,n,i,r),t.g=t.joint.g,t.V=t.Vectorizer=t.joint.V}}(this,function(t,e,n,i){var r,a,o=function(){function t(e,n){if(!(this instanceof t))return new t(e,n);var i;void 0===n&&Object(e)!==e?(i=e.split(-1===e.indexOf("@")?" ":"@"),this.x=parseInt(i[0],10),this.y=parseInt(i[1],10)):Object(e)===e?(this.x=e.x,this.y=e.y):(this.x=e,this.y=n)}function e(n,i){return this instanceof e?(this.start=t(n),void(this.end=t(i))):new e(n,i)}function n(t,e,i,r){return this instanceof n?(void 0===e&&(e=t.y,i=t.width,r=t.height,t=t.x),this.x=t,this.y=e,this.width=i,void(this.height=r)):new n(t,e,i,r)}function i(e,n,r){return this instanceof i?(e=t(e),this.x=e.x,this.y=e.y,this.a=n,void(this.b=r)):new i(e,n,r)}var r=Math,a=r.abs,s=r.cos,l=r.sin,u=r.sqrt,c=r.min,h=r.max,f=(r.atan,r.atan2),d=(r.acos,r.round),g=r.floor,p=r.PI,m=r.random,v=function(t){return 180*t/p%360},y=function(t,e){return e=e||!1,t=e?t:t%360,t*p/180},I=function(t,e){return e*Math.round(t/e)},C=function(t){return t%360+(0>t?360:0)};t.prototype={toString:function(){return this.x+"@"+this.y},adhereToRect:function(t){return t.containsPoint(this)?this:(this.x=c(h(this.x,t.x),t.x+t.width),this.y=c(h(this.y,t.y),t.y+t.height),this)},theta:function(e){e=t(e);var n=-(e.y-this.y),i=e.x-this.x,r=10,a=0==n.toFixed(r)&&0==i.toFixed(r)?0:f(n,i);return 0>a&&(a=2*p+a),180*a/p},distance:function(t){return e(this,t).length()},manhattanDistance:function(t){return a(t.x-this.x)+a(t.y-this.y)},offset:function(t,e){return this.x+=t||0,this.y+=e||0,this},magnitude:function(){return u(this.x*this.x+this.y*this.y)||.01},update:function(t,e){return this.x=t||0,this.y=e||0,this},round:function(t){return this.x=t?this.x.toFixed(t):d(this.x),this.y=t?this.y.toFixed(t):d(this.y),this},normalize:function(t){var e=(t||1)/this.magnitude();return this.x=e*this.x,this.y=e*this.y,this},difference:function(e){return t(this.x-e.x,this.y-e.y)},bearing:function(t){return e(this,t).bearing()},toPolar:function(e){e=e&&t(e)||t(0,0);var n=this.x,i=this.y;return this.x=u((n-e.x)*(n-e.x)+(i-e.y)*(i-e.y)),this.y=y(e.theta(t(n,i))),this},rotate:function(e,n){n=(n+360)%360,this.toPolar(e),this.y+=y(n);var i=t.fromPolar(this.x,this.y,e);return this.x=i.x,this.y=i.y,this},move:function(e,n){var i=y(t(e).theta(this));return this.offset(s(i)*n,-l(i)*n)},changeInAngle:function(e,n,i){return t(this).offset(-e,-n).theta(i)-this.theta(i)},equals:function(t){return this.x===t.x&&this.y===t.y},snapToGrid:function(t,e){return this.x=I(this.x,t),this.y=I(this.y,e||t),this},reflection:function(e){return t(e).move(this,this.distance(e))},clone:function(){return t(this)}},t.fromPolar=function(e,n,i){i=i&&t(i)||t(0,0);var r=a(e*s(n)),o=a(e*l(n)),u=C(v(n));return 90>u?o=-o:180>u?(r=-r,o=-o):270>u&&(r=-r),t(i.x+r,i.y+o)},t.random=function(e,n,i,r){return t(g(m()*(n-e+1)+e),g(m()*(r-i+1)+i))},e.prototype={toString:function(){return this.start.toString()+" "+this.end.toString()},length:function(){return u(this.squaredLength())},squaredLength:function(){var t=this.start.x,e=this.start.y,n=this.end.x,i=this.end.y;return(t-=n)*t+(e-=i)*e},midpoint:function(){return t((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},intersection:function(e){var n=t(this.end.x-this.start.x,this.end.y-this.start.y),i=t(e.end.x-e.start.x,e.end.y-e.start.y),r=n.x*i.y-n.y*i.x,a=t(e.start.x-this.start.x,e.start.y-this.start.y),o=a.x*i.y-a.y*i.x,s=a.x*n.y-a.y*n.x;if(0===r||0>o*r||0>s*r)return null;if(r>0){if(o>r||s>r)return null}else if(r>o||r>s)return null;return t(this.start.x+o*n.x/r,this.start.y+o*n.y/r)},bearing:function(){var t=y(this.start.y),e=y(this.end.y),n=this.start.x,i=this.end.x,r=y(i-n),a=l(r)*s(e),o=s(t)*l(e)-l(t)*s(e)*s(r),u=v(f(a,o)),c=["NE","E","SE","S","SW","W","NW","N"],h=u-22.5;return 0>h&&(h+=360),h=parseInt(h/45),c[h]},pointAt:function(e){var n=(1-e)*this.start.x+e*this.end.x,i=(1-e)*this.start.y+e*this.end.y;return t(n,i)},pointOffset:function(t){return((this.end.x-this.start.x)*(t.y-this.start.y)-(this.end.y-this.start.y)*(t.x-this.start.x))/2},clone:function(){return e(this)}},n.prototype={toString:function(){return this.origin().toString()+" "+this.corner().toString()},equals:function(t){var e=o.rect(this).normalize(),n=o.rect(t).normalize();return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},origin:function(){return t(this.x,this.y)},corner:function(){return t(this.x+this.width,this.y+this.height)},topRight:function(){return t(this.x+this.width,this.y)},bottomLeft:function(){return t(this.x,this.y+this.height)},center:function(){return t(this.x+this.width/2,this.y+this.height/2)},intersect:function(t){var e=this.origin(),i=this.corner(),r=t.origin(),a=t.corner();if(a.x<=e.x||a.y<=e.y||r.x>=i.x||r.y>=i.y)return null;var o=Math.max(e.x,r.x),s=Math.max(e.y,r.y);return n(o,s,Math.min(i.x,a.x)-o,Math.min(i.y,a.y)-s)},union:function(t){var e=this.origin(),i=this.corner(),r=t.origin(),a=t.corner(),o=Math.min(e.x,r.x),s=Math.min(e.y,r.y),l=Math.max(i.x,a.x),u=Math.max(i.y,a.y);return n(o,s,l-o,u-s)},sideNearestToPoint:function(e){e=t(e);var n=e.x-this.x,i=this.x+this.width-e.x,r=e.y-this.y,a=this.y+this.height-e.y,o=n,s="left";return o>i&&(o=i,s="right"),o>r&&(o=r,s="top"),o>a&&(o=a,s="bottom"),s},containsPoint:function(e){return e=t(e),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height?!0:!1},containsRect:function(t){var e=n(t).normalize(),i=e.width,r=e.height,a=e.x,o=e.y,s=this.width,l=this.height;if(0>(s|l|i|r))return!1;var u=this.x,c=this.y;if(u>a||c>o)return!1;if(s+=u,i+=a,a>=i){if(s>=u||i>s)return!1}else if(s>=u&&i>s)return!1;if(l+=c,r+=o,o>=r){if(l>=c||r>l)return!1}else if(l>=c&&r>l)return!1;return!0},pointNearestToPoint:function(e){if(e=t(e),this.containsPoint(e)){var n=this.sideNearestToPoint(e);switch(n){case"right":return t(this.x+this.width,e.y);case"left":return t(this.x,e.y);case"bottom":return t(e.x,this.y+this.height);case"top":return t(e.x,this.y)}}return e.adhereToRect(this)},intersectionWithLineFromCenterToPoint:function(n,i){n=t(n);var r,a=t(this.x+this.width/2,this.y+this.height/2);i&&n.rotate(a,i);for(var o=[e(this.origin(),this.topRight()),e(this.topRight(),this.corner()),e(this.corner(),this.bottomLeft()),e(this.bottomLeft(),this.origin())],s=e(a,n),l=o.length-1;l>=0;--l){var u=o[l].intersection(s);if(null!==u){r=u;break}}return r&&i&&r.rotate(a,-i),r},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},round:function(t){return this.x=t?this.x.toFixed(t):d(this.x),this.y=t?this.y.toFixed(t):d(this.y),this.width=t?this.width.toFixed(t):d(this.width),this.height=t?this.height.toFixed(t):d(this.height),this},normalize:function(){var t=this.x,e=this.y,n=this.width,i=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,i=-this.height),this.x=t,this.y=e,this.width=n,this.height=i,this},bbox:function(t){var e=y(t||0),i=a(l(e)),r=a(s(e)),o=this.width*r+this.height*i,u=this.width*i+this.height*r;return n(this.x+(this.width-o)/2,this.y+(this.height-u)/2,o,u)},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),i=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=i.x-n.x,this.height=i.y-n.y,this},clone:function(){return n(this)}},i.prototype={toString:function(){return t(this.x,this.y).toString()+" "+this.a+" "+this.b},bbox:function(){return n(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},intersectionWithLineFromCenterToPoint:function(e,n){e=t(e),n&&e.rotate(t(this.x,this.y),n);var i,r=e.x-this.x,a=e.y-this.y;if(0===r)return i=this.bbox().pointNearestToPoint(e),n?i.rotate(t(this.x,this.y),-n):i;var o=a/r,s=o*o,l=this.a*this.a,c=this.b*this.b,h=u(1/(1/l+s/c));h=0>r?-h:h;var f=o*h;return i=t(this.x+h,this.y+f),n?i.rotate(t(this.x,this.y),-n):i},clone:function(){return i(this)}};var b={curveThroughPoints:function(t){for(var e=this.getCurveControlPoints(t),n=["M",t[0].x,t[0].y],i=0;i<e[0].length;i++)n.push("C",e[0][i].x,e[0][i].y,e[1][i].x,e[1][i].y,t[i+1].x,t[i+1].y);return n},getCurveControlPoints:function(e){var n,i=[],r=[],a=e.length-1;if(1==a)return i[0]=t((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=t(2*i[0].x-e[0].x,2*i[0].y-e[0].y),[i,r];var o=[];for(n=1;a-1>n;n++)o[n]=4*e[n].x+2*e[n+1].x;o[0]=e[0].x+2*e[1].x,o[a-1]=(8*e[a-1].x+e[a].x)/2;var s=this.getFirstControlPoints(o);for(n=1;a-1>n;++n)o[n]=4*e[n].y+2*e[n+1].y;o[0]=e[0].y+2*e[1].y,o[a-1]=(8*e[a-1].y+e[a].y)/2;var l=this.getFirstControlPoints(o);for(n=0;a>n;n++)i.push(t(s[n],l[n])),a-1>n?r.push(t(2*e[n+1].x-s[n+1],2*e[n+1].y-l[n+1])):r.push(t((e[a].x+s[a-1])/2,(e[a].y+l[a-1])/2));return[i,r]},getFirstControlPoints:function(t){var e=t.length,n=[],i=[],r=2;n[0]=t[0]/r;for(var a=1;e>a;a++)i[a]=1/r,r=(e-1>a?4:3.5)-i[a],n[a]=(t[a]-n[a-1])/r;for(a=1;e>a;a++)n[e-a-1]-=i[e-a]*n[e-a];return n},getInversionSolver:function(t,e,n,i){function r(t,e){var n=a[t],i=a[e];return function(r){var a=(t%3?3:1)*(e%3?3:1),o=r.x*(n.y-i.y)+r.y*(i.x-n.x)+n.x*i.y-n.y*i.x;return a*o}}var a=arguments;return function(n){var i=3*r(2,3)(e),a=r(1,3)(t)/i,o=-r(2,3)(t)/i,s=a*r(3,1)(n)+o*(r(3,0)(n)+r(2,1)(n))+r(2,0)(n),l=a*r(3,0)(n)+o*r(2,0)(n)+r(1,0)(n);return l/(l-s)}},getCurveDivider:function(t,n,i,r){return function(a){var o=e(t,n).pointAt(a),s=e(n,i).pointAt(a),l=e(i,r).pointAt(a),u=e(o,s).pointAt(a),c=e(s,l).pointAt(a),h=e(u,c).pointAt(a);return[{p0:t,p1:o,p2:u,p3:h},{p0:h,p1:c,p2:l,p3:r}]}}},x={linear:function(t,e,n){var i=t[1]-t[0],r=e[1]-e[0];return(n-t[0])/i*r+e[0]||0}};return{toDeg:v,toRad:y,snapToGrid:I,normalizeAngle:C,point:t,line:e,rect:n,ellipse:i,bezier:b,scale:x}}();r=a=function(){function t(){var t=++A+"";return"v-"+t}function e(t){return(t||"").replace(/ /g,"\xa0")}function n(t){return t===Object(t)}function i(t){return"[object Array]"==Object.prototype.toString.call(t)}function r(t){var e='<svg xmlns="'+b.xmlns+'" xmlns:xlink="'+b.xlink+'" version="'+x+'">'+(t||"")+"</svg>",n=a(e,{async:!1});return n.documentElement}function a(t,e){e=e||{};var n;try{var i=new DOMParser;"undefined"!=typeof e.async&&(i.async=e.async),n=i.parseFromString(t,"text/xml")}catch(r){n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+t);return n}function s(t,e,n){var i,a;if(!t)return void 0;if("object"==typeof t)return new f(t);if(e=e||{},"svg"===t.toLowerCase())return new f(r());if("<"===t[0]){var o=r(t);if(o.childNodes.length>1){var s=[];for(i=0,a=o.childNodes.length;a>i;i++){var u=o.childNodes[i];s.push(new f(document.importNode(u,!0)))}return s}return new f(document.importNode(o.firstChild,!0))}t=document.createElementNS(b.xmlns,t);for(var c in e)l(t,c,e[c]);for("[object Array]"!=Object.prototype.toString.call(n)&&(n=[n]),i=0,a=n[0]&&n.length||0;a>i;i++){var h=n[i];t.appendChild(h instanceof f?h.node:h)}return new f(t)}function l(t,e,n){if(e.indexOf(":")>-1){var i=e.split(":");t.setAttributeNS(b[i[0]],i[1],n)}else"id"===e?t.id=n:t.setAttribute(e,n)}function u(t){var e,n,i;if(t){var r=/[ ,]+/,a=t.match(/translate\((.*)\)/);a&&(e=a[1].split(r));var o=t.match(/rotate\((.*)\)/);o&&(n=o[1].split(r));var s=t.match(/scale\((.*)\)/);s&&(i=s[1].split(r))}var l=i&&i[0]?parseFloat(i[0]):1;return{translate:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotate:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:l,sy:i&&i[1]?parseFloat(i[1]):l}}}function c(t,e){var n=e.x*t.a+e.y*t.c+0,i=e.x*t.b+e.y*t.d+0;return{x:n,y:i}}function h(t){var e=c(t,{x:0,y:1}),n=c(t,{x:1,y:0}),i=180/Math.PI*Math.atan2(e.y,e.x)-90,r=180/Math.PI*Math.atan2(n.y,n.x);return{translateX:t.e,translateY:t.f,scaleX:Math.sqrt(t.a*t.a+t.b*t.b),scaleY:Math.sqrt(t.c*t.c+t.d*t.d),skewX:i,skewY:r,rotation:i}}function f(e){e instanceof f&&(e=e.node),this.node=e,this.node.id||(this.node.id=t())}function d(t){t=s(t);var e=["M",t.attr("x1"),t.attr("y1"),"L",t.attr("x2"),t.attr("y2")].join(" ");return e}function g(t){t=s(t);for(var e,n=t.node.points,i=[],r=0;r<n.length;r++)e=n[r],i.push(0===r?"M":"L",e.x,e.y);return i.push("Z"),i.join(" ")}function p(t){t=s(t);for(var e,n=t.node.points,i=[],r=0;r<n.length;r++)e=n[r],i.push(0===r?"M":"L",e.x,e.y);return i.join(" ")}function m(t){t=s(t);var e=parseFloat(t.attr("cx"))||0,n=parseFloat(t.attr("cy"))||0,i=parseFloat(t.attr("r")),r=i*w,a=["M",e,n-i,"C",e+r,n-i,e+i,n-r,e+i,n,"C",e+i,n+r,e+r,n+i,e,n+i,"C",e-r,n+i,e-i,n+r,e-i,n,"C",e-i,n-r,e-r,n-i,e,n-i,"Z"].join(" ");return a}function v(t){t=s(t);var e=parseFloat(t.attr("cx"))||0,n=parseFloat(t.attr("cy"))||0,i=parseFloat(t.attr("rx")),r=parseFloat(t.attr("ry"))||i,a=i*w,o=r*w,l=["M",e,n-r,"C",e+a,n-r,e+i,n-o,e+i,n,"C",e+i,n+o,e+a,n+r,e,n+r,"C",e-a,n+r,e-i,n+o,e-i,n,"C",e-i,n-o,e-a,n-r,e,n-r,"Z"].join(" ");return l}function y(t){t=s(t);var e,n=parseFloat(t.attr("x"))||0,i=parseFloat(t.attr("y"))||0,r=parseFloat(t.attr("width"))||0,a=parseFloat(t.attr("height"))||0,l=parseFloat(t.attr("rx"))||0,u=parseFloat(t.attr("ry"))||0,c=o.rect(n,i,r,a);if(l||u){var h=n+r,f=i+a;e=["M",n+l,i,"L",h-l,i,"Q",h,i,h,i+u,"L",h,i+a-u,"Q",h,f,h-l,f,"L",n+l,f,"Q",n,f,n,f-l,"L",n,i+u,"Q",n,i,n+l,i,"Z"].join(" ")}else e=["M",c.origin().x,c.origin().y,"H",c.corner().x,"V",c.corner().y,"H",c.origin().x,"V",c.origin().y,"Z"].join(" ");return e}function I(t){var e=t.rx||t["top-rx"]||0,n=t.rx||t["bottom-rx"]||0,i=t.ry||t["top-ry"]||0,r=t.ry||t["bottom-ry"]||0;return["M",t.x,t.y+i,"v",t.height-i-r,"a",n,r,0,0,0,n,r,"h",t.width-2*n,"a",n,r,0,0,0,n,-r,"v",-(t.height-r-i),"a",e,i,0,0,0,-e,-i,"h",-(t.width-2*e),"a",e,i,0,0,0,-e,i].join(" ")}var C="object"==typeof window&&!(!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));if(!C)return function(){};var b={xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},x="1.1",A=0;f.prototype={getTransformToElement:function(t){return t.getScreenCTM().inverse().multiply(this.node.getScreenCTM())},translate:function(t,e,n){n=n||{},e=e||0;var i=this.attr("transform")||"",r=u(i);if("undefined"==typeof t)return r.translate;i=i.replace(/translate\([^\)]*\)/g,"").trim();var a=n.absolute?t:r.translate.tx+t,o=n.absolute?e:r.translate.ty+e,s="translate("+a+","+o+")";return this.attr("transform",(s+" "+i).trim()),this},rotate:function(t,e,n,i){i=i||{};var r=this.attr("transform")||"",a=u(r);if("undefined"==typeof t)return a.rotate;r=r.replace(/rotate\([^\)]*\)/g,"").trim(),t%=360;var o=i.absolute?t:a.rotate.angle+t,s=void 0!==e&&void 0!==n?","+e+","+n:"",l="rotate("+o+s+")";return this.attr("transform",(r+" "+l).trim()),this},scale:function(t,e){e="undefined"==typeof e?t:e;var n=this.attr("transform")||"",i=u(n);if("undefined"==typeof t)return i.scale;n=n.replace(/scale\([^\)]*\)/g,"").trim();var r="scale("+t+","+e+")";return this.attr("transform",(n+" "+r).trim()),this},bbox:function(t,e){if(!this.node.ownerSVGElement)return{x:0,y:0,width:0,height:0};var n;try{n=this.node.getBBox(),n={x:n.x,y:n.y,width:n.width,height:n.height}}catch(i){n={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}if(t)return n;var r=this.getTransformToElement(e||this.node.ownerSVGElement);return _.transformRect(n,r)},text:function(t,r){t=e(t),r=r||{};var a,o=t.split("\n"),l=0,u=this.attr("y");u||this.attr("y","0.8em"),this.attr("display",t?null:"none"),this.node.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.node.textContent="";var c=this.node;if(r.textPath){var h=this.find("defs");0===h.length&&(h=s("defs"),this.append(h));var f=Object(r.textPath)===r.textPath?r.textPath.d:r.textPath;if(f){var d=s("path",{d:f});h.append(d)}var g=s("textPath");!r.textPath["xlink:href"]&&d&&g.attr("xlink:href","#"+d.node.id),Object(r.textPath)===r.textPath&&g.attr(r.textPath),this.append(g),c=g.node}for(var p=0,l=0;l<o.length;l++){var m=o[l],v=r.lineHeight||"1em";"auto"===r.lineHeight&&(v="1.5em");var y=_("tspan",{dy:0==l?"0em":v,x:this.attr("x")||0});if(y.addClass("v-line"),m)if(r.annotations){for(var I=0,C=_.annotateString(o[l],i(r.annotations)?r.annotations:[r.annotations],{offset:-p,includeAnnotationIndices:r.includeAnnotationIndices}),b=0;b<C.length;b++){var x=C[b];if(n(x)){var A=parseInt(x.attrs["font-size"],10);A&&A>I&&(I=A),a=_("tspan",x.attrs),r.includeAnnotationIndices&&a.attr("annotations",x.annotations),x.attrs["class"]&&a.addClass(x.attrs["class"]),a.node.textContent=x.t}else a=document.createTextNode(x||" ");y.append(a)}"auto"===r.lineHeight&&I&&0!==l&&y.attr("dy",1.2*I+"px")}else y.node.textContent=m;else y.addClass("v-empty-line"),y.node.style.opacity=0,y.node.textContent="-";_(c).append(y),p+=m.length+1}return this},attr:function(t,e){if("undefined"==typeof t){for(var n=this.node.attributes,i={},r=0;r<n.length;r++)i[n[r].nodeName]=n[r].nodeValue;return i}if("string"==typeof t&&"undefined"==typeof e)return this.node.getAttribute(t);if("object"==typeof t)for(var a in t)t.hasOwnProperty(a)&&l(this.node,a,t[a]);else l(this.node,t,e);return this},remove:function(){this.node.parentNode&&this.node.parentNode.removeChild(this.node)},append:function(t){var e=t;"[object Array]"!==Object.prototype.toString.call(t)&&(e=[t]);for(var n=0,i=e.length;i>n;n++)t=e[n],this.node.appendChild(t instanceof f?t.node:t);return this},prepend:function(t){this.node.insertBefore(t instanceof f?t.node:t,this.node.firstChild)},svg:function(){return this.node instanceof window.SVGSVGElement?this:_(this.node.ownerSVGElement)},defs:function(){var t=this.svg().node.getElementsByTagName("defs");return t&&t.length?_(t[0]):void 0},clone:function(){var e=_(this.node.cloneNode(!0));return e.node.id=t(),e},findOne:function(t){var e=this.node.querySelector(t);return e?_(e):void 0},find:function(t){var e=this.node.querySelectorAll(t);return Array.prototype.map.call(e,_)},index:function(){for(var t=0,e=this.node.previousSibling;e;)1===e.nodeType&&t++,e=e.previousSibling;return t},findParentByClass:function(t,e){e=e||this.node.ownerSVGElement;for(var n=this.node.parentNode;n&&n!==e;){if(_(n).hasClass(t))return _(n);n=n.parentNode}return null},toLocalPoint:function(t,e){var n=this.svg().node,i=n.createSVGPoint();i.x=t,i.y=e;try{var r=i.matrixTransform(n.getScreenCTM().inverse()),a=this.getTransformToElement(n).inverse()}catch(o){return i}return r.matrixTransform(a)},translateCenterToPoint:function(t){var e=this.bbox(),n=o.rect(e).center();this.translate(t.x-n.x,t.y-n.y)},translateAndAutoOrient:function(t,e,n){var i=this.scale();this.attr("transform",""),this.scale(i.sx,i.sy);var r=this.svg().node,a=this.bbox(!1,n),s=r.createSVGTransform();s.setTranslate(-a.x-a.width/2,-a.y-a.height/2);var l=r.createSVGTransform(),u=o.point(t).changeInAngle(t.x-e.x,t.y-e.y,e);l.setRotate(u,0,0);var c=r.createSVGTransform(),f=o.point(t).move(e,a.width/2);c.setTranslate(t.x+(t.x-f.x),t.y+(t.y-f.y));var d=this.getTransformToElement(n),g=r.createSVGTransform();g.setMatrix(c.matrix.multiply(l.matrix.multiply(s.matrix.multiply(d))));var p=h(g.matrix);return this.translate(p.translateX,p.translateY),this.rotate(p.rotation),this},animateAlongPath:function(t,e){var n=_("animateMotion",t),i=_("mpath",{"xlink:href":"#"+_(e).node.id});n.append(i),this.append(n);try{n.node.beginElement()}catch(r){if("fake"===document.documentElement.getAttribute("smiling")){var a=n.node;a.animators=[];var o=a.getAttribute("id");o&&(id2anim[o]=a);for(var s=getTargets(a),l=0,u=s.length;u>l;l++){var c=s[l],h=new Animator(a,c,l);animators.push(h),a.animators[l]=h,h.register()}}}},hasClass:function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(this.node.getAttribute("class"))},addClass:function(t){if(!this.hasClass(t)){var e=this.node.getAttribute("class")||"";this.node.setAttribute("class",(e+" "+t).trim())}return this},removeClass:function(t){if(this.hasClass(t)){var e=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2");this.node.setAttribute("class",e)}return this},toggleClass:function(t,e){var n="undefined"==typeof e?this.hasClass(t):!e;return n?this.removeClass(t):this.addClass(t),this},sample:function(t){t=t||1;for(var e,n=this.node,i=n.getTotalLength(),r=[],a=0;i>a;)e=n.getPointAtLength(a),r.push({x:e.x,y:e.y,distance:a}),a+=t;return r},convertToPath:function(){var t=s("path");t.attr(this.attr());var e=this.convertToPathData();return e&&t.attr("d",e),t},convertToPathData:function(){var t=this.node.tagName.toUpperCase();switch(t){case"PATH":return this.attr("d");case"LINE":return d(this.node);case"POLYGON":return g(this.node);case"POLYLINE":return p(this.node);case"ELLIPSE":return v(this.node);case"CIRCLE":return m(this.node);case"RECT":return y(this.node)}throw new Error(t+" cannot be converted to PATH.")},findIntersection:function(t,e){var n=this.svg().node;e=e||n;var i=o.rect(this.bbox(!1,e)),r=i.center(),a=i.intersectionWithLineFromCenterToPoint(t);if(!a)return void 0;var s=this.node.localName.toUpperCase();if("RECT"===s){var l=o.rect(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),u=this.getTransformToElement(e),c=_.decomposeMatrix(u),h=n.createSVGTransform();h.setRotate(-c.rotation,r.x,r.y);var f=_.transformRect(l,h.matrix.multiply(u));a=o.rect(f).intersectionWithLineFromCenterToPoint(t,c.rotation)}else if("PATH"===s||"POLYGON"===s||"POLYLINE"===s||"CIRCLE"===s||"ELLIPSE"===s){for(var d="PATH"===s?this:this.convertToPath(),g=d.sample(),p=1/0,m=[],v=0,y=g.length;y>v;v++){var I=g[v],C=_.createSVGPoint(I.x,I.y);C=C.matrixTransform(this.getTransformToElement(e)),I=o.point(C);var b=I.distance(r),x=1.1*I.distance(t),A=b+x;p>A?(p=A,m=[{sample:I,refDistance:x}]):p+1>A&&m.push({sample:I,refDistance:x})}m.sort(function(t,e){return t.refDistance-e.refDistance}),a=m[0].sample}return a}};var w=.5522847498307935,_=s;_.isVElement=function(t){return t instanceof f},_.decomposeMatrix=h,_.rectToPath=I;var M=_("svg").node;return _.createSVGMatrix=function(t){var e=M.createSVGMatrix();for(var n in t)e[n]=t[n];return e},_.createSVGTransform=function(){return M.createSVGTransform()},_.createSVGPoint=function(t,e){var n=M.createSVGPoint();return n.x=t,n.y=e,n},_.transformRect=function(t,e){var n=M.createSVGPoint();n.x=t.x,n.y=t.y;var i=n.matrixTransform(e);n.x=t.x+t.width,n.y=t.y;var r=n.matrixTransform(e);n.x=t.x+t.width,n.y=t.y+t.height;var a=n.matrixTransform(e);n.x=t.x,n.y=t.y+t.height;var o=n.matrixTransform(e),s=Math.min(i.x,r.x,a.x,o.x),l=Math.max(i.x,r.x,a.x,o.x),u=Math.min(i.y,r.y,a.y,o.y),c=Math.max(i.y,r.y,a.y,o.y);return{x:s,y:u,width:l-s,height:c-u}},_.transformPoint=function(t,e){return _.createSVGPoint(t.x,t.y).matrixTransform(e)},_.styleToObject=function(t){for(var e={},n=t.split(";"),i=0;i<n.length;i++){var r=n[i],a=r.split("=");e[a[0].trim()]=a[1].trim()}return e},_.createSlicePathData=function(t,e,n,i){var r=2*Math.PI-1e-6,a=t,o=e,s=n,l=i,u=(s>l&&(u=s,s=l,l=u),l-s),c=u<Math.PI?"0":"1",h=Math.cos(s),f=Math.sin(s),d=Math.cos(l),g=Math.sin(l);return u>=r?a?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+a+"A"+a+","+a+" 0 1,0 0,"+-a+"A"+a+","+a+" 0 1,0 0,"+a+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":a?"M"+o*h+","+o*f+"A"+o+","+o+" 0 "+c+",1 "+o*d+","+o*g+"L"+a*d+","+a*g+"A"+a+","+a+" 0 "+c+",0 "+a*h+","+a*f+"Z":"M"+o*h+","+o*f+"A"+o+","+o+" 0 "+c+",1 "+o*d+","+o*g+"L0,0Z"},_.mergeAttrs=function(t,e){for(var i in e)"class"===i?t[i]=t[i]?t[i]+" "+e[i]:e[i]:"style"===i?n(t[i])&&n(e[i])?t[i]=_.mergeAttrs(t[i],e[i]):n(t[i])?t[i]=_.mergeAttrs(t[i],_.styleToObject(e[i])):n(e[i])?t[i]=_.mergeAttrs(_.styleToObject(t[i]),e[i]):t[i]=_.mergeAttrs(_.styleToObject(t[i]),_.styleToObject(e[i])):t[i]=e[i];return t},_.annotateString=function(t,e,i){e=e||[],i=i||{},offset=i.offset||0;for(var r,a,o,s=[],l=[],u=0;u<t.length;u++){a=l[u]=t[u];for(var c=0;c<e.length;c++){var h=e[c],f=h.start+offset,d=h.end+offset;u>=f&&d>u&&(n(a)?a.attrs=_.mergeAttrs(_.mergeAttrs({},a.attrs),h.attrs):a=l[u]={t:t[u],attrs:h.attrs},i.includeAnnotationIndices&&(a.annotations||(a.annotations=[])).push(c))}o=l[u-1],o?n(a)&&n(o)?JSON.stringify(a.attrs)===JSON.stringify(o.attrs)?r.t+=a.t:(s.push(r),r=a):n(a)?(s.push(r),r=a):n(o)?(s.push(r),r=a):r=(r||"")+a:r=a}return r&&s.push(r),s},_.findAnnotationsAtIndex=function(t,e){if(!t)return[];var n=[];return t.forEach(function(t){t.start<e&&e<=t.end&&n.push(t)}),n},_.findAnnotationsBetweenIndexes=function(t,e,n){if(!t)return[];var i=[];return t.forEach(function(t){(e>=t.start&&e<t.end||n>t.start&&n<=t.end||t.start>=e&&t.end<n)&&i.push(t)}),i},_.shiftAnnotations=function(t,e,n){return t?(t.forEach(function(t){t.start>=e&&(t.start+=n,t.end+=n)}),t):t},_.sanitizeText=e,_}();var s={version:"0.9.6",dia:{},ui:{},layout:{},shapes:{},format:{},connectors:{},routers:{},mvc:{views:{}},setTheme:function(t,e){e=e||{},n.invoke(s.mvc.views,"setTheme",t,e),s.mvc.View.prototype.options.theme=t},util:{hashCode:function(t){var e=0;if(0==t.length)return e;for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);e=(e<<5)-e+i,e&=e}return e},getByPath:function(t,e,n){n=n||"/";for(var i,r=e.split(n);r.length;){if(i=r.shift(),!(Object(t)===t&&i in t))return void 0;t=t[i]}return t},setByPath:function(t,e,n,i){i=i||"/";var r=e.split(i),a=t,o=0;if(e.indexOf(i)>-1){for(var s=r.length;s-1>o;o++)a=a[r[o]]||(a[r[o]]={});a[r[s-1]]=n}else t[e]=n;return t},unsetByPath:function(t,e,n){n=n||"/";var i=e.lastIndexOf(n);if(i>-1){var r=s.util.getByPath(t,e.substr(0,i),n);r&&delete r[e.slice(i+1)]}else delete t[e];return t},flattenObject:function(t,e,n){e=e||"/";var i={};for(var r in t)if(t.hasOwnProperty(r)){var a="object"==typeof t[r];if(a&&n&&n(t[r])&&(a=!1),a){var o=this.flattenObject(t[r],e,n);for(var s in o)o.hasOwnProperty(s)&&(i[r+e+s]=o[s])}else i[r]=t[r]}return i},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})},guid:function(t){return this.guid.id=this.guid.id||1,t.id=void 0===t.id?"j_"+this.guid.id++:t.id,t.id},mixin:function(){for(var t=arguments[0],e=1,i=arguments.length;i>e;e++){var r=arguments[e];(Object(r)===r||n.isFunction(r)||null!==r&&void 0!==r)&&n.each(r,function(e,i){return this.mixin.deep&&Object(e)===e?(t[i]||(t[i]=n.isArray(e)?[]:{}),void this.mixin(t[i],e)):void(t[i]!==e&&(this.mixin.supplement&&t.hasOwnProperty(i)||(t[i]=e)))},this)}return t},supplement:function(){this.mixin.supplement=!0;var t=this.mixin.apply(this,arguments);return this.mixin.supplement=!1,t},deepMixin:function(){this.mixin.deep=!0;var t=this.mixin.apply(this,arguments);return this.mixin.deep=!1,t},deepSupplement:function(){this.mixin.deep=this.mixin.supplement=!0;var t=this.mixin.apply(this,arguments);return this.mixin.deep=this.mixin.supplement=!1,t},normalizeEvent:function(t){var e=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0];if(e){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}return t},nextFrame:function(){var t;if("undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=setTimeout(function(){t(n+i)},i);return e=n+i,r}}return function(e,i){return t(i?n.bind(e,i):e)}}(),cancelFrame:function(){var t,e="undefined"!=typeof window;return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?n.bind(t,window):t}(),shapePerimeterConnectionPoint:function(t,e,n,i){var a,s;if(!n){var l=e.$(".scalable")[0],u=e.$(".rotatable")[0];l&&l.firstChild?n=l.firstChild:u&&u.firstChild&&(n=u.firstChild)}return n?(s=r(n).findIntersection(i,t.paper.viewport),s||(a=o.rect(r(n).bbox(!1,t.paper.viewport)))):(a=e.model.getBBox(),s=a.intersectionWithLineFromCenterToPoint(i)),s||a.center()},breakText:function(t,e,n,i){i=i||{};var a=e.width,o=e.height,s=i.svgDocument||r("svg").node,l=r("<text><tspan></tspan></text>").attr(n||{}).node,u=l.firstChild,c=document.createTextNode("");u.appendChild(c),s.appendChild(l),i.svgDocument||document.body.appendChild(s);for(var h,f=t.split(" "),d=[],g=[],p=0,m=0,v=f.length;v>p;p++){var y=f[p];if(c.data=g[m]?g[m]+" "+y:y,u.getComputedTextLength()<=a)g[m]=c.data,h&&(d[m++]=!0,h=0);else{if(!g[m]||h){var I=!!h;if(h=y.length-1,I||!h){if(!h){if(!g[m]){g=[];break}f.splice(p,2,y+f[p+1]),v--,d[m++]=!0,p--;continue}f[p]=y.substring(0,h),f[p+1]=y.substring(h)+f[p+1]}else f.splice(p,1,y.substring(0,h),y.substring(h)),v++,m&&!d[m-1]&&m--;p--;continue}m++,p--}if("undefined"!=typeof o){var C=C||1.25*l.getBBox().height;if(C*g.length>o){g.splice(Math.floor(o/C));break}}}return i.svgDocument?s.removeChild(l):document.body.removeChild(s),g.join("\n")},imageToDataUri:function(t,e){if(!t||"data:"===t.substr(0,"data:".length))return setTimeout(function(){e(null,t)},0);var n=document.createElement("canvas"),i=document.createElement("img");i.onload=function(){var r=n.getContext("2d");n.width=i.width,n.height=i.height,r.drawImage(i,0,0);try{var a=(t.split(".").pop()||"png","jpeg"),o=n.toDataURL(a)}catch(s){if(/\.svg$/.test(t)){var l=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");l.open("GET",t,!1),l.send(null);var u=l.responseText;return e(null,"data:image/svg+xml,"+encodeURIComponent(u))}console.error(i.src,"fails to convert",s)}e(null,o)},i.ononerror=function(){e(new Error("Failed to load image."))},i.src=t},getElementBBox:function(t){var e,n=i(t),a=n.offset();if(t.ownerSVGElement){e=r(t).bbox();var o=t.getBoundingClientRect(),s=(o.width-e.width)/2,l=(o.height-e.height)/2;e.x=a.left+s,e.y=a.top+l}else e={x:a.left,y:a.top,width:n.outerWidth(),height:n.outerHeight()};return e},sortElements:function(t,e){var n=i(t),r=n.map(function(){var t=this,e=t.parentNode,n=e.insertBefore(document.createTextNode(""),t.nextSibling);return function(){if(e===this)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(this,n),e.removeChild(n)}});return Array.prototype.sort.call(n,e).each(function(t){r[t].call(this)})},setAttributesBySelector:function(t,e){var r=i(t);n.each(e,function(t,e){var i=r.find(e).addBack().filter(e);n.has(t,"class")&&(i.addClass(t["class"]),t=n.omit(t,"class")),i.attr(t)})},normalizeSides:function(t){return Object(t)!==t?(t=t||0,{top:t,bottom:t,left:t,right:t}):{top:t.top||0,bottom:t.bottom||0,left:t.left||0,right:t.right||0}},timing:{linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;1;e+=n,n/=2)if(t>=(7-4*e)/11){var i=(11-6*e-11*t)/4;return-i*i+n*n}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}},clamp:function(t,e,n){return e=e||0,n=n||1,function(i){var r=t(i);return e>r?e:r>n?n:r}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},interpolate:{number:function(t,e){var n=e-t;return function(e){return t+n*e}},object:function(t,e){var i=n.keys(t);return function(n){var r,a,o={};for(r=i.length-1;-1!=r;r--)a=i[r],o[a]=t[a]+(e[a]-t[a])*n;return o}},hexColor:function(t,e){var n=parseInt(t.slice(1),16),i=parseInt(e.slice(1),16),r=255&n,a=(255&i)-r,o=65280&n,s=(65280&i)-o,l=16711680&n,u=(16711680&i)-l;return function(t){var e=r+a*t&255,n=o+s*t&65280,i=l+u*t&16711680;return"#"+(1<<24|e|n|i).toString(16).slice(1)}},unit:function(t,e){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=n.exec(t),r=n.exec(e),a=r[1].indexOf("."),o=a>0?r[1].length-a-1:0;t=+i[1];var s=+r[1]-t,l=i[2];return function(e){return(t+s*e).toFixed(o)+l}}},filter:{outline:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',i=n.isFinite(t.margin)?t.margin:2,r=n.isFinite(t.width)?t.width:1;
return n.template(e)({color:t.color||"blue",opacity:n.isFinite(t.opacity)?t.opacity:1,outerRadius:i+r,innerRadius:i})},highlight:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return n.template(e)({color:t.color||"red",width:n.isFinite(t.width)?t.width:1,blur:n.isFinite(t.blur)?t.blur:0,opacity:n.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=n.isFinite(t.x)?t.x:2;return n.template('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:n.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return n.template(e)({dx:t.dx||0,dy:t.dy||0,opacity:n.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:n.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=n.isFinite(t.amount)?t.amount:1;return n.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=n.isFinite(t.amount)?t.amount:1;return n.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=n.isFinite(t.amount)?t.amount:1;return n.template('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return n.template('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=n.isFinite(t.amount)?t.amount:1;return n.template('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return n.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:n.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=n.isFinite(t.amount)?t.amount:1;return n.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},format:{number:function(t,e,n){function i(t){for(var e=t.length,i=[],r=0,a=n.grouping[0];e>0&&a>0;)i.push(t.substring(e-=a,e+a)),a=n.grouping[r=(r+1)%n.grouping.length];return i.reverse().join(n.thousands)}n=n||{currency:["$",""],decimal:".",thousands:",",grouping:[3]};var r=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,a=r.exec(t),o=a[1]||" ",s=a[2]||">",l=a[3]||"",u=a[4]||"",c=a[5],h=+a[6],f=a[7],d=a[8],g=a[9],p=1,m="",v="",y=!1;switch(d&&(d=+d.substring(1)),(c||"0"===o&&"="===s)&&(c=o="0",s="=",f&&(h-=Math.floor((h-1)/4))),g){case"n":f=!0,g="g";break;case"%":p=100,v="%",g="f";break;case"p":p=100,v="%",g="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+g.toLowerCase());case"c":case"d":y=!0,d=0;break;case"s":p=-1,g="r"}"$"===u&&(m=n.currency[0],v=n.currency[1]),"r"!=g||d||(g="g"),null!=d&&("g"==g?d=Math.max(1,Math.min(21,d)):("e"==g||"f"==g)&&(d=Math.max(0,Math.min(20,d))));var I=c&&f;if(y&&e%1)return"";var C=0>e||0===e&&0>1/e?(e=-e,"-"):l,b=v;if(0>p){var x=this.prefix(e,d);e=x.scale(e),b=x.symbol+v}else e*=p;e=this.convert(g,e,d);var A=e.lastIndexOf("."),w=0>A?e:e.substring(0,A),_=0>A?"":n.decimal+e.substring(A+1);!c&&f&&n.grouping&&(w=i(w));var M=m.length+w.length+_.length+(I?0:C.length),N=h>M?new Array(M=h-M+1).join(o):"";return I&&(w=i(N+w)),C+=m,e=w+_,("<"===s?C+e+N:">"===s?N+C+e:"^"===s?N.substring(0,M>>=1)+C+e+N.substring(M):C+(I?e:N+e))+b},string:function(t,e){for(var n,i="{",r=!1,a=[];-1!==(n=t.indexOf(i));){var o,s,l;if(o=t.slice(0,n),r){s=o.split(":"),l=s.shift().split("."),o=e;for(var u=0;u<l.length;u++)o=o[l[u]];s.length&&(o=this.number(s,o))}a.push(o),t=t.slice(n+1),i=(r=!r)?"}":"{"}return a.push(t),a.join("")},convert:function(t,e,n){switch(t){case"b":return e.toString(2);case"c":return String.fromCharCode(e);case"o":return e.toString(8);case"x":return e.toString(16);case"X":return e.toString(16).toUpperCase();case"g":return e.toPrecision(n);case"e":return e.toExponential(n);case"f":return e.toFixed(n);case"r":return(e=this.round(e,this.precision(e,n))).toFixed(Math.max(0,Math.min(20,this.precision(e*(1+1e-15),n))));default:return e+""}},round:function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},precision:function(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)},prefix:function(t,e){var i=n.map(["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],function(t,e){var n=Math.pow(10,3*Math.abs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}),r=0;return t&&(0>t&&(t*=-1),e&&(t=this.round(t,this.precision(t,e))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((0>=r?r+1:r-1)/3)))),i[8+r/3]}}}};/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
if(s.mvc.View=e.View.extend({options:{theme:"default"},theme:null,themeClassNamePrefix:"joint-theme-",requireSetThemeOverride:!1,constructor:function(t){e.View.call(this,t)},initialize:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=n.extend({},s.mvc.View.prototype.options||{},this.options||{},t||{}),n.bindAll(this,"setTheme","onSetTheme","remove","onRemove"),s.mvc.views[this.cid]=this,this.setTheme(this.options.theme),this.init()},init:function(){},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override?void 0:(this.onSetTheme(this.theme,t),this.theme&&this.$el.removeClass(this.themeClassNamePrefix+this.theme),this.$el.addClass(this.themeClassNamePrefix+t),this.theme=t,this)},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),s.mvc.views[this.cid]=null,e.View.prototype.remove.apply(this,arguments),this},onRemove:function(){}}),s.dia.GraphCells=e.Collection.extend({cellNamespace:s.shapes,initialize:function(t,e){this.on("change:z",this.sort,this),e.cellNamespace&&(this.cellNamespace=e.cellNamespace),this.graph=e.graph},model:function(t,e){var n=e.collection,i=n.cellNamespace,r="link"===t.type?s.dia.Link:s.util.getByPath(i,t.type,".")||s.dia.Element,a=new r(t,e);return a.graph=n.graph,a},comparator:function(t){return t.get("z")||0}}),s.dia.Graph=e.Model.extend({initialize:function(t,n){n=n||{};var i=new s.dia.GraphCells([],{model:n.cellModel,cellNamespace:n.cellNamespace,graph:this});e.Model.prototype.set.call(this,"cells",i),i.on("all",this.trigger,this),this._out={},this._in={},this._nodes={},this._edges={},i.on("add",this._restructureOnAdd,this),i.on("remove",this._restructureOnRemove,this),i.on("reset",this._restructureOnReset,this),i.on("change:source",this._restructureOnChangeSource,this),i.on("change:target",this._restructureOnChangeTarget,this),i.on("remove",this._removeCell,this)},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var e=t.get("source"),n=t.get("target");e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var e=t.get("source"),n=t.get("target");e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},n.each(t,this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var n=t.get("source");n.id&&((this._out[n.id]||(this._out[n.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var n=t.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=e.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,i,r){var a;return"object"==typeof t?(a=t,r=i):(a={})[t]=i,a.hasOwnProperty("cells")&&(this.resetCells(a.cells,r),a=n.omit(a,"cells")),e.Model.prototype.set.call(this,a,r)},clear:function(t){t=n.extend({},t,{clear:!0});var e=this.get("cells");if(0===e.length)return this;this.trigger("batch:start",{batchName:"clear"});var i=e.sortBy(function(t){return t.isLink()?1:2});do i.shift().remove(t);while(i.length>0);return this.trigger("batch:stop",{batchName:"clear"}),this},_prepareCell:function(t){var i;if(t instanceof e.Model?(i=t.attributes,t.graph=this):i=t,n.isUndefined(i.z)&&(i.z=this.maxZIndex()+1),!n.isString(i.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},maxZIndex:function(){var t=this.get("cells").last();return t?t.get("z")||0:0},addCell:function(t,e){return n.isArray(t)?this.addCells(t,e):(this.get("cells").add(this._prepareCell(t),e||{}),this)},addCells:function(t,e){return e=e||{},e.position=t.length,n.each(t,function(t){e.position--,this.addCell(t,e)},this),this},resetCells:function(t,e){return this.get("cells").reset(n.map(t,this._prepareCell,this),e),this},_removeCell:function(t,e,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0}),delete t.graph},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return n.map(this._nodes,function(t,e){return this.getCell(e)},this)},getLinks:function(){return n.map(this._edges,function(t,e){return this.getCell(e)},this)},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){e=e||{};var i=e.inbound,r=e.outbound;n.isUndefined(i)&&n.isUndefined(r)&&(i=r=!0);var a=[],o={};if(r&&n.each(this.getOutboundEdges(t.id),function(t,e){o[e]||(a.push(this.getCell(e)),o[e]=!0)},this),i&&n.each(this.getInboundEdges(t.id),function(t,e){o[e]||(a.push(this.getCell(e)),o[e]=!0)},this),e.deep){var s=t.getEmbeddedCells({deep:!0}),l={};n.each(s,function(t){t.isLink()&&(l[t.id]=!0)}),n.each(s,function(t){t.isLink()||(r&&n.each(this.getOutboundEdges(t.id),function(t,e){o[e]||l[e]||(a.push(this.getCell(e)),o[e]=!0)},this),i&&n.each(this.getInboundEdges(t.id),function(t,e){o[e]||l[e]||(a.push(this.getCell(e)),o[e]=!0)},this))},this)}return a},getNeighbors:function(t,e){e=e||{};var i=e.inbound,r=e.outbound;n.isUndefined(i)&&n.isUndefined(r)&&(i=r=!0);var a=n.transform(this.getConnectedLinks(t,e),function(a,o){var s=o.get("source"),l=o.get("target"),u=o.hasLoop(e);if(i&&n.has(s,"id")&&!a[s.id]){var c=this.getCell(s.id);(u||c&&c!==t&&(!e.deep||!c.isEmbeddedIn(t)))&&(a[s.id]=c)}if(r&&n.has(l,"id")&&!a[l.id]){var h=this.getCell(l.id);(u||h&&h!==t&&(!e.deep||!h.isEmbeddedIn(t)))&&(a[l.id]=h)}},{},this);return n.values(a)},getCommonAncestor:function(){var t=n.map(arguments,function(t){for(var e=[],n=t.get("parent");n;)e.push(n),n=this.getCell(n).get("parent");return e},this);t=n.sortBy(t,"length");var e=n.find(t.shift(),function(e){return n.every(t,function(t){return n.contains(t,e)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var i=[];return this.search(t,function(e){e!==t&&i.push(e)},n.extend({},e,{outbound:!0})),i},cloneCells:function(t){var e={},i={};return n.each(t,function(t){if(!e[t.id]){var n=t.clone();e[t.id]=n,i[n.id]=t.get("embeds")}}),n.each(t,function(t){var r=e[t.id];if(r.isLink()){var a=r.get("source"),o=r.get("target");a.id&&e[a.id]&&r.prop("source/id",e[a.id].id),o.id&&e[o.id]&&r.prop("target/id",e[o.id].id)}var s=r.get("parent");if(s&&e[s]&&r.set("parent",e[s].id),i[r.id]){var l=[];n.each(i[r.id],function(t){e[t]?l.push(e[t].id):l.push(t)}),r.set("embeds",l)}}),e},cloneSubgraph:function(t,e){var n=this.getSubgraph(t,e);return this.cloneCells(n)},getSubgraph:function(t,e){e=e||{};var i=[],r={},a=[],o=[];return n.each(t,function(t){if(r[t.id]||(i.push(t),r[t.id]=t,t.isLink()?o.push(t):a.push(t)),e.deep){var s=t.getEmbeddedCells({deep:!0});n.each(s,function(t){r[t.id]||(i.push(t),r[t.id]=t,t.isLink()?o.push(t):a.push(t))})}}),n.each(o,function(t){var e=t.get("source"),n=t.get("target");if(e.id&&!r[e.id]){var o=this.getCell(e.id);i.push(o),r[o.id]=o,a.push(o)}if(n.id&&!r[n.id]){var s=this.getCell(n.id);i.push(this.getCell(n.id)),r[s.id]=s,a.push(s)}},this),n.each(a,function(t){var a=this.getConnectedLinks(t,e);n.each(a,function(t){var e=t.get("source"),n=t.get("target");!r[t.id]&&e.id&&r[e.id]&&n.id&&r[n.id]&&(i.push(t),r[t.id]=t)})},this),i},getPredecessors:function(t,e){e=e||{};var i=[];return this.search(t,function(e){e!==t&&i.push(e)},n.extend({},e,{inbound:!0})),i},search:function(t,e,n){n=n||{},n.breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,i){i=i||{};var r={},a={},o=[];for(o.push(t),a[t.id]=0;o.length>0;){var s=o.shift();if(!r[s.id]){if(r[s.id]=!0,e(s,a[s.id])===!1)return;n.each(this.getNeighbors(s,i),function(t){a[t.id]=a[s.id]+1,o.push(t)})}}},dfs:function(t,e,i,r,a){i=i||{};var o=r||{},s=a||0;e(t,s)!==!1&&(o[t.id]=!0,n.each(this.getNeighbors(t,i),function(t){o[t.id]||this.dfs(t,e,i,o,s+1)},this))},getSources:function(){var t=[];return n.each(this._nodes,function(e,i){(!this._in[i]||n.isEmpty(this._in[i]))&&t.push(this.getCell(i))},this),t},getSinks:function(){var t=[];return n.each(this._nodes,function(e,i){(!this._out[i]||n.isEmpty(this._out[i]))&&t.push(this.getCell(i))},this),t},isSource:function(t){return!this._in[t.id]||n.isEmpty(this._in[t.id])},isSink:function(t){return!this._out[t.id]||n.isEmpty(this._out[t.id])},isSuccessor:function(t,e){var n=!1;return this.search(t,function(i){return i===e&&i!==t?(n=!0,!1):void 0},{outbound:!0}),n},isPredecessor:function(t,e){var n=!1;return this.search(t,function(i){return i===e&&i!==t?(n=!0,!1):void 0},{inbound:!0}),n},isNeighbor:function(t,e,i){i=i||{};var r=i.inbound,a=i.outbound;n.isUndefined(r)&&n.isUndefined(a)&&(r=a=!0);var o=!1;return n.each(this.getConnectedLinks(t,i),function(t){var s=t.get("source"),l=t.get("target");return t.hasLoop(i),r&&n.has(s,"id")&&s.id===e.id?(o=!0,!1):a&&n.has(l,"id")&&l.id===e.id?(o=!0,!1):void 0}),o},disconnectLinks:function(t,e){n.each(this.getConnectedLinks(t),function(n){n.set(n.get("source").id===t.id?"source":"target",o.point(0,0),e)})},removeLinks:function(t,e){n.invoke(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return n.filter(this.getElements(),function(e){return e.getBBox().containsPoint(t)})},findModelsInArea:function(t,e){e=n.defaults(e||{},{strict:!1});var i=e.strict?"containsRect":"intersect";return n.filter(this.getElements(),function(e){return t[i](e.getBBox())})},findModelsUnderElement:function(t,e){e=n.defaults(e||{},{searchBy:"bbox"});var i=t.getBBox(),r="bbox"==e.searchBy?this.findModelsInArea(i):this.findModelsFromPoint(i[e.searchBy]());return n.reject(r,function(e){return t.id==e.id||e.isEmbeddedIn(t)})},getBBox:function(t){return t=t||this.collection.models,n.reduce(t,function(t,e){return e.isLink()?t:t?t.union(e.getBBox()):e.getBBox()},void 0)},translate:function(t,e,i){var r=n.reject(this.getCells(),function(t){return t.isEmbedded()});n.invoke(r,"translate",t,e,i)}}),s.dia.Cell=e.Model.extend({constructor:function(t,e){var i,r=t||{};this.cid=n.uniqueId("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(r=this.parse(r,e)||{}),(i=n.result(this,"defaults"))&&(r=n.merge({},i,r)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(){var t=this.constructor.prototype.defaults.attrs||{},e=this.attributes.attrs,i={};n.each(e,function(e,r){var a=t[r];n.each(e,function(t,e){n.isObject(t)&&!n.isArray(t)?n.each(t,function(t,o){a&&a[e]&&n.isEqual(a[e][o],t)||(i[r]=i[r]||{},(i[r][e]||(i[r][e]={}))[o]=t)}):a&&n.isEqual(a[e],t)||(i[r]=i[r]||{},i[r][e]=t)})});var r=n.cloneDeep(n.omit(this.attributes,"attrs"));return r.attrs=i,r},initialize:function(t){t&&t.id||this.set("id",s.util.uuid(),{silent:!0}),this._transitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},processPorts:function(){var t=this.ports,e={};n.each(this.get("attrs"),function(t,i){t&&t.port&&(n.isUndefined(t.port.id)?e[t.port]={id:t.port}:e[t.port.id]=t.port)});var i={};if(n.each(t,function(t,n){e[n]||(i[n]=!0)}),this.graph&&!n.isEmpty(i)){var r=this.graph.getConnectedLinks(this,{inbound:!0});n.each(r,function(t){i[t.get("target").port]&&t.remove()});var a=this.graph.getConnectedLinks(this,{outbound:!0});n.each(a,function(t){i[t.get("source").port]&&t.remove()})}this.ports=e},remove:function(t){t=t||{};var e=this.graph;e&&e.trigger("batch:start",{batchName:"remove"});var i=this.get("parent");if(i){var r=e&&e.getCell(i);r.unembed(this)}return n.invoke(this.getEmbeddedCells(),"remove",t),this.trigger("remove",this,this.collection,t),e&&e.trigger("batch:stop",{batchName:"remove"}),this},toFront:function(t){if(this.graph){t=t||{};var e=(this.graph.getLastCell().get("z")||0)+1;if(this.trigger("batch:start",{batchName:"to-front"}).set("z",e,t),t.deep){var i=this.getEmbeddedCells({deep:!0,breadthFirst:!0});n.each(i,function(n){n.set("z",++e,t)})}this.trigger("batch:stop",{batchName:"to-front"})}return this},toBack:function(t){if(this.graph){t=t||{};var e=(this.graph.getFirstCell().get("z")||0)-1;if(this.trigger("batch:start",{batchName:"to-back"}),t.deep){var i=this.getEmbeddedCells({deep:!0,breadthFirst:!0});n.eachRight(i,function(n){n.set("z",e--,t)})}this.set("z",e,t).trigger("batch:stop",{batchName:"to-back"})}return this},embed:function(t,e){if(this===t||this.isEmbeddedIn(t))throw new Error("Recursive embedding not allowed.");this.trigger("batch:start",{batchName:"embed"});var i=n.clone(this.get("embeds")||[]);return i[t.isLink()?"unshift":"push"](t.id),t.set("parent",this.id,e),this.set("embeds",n.uniq(i),e),this.trigger("batch:stop",{batchName:"embed"}),this},unembed:function(t,e){return this.trigger("batch:start",{batchName:"unembed"}),t.unset("parent",e),this.set("embeds",n.without(this.get("embeds"),t.id),e),this.trigger("batch:stop",{batchName:"unembed"}),this},getAncestors:function(){var t=[],e=this.get("parent");if(!this.graph)return t;for(;void 0!==e;){var n=this.graph.getCell(e);if(void 0===n)break;t.push(n),e=n.get("parent")}return t},getEmbeddedCells:function(t){if(t=t||{},this.graph){var e;if(t.deep)if(t.breadthFirst){e=[];for(var i=this.getEmbeddedCells();i.length>0;){var r=i.shift();e.push(r),i.push.apply(i,r.getEmbeddedCells())}}else e=this.getEmbeddedCells(),n.each(e,function(n){e.push.apply(e,n.getEmbeddedCells(t))});else e=n.map(this.get("embeds"),this.graph.getCell,this.graph);return e}return[]},isEmbeddedIn:function(t,e){var i=n.isString(t)?t:t.id,r=this.get("parent");if(e=n.defaults({deep:!0},e),this.graph&&e.deep){for(;r;){if(r===i)return!0;r=this.graph.getCell(r).get("parent")}return!1}return r===i},isEmbedded:function(){return!!this.get("parent")},clone:function(t){if(t=t||{},t.deep)return n.values(s.dia.Graph.prototype.cloneCells.call(null,[this].concat(this.getEmbeddedCells({deep:!0}))));var i=e.Model.prototype.clone.apply(this,arguments);return i.set("id",s.util.uuid()),i.set("embeds",""),i},prop:function(t,e,i){var r="/";if(n.isString(t)){if(arguments.length>1){var a=t,o=a.split("/"),l=o[0];if(o.shift(),i=i||{},i.propertyPath=a,i.propertyValue=e,0===o.length)return this.set(l,e,i);var u={},c=u,h=l;n.each(o,function(t){c=c[h]=n.isFinite(Number(t))?[]:{},h=t}),u=s.util.setByPath(u,a,e,"/");var f=n.merge({},this.attributes);i.rewrite&&s.util.unsetByPath(f,a,"/");var d=n.merge(f,u);return this.set(l,d[l],i)}return s.util.getByPath(this.attributes,t,r)}return this.set(n.merge({},this.attributes,t),e)},removeProp:function(t,e){e=e||{},e.dirty=!0;var i=t.split("/");if(1===i.length)return this.unset(t,e);var r=i[0],a=i.slice(1).join("/"),o=n.merge({},this.get(r));return s.util.unsetByPath(o,a,"/"),this.set(r,o,e)},attr:function(t,e,i){var r=Array.prototype.slice.call(arguments);return n.isString(t)?r[0]="attrs/"+t:r[0]={attrs:t},this.prop.apply(this,r)},removeAttr:function(t,e){return n.isArray(t)?(n.each(t,function(t){this.removeAttr(t,e)},this),this):this.removeProp("attrs/"+t,e)},transition:function(t,e,i,r){r=r||"/";var a={duration:100,delay:10,timingFunction:s.util.timing.linear,valueFunction:s.util.interpolate.number};i=n.extend(a,i);var o,l=0,u=n.bind(function(e){var n,r,a;l=l||e,e-=l,r=e/i.duration,1>r?this._transitionIds[t]=n=s.util.nextFrame(u):(r=1,delete this._transitionIds[t]),a=o(i.timingFunction(r)),i.transitionId=n,this.prop(t,a,i),n||this.trigger("transition:end",this,t)},this),c=n.bind(function(n){this.stopTransitions(t),o=i.valueFunction(s.util.getByPath(this.attributes,t,r),e),this._transitionIds[t]=s.util.nextFrame(n),this.trigger("transition:start",this,t)},this);return n.delay(c,i.delay,u)},getTransitions:function(){return n.keys(this._transitionIds)},stopTransitions:function(t,e){e=e||"/";var i=t&&t.split(e);return n(this._transitionIds).keys().filter(i&&function(t){return n.isEqual(i,t.split(e).slice(0,i.length))}).each(function(t){s.util.cancelFrame(this._transitionIds[t]),delete this._transitionIds[t],this.trigger("transition:end",this,t)},this),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isLink:function(){return!1}}),s.dia.CellView=s.mvc.View.extend({tagName:"g",attributes:function(){return{"model-id":this.model.id}},constructor:function(t){t.id=t.id||s.util.guid(this),s.mvc.View.call(this,t)},init:function(){n.bindAll(this,"remove","update"),this.$el.data("view",this),this.listenTo(this.model,"change:attrs",this.onChangeAttrs)},onChangeAttrs:function(t,e,n){return n.dirty?this.render():this.update(t,e,n)},_ensureElement:function(){var t;if(this.el)t=n.result(this,"el");else{var e=n.extend({id:this.id},n.result(this,"attributes"));this.className&&(e["class"]=n.result(this,"className")),t=r(n.result(this,"tagName"),e).node}this.setElement(t,!1)},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],this.vel=r(this.el)},findBySelector:function(t){var e="."===t?this.$el:this.$el.find(t);return e},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getStrokeBBox:function(t){var e=!!t;t=t||this.el;var n,i=r(t).bbox(!1,this.paper.viewport);return n=e?r(t).attr("stroke-width"):this.model.attr("rect/stroke-width")||this.model.attr("circle/stroke-width")||this.model.attr("ellipse/stroke-width")||this.model.attr("path/stroke-width"),n=parseFloat(n)||0,o.rect(i).moveAndExpand({x:-n/2,y:-n/2,width:n,height:n})},getBBox:function(){return o.rect(this.vel.bbox())},highlight:function(t,e){return t=t?this.$(t)[0]||this.el:this.el,e=e||{},e.partial=t!=this.el,this.notify("cell:highlight",t,e),this},unhighlight:function(t,e){return t=t?this.$(t)[0]||this.el:this.el,e=e||{},e.partial=t!=this.el,this.notify("cell:unhighlight",t,e),this},findMagnet:function(t){var e=this.$(t);if(0===e.length||e[0]===this.el){var n=this.model.get("attrs")||{};return n["."]&&n["."].magnet===!1?void 0:this.el}return e.attr("magnet")?e[0]:this.findMagnet(e.parent())},applyFilter:function(t,e){var a=n.isString(t)?this.findBySelector(t):i(t),o=e.name+this.paper.svg.id+s.util.hashCode(JSON.stringify(e));if(!this.paper.svg.getElementById(o)){var l=s.util.filter[e.name]&&s.util.filter[e.name](e.args||{});if(!l)throw new Error("Non-existing filter "+e.name);var u=r(l);u.attr({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3}),e.attrs&&u.attr(e.attrs),u.node.id=o,r(this.paper.svg).defs().append(u)}a.each(function(){r(this).attr("filter","url(#"+o+")")})},applyGradient:function(t,e,a){var o=n.isString(t)?this.findBySelector(t):i(t),l=a.type+this.paper.svg.id+s.util.hashCode(JSON.stringify(a));if(!this.paper.svg.getElementById(l)){var u=["<"+a.type+">",n.map(a.stops,function(t){return'<stop offset="'+t.offset+'" stop-color="'+t.color+'" stop-opacity="'+(n.isFinite(t.opacity)?t.opacity:1)+'" />'}).join(""),"</"+a.type+">"].join(""),c=r(u);a.attrs&&c.attr(a.attrs),c.node.id=l,r(this.paper.svg).defs().append(c)}o.each(function(){r(this).attr(e,"url(#"+l+")")})},getSelector:function(t,e){if(t===this.el)return e;var n=r(t).index()+1,i=t.tagName+":nth-child("+n+")";return e&&(i+=" > "+e),this.getSelector(t.parentNode,i)},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},pointerdown:function(t,e,n){this.model.collection&&(this.model.trigger("batch:start",{batchName:"pointer"}),this._collection=this.model.collection),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){this.notify("cell:pointerup",t,e,n),this._collection&&(this._collection.trigger("batch:stop",{batchName:"pointer"}),delete this._collection)},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},onSetTheme:function(t,e){t&&this.vel.removeClass(this.themeClassNamePrefix+t),this.vel.addClass(this.themeClassNamePrefix+e)}}),s.dia.Element=s.dia.Cell.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},position:function(t,e,i){var r=n.isNumber(e);if(i=(r?i:t)||{},i.parentRelative){if(!this.graph)throw new Error("Element must be part of a graph.");var a=this.graph.getCell(this.get("parent")),s=a&&!a.isLink()?a.get("position"):{x:0,y:0}}if(r)return i.parentRelative&&(t+=s.x,e+=s.y),this.set("position",{x:t,y:e},i);var l=o.point(this.get("position"));return i.parentRelative?l.difference(s):l},translate:function(t,e,i){if(t=t||0,e=e||0,0===t&&0===e)return this;i=i||{},i.translateBy=i.translateBy||this.id;var r=this.get("position")||{x:0,y:0};if(i.restrictedArea&&i.translateBy===this.id){var a=this.getBBox({deep:!0}),o=i.restrictedArea,l=r.x-a.x,u=r.y-a.y,c=Math.max(o.x+l,Math.min(o.x+o.width+l-a.width,r.x+t)),h=Math.max(o.y+u,Math.min(o.y+o.height+u-a.height,r.y+e));t=c-r.x,e=h-r.y}var f={x:r.x+t,y:r.y+e};return i.tx=t,i.ty=e,i.transition?(n.isObject(i.transition)||(i.transition={}),this.transition("position",f,n.extend({},i.transition,{valueFunction:s.util.interpolate.object}))):(this.set("position",f,i),n.invoke(this.getEmbeddedCells(),"translate",t,e,i)),this},resize:function(t,e,i){if(i=i||{},this.trigger("batch:start",n.extend({},i,{element:this,batchName:"resize"})),i.direction){var r=this.get("size");switch(i.direction){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width}var a=o.normalizeAngle(this.get("angle")||0),s={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[i.direction];i.absolute&&(s+=Math.floor((a+45)/90),s%=4);var l=this.getBBox(),u=l[["bottomLeft","corner","topRight","origin"][s]](),c=o.point(u).rotate(l.center(),-a),h=Math.sqrt(t*t+e*e)/2,f=s*Math.PI/2;f+=Math.atan(s%2==0?e/t:t/e),f-=o.toRad(a);var d=o.point.fromPolar(h,f,c),g=o.point(d).offset(t/-2,e/-2);this.set("size",{width:t,height:e},i),this.position(g.x,g.y,i)}else this.set("size",{width:t,height:e},i);return this.trigger("batch:stop",n.extend({},i,{element:this,batchName:"resize"})),this},fitEmbeds:function(t){if(t=t||{},!this.graph)throw new Error("Element must be part of a graph.");var e=this.getEmbeddedCells();if(e.length>0){this.trigger("batch:start",{batchName:"fit-embeds"}),t.deep&&n.invoke(e,"fitEmbeds",t);var i=this.graph.getBBox(e),r=s.util.normalizeSides(t.padding);i.moveAndExpand({x:-r.left,y:-r.top,width:r.right+r.left,height:r.bottom+r.top}),this.set({position:{x:i.x,y:i.y},size:{width:i.width,height:i.height}},t),this.trigger("batch:stop",{batchName:"fit-embeds"})}return this},rotate:function(t,e,n){if(n){var i=this.getBBox().center(),r=this.get("size"),a=this.get("position");i.rotate(n,this.get("angle")-t);var o=i.x-r.width/2-a.x,s=i.y-r.height/2-a.y;this.trigger("batch:start",{batchName:"rotate"}),this.translate(o,s),this.rotate(t,e),this.trigger("batch:stop",{batchName:"rotate"})}else this.set("angle",e?t:(this.get("angle")+t)%360);return this},getBBox:function(t){if(t=t||{},t.deep&&this.graph){var e=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return e.push(this),this.graph.getBBox(e)}var n=this.get("position"),i=this.get("size");return o.rect(n.x,n.y,i.width,i.height)}}),s.dia.ElementView=s.dia.CellView.extend({SPECIAL_ATTRIBUTES:["style","text","html","ref-x","ref-y","ref-dx","ref-dy","ref-width","ref-height","ref","x-alignment","y-alignment","port"],className:function(){return"element "+this.model.get("type").replace(/\./g," ")},initialize:function(){n.bindAll(this,"translate","resize","rotate"),s.dia.CellView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:position",this.translate),this.listenTo(this.model,"change:size",this.resize),this.listenTo(this.model,"change:angle",this.rotate)},update:function(t,e){var a=this.model.get("attrs"),o=this.rotatableNode;if(o){var s=o.attr("transform");o.attr("transform","")}var l=[],u={};n.each(e||a,function(t,e){var a=this.findBySelector(e);if(0!==a.length){u[e]=a;var o=this.SPECIAL_ATTRIBUTES.slice();n.isObject(t.filter)&&(o.push("filter"),this.applyFilter(a,t.filter)),n.isObject(t.fill)&&(o.push("fill"),this.applyGradient(a,"fill",t.fill)),n.isObject(t.stroke)&&(o.push("stroke"),this.applyGradient(a,"stroke",t.stroke)),n.isUndefined(t.text)||(a.each(function(){r(this).text(t.text+"",{lineHeight:t.lineHeight,textPath:t.textPath,annotations:t.annotations})}),o.push("lineHeight","textPath","annotations"));var s=n.omit(t,o);a.each(function(){r(this).attr(s)}),t.port&&a.attr("port",n.isUndefined(t.port.id)?t.port:t.port.id),t.style&&a.css(t.style),n.isUndefined(t.html)||a.each(function(){i(this).html(t.html+"")}),n.isUndefined(t["ref-x"])&&n.isUndefined(t["ref-y"])&&n.isUndefined(t["ref-dx"])&&n.isUndefined(t["ref-dy"])&&n.isUndefined(t["x-alignment"])&&n.isUndefined(t["y-alignment"])&&n.isUndefined(t["ref-width"])&&n.isUndefined(t["ref-height"])||n.each(a,function(t,e,n){var r=i(t);r.selector=n.selector,l.push(r)})}},this);var c=this.model.get("size"),h={x:0,y:0,width:c.width,height:c.height};e=e||{},n.each(l,function(t){var i=e[t.selector],o=i?n.merge({},a[t.selector],i):a[t.selector];this.positionRelative(r(t[0]),h,o,u)},this),o&&o.attr("transform",s||"")},positionRelative:function(t,e,i,a){var o=i.ref,s=parseFloat(i["ref-dx"]),l=parseFloat(i["ref-dy"]),u=i["y-alignment"],c=i["x-alignment"],h=i["ref-y"],f=n.isString(h)&&"%"===h.slice(-1);h=parseFloat(h),f&&(h/=100);var d=i["ref-x"],g=n.isString(d)&&"%"===d.slice(-1);d=parseFloat(d),g&&(d/=100);var p=i["ref-width"],m=n.isString(p)&&"%"===p.slice(-1);p=parseFloat(p),m&&(p/=100);var v=i["ref-height"],y=n.isString(v)&&"%"===v.slice(-1);v=parseFloat(v),y&&(v/=100);var I=t.findParentByClass("scalable",this.el);if(o){var C;if(C=a&&a[o]?r(a[o][0]):"."===o?this.vel:this.vel.findOne(o),!C)throw new Error("dia.ElementView: reference does not exists.");e=C.bbox(!1,this.el)}t.attr("transform")&&t.attr("transform",t.attr("transform").replace(/translate\([^)]*\)/g,"").trim()||""),isFinite(p)&&(m||p>=0&&1>=p?t.attr("width",p*e.width):t.attr("width",Math.max(p+e.width,0))),isFinite(v)&&(y||v>=0&&1>=v?t.attr("height",v*e.height):t.attr("height",Math.max(v+e.height,0)));var b,x=0,A=0;if(isFinite(s)&&(I?(b=b||I.scale(),x=e.x+e.width+s/b.sx):x=e.x+e.width+s),isFinite(l)&&(I?(b=b||I.scale(),A=e.y+e.height+l/b.sy):A=e.y+e.height+l),isFinite(d)&&(g||d>0&&1>d?x=e.x+e.width*d:I?(b=b||I.scale(),x=e.x+d/b.sx):x=e.x+d),isFinite(h)&&(g||h>0&&1>h?A=e.y+e.height*h:I?(b=b||I.scale(),A=e.y+h/b.sy):A=e.y+h),!n.isUndefined(u)||!n.isUndefined(c)){var w=t.bbox(!1,this.paper.viewport);"middle"===u?A-=w.height/2:isFinite(u)&&(A+=u>-1&&1>u?w.height*u:u),"middle"===c?x-=w.width/2:isFinite(c)&&(x+=c>-1&&1>c?w.width*c:c)}t.translate(x,A)},renderMarkup:function(){var t=this.model.get("markup")||this.model.markup;if(!t)throw new Error("properties.markup is missing while the default render() implementation is used.");var e=r(t);this.vel.append(e)},render:function(){return this.$el.empty(),this.renderMarkup(),this.rotatableNode=this.vel.findOne(".rotatable"),this.scalableNode=this.vel.findOne(".scalable"),this.update(),this.resize(),this.rotate(),this.translate(),this},scale:function(t,e){this.vel.scale(t,e)},resize:function(){var t=this.model.get("size")||{width:1,height:1},e=this.model.get("angle")||0,n=this.scalableNode;if(n){var i=n.bbox(!0);n.attr("transform","scale("+t.width/(i.width||1)+","+t.height/(i.height||1)+")");var r=this.rotatableNode,a=r&&r.attr("transform");if(a&&"null"!==a){r.attr("transform",a+" rotate("+-e+","+t.width/2+","+t.height/2+")");var o=n.bbox(!1,this.paper.viewport);this.model.set("position",{x:o.x,y:o.y}),this.rotate()}this.update()}},translate:function(t,e,n){var i=this.model.get("position")||{x:0,y:0};this.vel.attr("transform","translate("+i.x+","+i.y+")")},rotate:function(){var t=this.rotatableNode;if(t){var e=this.model.get("angle")||0,n=this.model.get("size")||{width:1,height:1},i=n.width/2,r=n.height/2;t.attr("transform","rotate("+e+","+i+","+r+")")}},getBBox:function(t){if(t&&t.useModelGeometry){var e=this.model.getBBox().bbox(this.model.get("angle")),n=this.paper.viewport.getCTM();return o.rect(r.transformRect(e,n))}return s.dia.CellView.prototype.getBBox.apply(this,arguments)},prepareEmbedding:function(t){t=t||{};var e=t.model||this.model,i=t.paper||this.paper;e.toFront({deep:!0,ui:!0}),n.invoke(i.model.getConnectedLinks(e,{deep:!0}),"toFront",{ui:!0});var r=e.get("parent");r&&i.model.getCell(r).unembed(e,{ui:!0})},processEmbedding:function(t){t=t||{};var e=t.model||this.model,n=t.paper||this.paper,i=n.options,r=n.model.findModelsUnderElement(e,{searchBy:i.findParentBy});i.frontParentOnly&&(r=r.slice(-1));for(var a=null,o=this._candidateEmbedView,s=r.length-1;s>=0;s--){var l=r[s];if(o&&o.model.id==l.id){a=o;break}var u=l.findView(n);if(i.validateEmbedding.call(n,this,u)){a=u;break}}a&&a!=o&&(o&&o.unhighlight(null,{embedding:!0}),this._candidateEmbedView=a.highlight(null,{embedding:!0})),!a&&o&&(o.unhighlight(null,{embedding:!0}),delete this._candidateEmbedView)},finalizeEmbedding:function(t){t=t||{};var e=this._candidateEmbedView,i=t.model||this.model,r=t.paper||this.paper;e&&(e.model.embed(i,{ui:!0}),e.unhighlight(null,{embedding:!0}),delete this._candidateEmbedView),n.invoke(r.model.getConnectedLinks(i,{deep:!0}),"reparent",{ui:!0})},pointerdown:function(t,e,n){var i=this.paper;if(t.target.getAttribute("magnet")&&i.options.validateMagnet.call(i,this,t.target)){this.model.trigger("batch:start",{batchName:"add-link"});var r=i.getDefaultLink(this,t.target);r.set({source:{id:this.model.id,selector:this.getSelector(t.target),port:t.target.getAttribute("port")},target:{x:e,y:n}}),i.model.addCell(r);var a=this._linkView=i.findViewByModel(r);a.pointerdown(t,e,n),a.startArrowheadMove("target",{whenNotAllowed:"remove"})}else this._dx=e,this._dy=n,this.restrictedArea=i.getRestrictedArea(this),s.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("element:pointerdown",t,e,n)},pointermove:function(t,e,i){if(this._linkView)this._linkView.pointermove(t,e,i);else{var r=this.paper.options.gridSize,a=n.isFunction(this.options.interactive)?this.options.interactive(this,"pointermove"):this.options.interactive;if(a!==!1){var l=this.model.get("position"),u=o.snapToGrid(l.x,r)-l.x+o.snapToGrid(e-this._dx,r),c=o.snapToGrid(l.y,r)-l.y+o.snapToGrid(i-this._dy,r);this.model.translate(u,c,{restrictedArea:this.restrictedArea,ui:!0}),this.paper.options.embeddingMode&&(this._inProcessOfEmbedding||(this.prepareEmbedding(),this._inProcessOfEmbedding=!0),this.processEmbedding())}this._dx=o.snapToGrid(e,r),this._dy=o.snapToGrid(i,r),s.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("element:pointermove",t,e,i)}},pointerup:function(t,e,n){this._linkView?(this._linkView.pointerup(t,e,n),this._linkView=null,this.model.trigger("batch:stop",{batchName:"add-link"})):(this._inProcessOfEmbedding&&(this.finalizeEmbedding(),this._inProcessOfEmbedding=!1),this.notify("element:pointerup",t,e,n),s.dia.CellView.prototype.pointerup.apply(this,arguments))}}),s.dia.Link=s.dia.Cell.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),labelMarkup:['<g class="label">',"<rect />","<text />","</g>"].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),
vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaults:{type:"link",source:{},target:{}},disconnect:function(){return this.set({source:o.point(0,0),target:o.point(0,0)})},label:function(t,e){t=t||0;var i=this.get("labels")||[];if(0===arguments.length||1===arguments.length)return i[t];var r=n.merge({},i[t],e),a=i.slice();return a[t]=r,this.set({labels:a})},translate:function(t,e,i){var r={},a=this.get("source"),o=this.get("target"),s=this.get("vertices");return a.id||(r.source={x:(a.x||0)+t,y:(a.y||0)+e}),o.id||(r.target={x:(o.x||0)+t,y:(o.y||0)+e}),s&&s.length&&(r.vertices=n.map(s,function(n){return{x:n.x+t,y:n.y+e}})),i=i||{},i.translateBy=i.translateBy||this.id,i.tx=t,i.ty=e,this.set(r,i)},reparent:function(t){var e;if(this.graph){var n=this.graph.getCell(this.get("source").id),i=this.graph.getCell(this.get("target").id),r=this.graph.getCell(this.get("parent"));n&&i&&(e=this.graph.getCommonAncestor(n,i)),!r||e&&e.id===r.id||r.unembed(this,t),e&&e.embed(this,t)}return e},isLink:function(){return!0},hasLoop:function(t){t=t||{};var e=this.get("source").id,n=this.get("target").id;if(!e||!n)return!1;var i=e===n;if(!i&&t.deep&&this.graph){var r=this.graph.getCell(e),a=this.graph.getCell(n);i=r.isEmbeddedIn(a)||a.isEmbeddedIn(r)}return i},getSourceElement:function(){var t=this.get("source");return t&&t.id&&this.graph&&this.graph.getCell(t.id)||null},getTargetElement:function(){var t=this.get("target");return t&&t.id&&this.graph&&this.graph.getCell(t.id)||null},getRelationshipAncestor:function(){var t;if(this.graph){var e=n.compact([this,this.getSourceElement(),this.getTargetElement()]);t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=n.isString(t)?t:t.id,i=this.getRelationshipAncestor();return!!i&&(i.id===e||i.isEmbeddedIn(e))}}),s.dia.LinkView=s.dia.CellView.extend({className:function(){return n.unique(this.model.get("type").split(".").concat("link")).join(" ")},options:{shortLinkLength:100,doubleLinkTools:!1,longLinkLength:160,linkToolsOffset:40,doubleLinkToolsOffset:60,sampleInterval:50},_z:null,initialize:function(t){s.dia.CellView.prototype.initialize.apply(this,arguments),"function"!=typeof this.constructor.prototype.watchSource&&(this.constructor.prototype.watchSource=this.createWatcher("source"),this.constructor.prototype.watchTarget=this.createWatcher("target")),this._labelCache={},this._markerCache={},this.startListening()},startListening:function(){var t=this.model;this.listenTo(t,"change:markup",this.render),this.listenTo(t,"change:smooth change:manhattan change:router change:connector",this.update),this.listenTo(t,"change:toolMarkup",this.onToolsChange),this.listenTo(t,"change:labels change:labelMarkup",this.onLabelsChange),this.listenTo(t,"change:vertices change:vertexMarkup",this.onVerticesChange),this.listenTo(t,"change:source",this.onSourceChange),this.listenTo(t,"change:target",this.onTargetChange)},onSourceChange:function(t,e,n){this.watchSource(t,e),n.translateBy&&this.model.get("target").id||(n.updateConnectionOnly=!0,this.update(this.model,null,n))},onTargetChange:function(t,e,n){this.watchTarget(t,e),n.translateBy||(n.updateConnectionOnly=!0,this.update(this.model,null,n))},onVerticesChange:function(t,e,n){this.renderVertexMarkers(),n.translateBy&&n.translateBy!==this.model.id||(n.updateConnectionOnly=!0,this.update(t,null,n))},onToolsChange:function(){this.renderTools().updateToolsPosition()},onLabelsChange:function(){this.renderLabels().updateLabelPositions()},render:function(){this.$el.empty();var t=this.model,e=r(t.get("markup")||t.markup);if(n.isArray(e)||(e=[e]),this._V={},n.each(e,function(t){var e=t.attr("class");e&&(this._V[i.camelCase(e)]=t)},this),!this._V.connection)throw new Error("link: no connection path in the markup");return this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e),this.renderLabels(),this.watchSource(t,t.get("source")).watchTarget(t,t.get("target")).update(),this},renderLabels:function(){if(!this._V.labels)return this;this._labelCache={};var t=i(this._V.labels.node).empty(),e=this.model.get("labels")||[];if(!e.length)return this;var a=n.template(this.model.get("labelMarkup")||this.model.labelMarkup),o=r(a()),l=this.can("labelMove");return n.each(e,function(e,a){var u=o.clone().node;r(u).attr("label-idx",a),l&&r(u).attr("cursor","move"),this._labelCache[a]=r(u);var c=i(u).find("text"),h=i(u).find("rect"),f=n.extend({"text-anchor":"middle","font-size":14},s.util.getByPath(e,"attrs/text","/"));c.attr(n.omit(f,"text")),n.isUndefined(f.text)||r(c[0]).text(f.text+""),t.append(u);var d=r(c[0]).bbox(!0,t[0]);r(c[0]).translate(0,-d.height/2);var g=n.extend({fill:"white",rx:3,ry:3},s.util.getByPath(e,"attrs/rect","/"));h.attr(n.extend(g,{x:d.x,y:d.y-d.height/2,width:d.width,height:d.height}))},this),this},renderTools:function(){if(!this._V.linkTools)return this;var t=i(this._V.linkTools.node).empty(),e=n.template(this.model.get("toolMarkup")||this.model.toolMarkup),a=r(e());if(t.append(a.node),this._toolCache=a,this.options.doubleLinkTools){var o;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=n.template(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),o=r(e())):o=a.clone(),t.append(o.node),this._tool2Cache=o}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=i(this._V.markerVertices.node).empty(),e=n.template(this.model.get("vertexMarkup")||this.model.vertexMarkup);return n.each(this.model.get("vertices"),function(i,a){t.append(r(e(n.extend({idx:a},i))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=i(this._V.markerArrowheads.node);t.empty();var e=n.template(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=r(e({end:"source"})),this._V.targetArrowhead=r(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},update:function(t,e,n){return n=n||{},n.updateConnectionOnly||this.updateAttributes(),this.updateConnection(n),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null,this.updatePostponed=!1,this},updateConnection:function(t){t=t||{};var e,i=this.model;if(t.translateBy&&i.isRelationshipEmbeddedIn(t.translateBy)){var r=t.tx||0,a=t.ty||0;e=this.route=n.map(this.route,function(t){return o.point(t).offset(r,a)}),this._translateConnectionPoints(r,a)}else e=this.route=this.findRoute(i.get("vertices")||[],t),this._findConnectionPoints(e);var s=this.getPathData(e);this._V.connection.attr("d",s),this._V.connectionWrap&&this._V.connectionWrap.attr("d",s),this._translateAndAutoOrientArrows(this._V.markerSource,this._V.markerTarget)},updateAttributes:function(){n.each(this.model.get("attrs"),function(t,e){var i=[];n.isObject(t.fill)&&(this.applyGradient(e,"fill",t.fill),i.push("fill")),n.isObject(t.stroke)&&(this.applyGradient(e,"stroke",t.stroke),i.push("stroke")),n.isObject(t.filter)&&(this.applyFilter(e,t.filter),i.push("filter")),i.length>0&&(i.unshift(t),t=n.omit.apply(n,i)),this.findBySelector(e).attr(t)},this)},_findConnectionPoints:function(t){var e,i,r,a,s=n.first(t);e=this.getConnectionPoint("source",this.model.get("source"),s||this.model.get("target")).round();var l=n.last(t);i=this.getConnectionPoint("target",this.model.get("target"),l||e).round();var u=this._markerCache;this._V.markerSource&&(u.sourceBBox=u.sourceBBox||this._V.markerSource.bbox(!0),r=o.point(e).move(s||i,u.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(u.targetBBox=u.targetBBox||this._V.markerTarget.bbox(!0),a=o.point(i).move(l||e,u.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),u.sourcePoint=r||e,u.targetPoint=a||i,this.sourcePoint=e,this.targetPoint=i},_translateConnectionPoints:function(t,e){var n=this._markerCache;n.sourcePoint.offset(t,e),n.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var t=this.model.get("labels")||[];if(!t.length)return this;var e=this._V.connection.node,i=e.getTotalLength();if(!n.isNaN(i)){var r;n.each(t,function(t,a){var s=t.position,l=n.isObject(s)?s.distance:s,u=n.isObject(s)?s.offset:{x:0,y:0};l=l>i?i:l,l=0>l?i+l:l,l=l>1?l:i*l;var c=e.getPointAtLength(l);if(n.isObject(u))c=o.point(c).offset(u.x,u.y);else if(n.isNumber(u)){r||(r=this._samples||this._V.connection.sample(this.options.sampleInterval));for(var h,f,d,g,p=1/0,m=0,v=r.length;v>m;m++)d=r[m],g=o.line(d,c).squaredLength(),p>g&&(p=g,h=d,f=m);var y=r[f-1],I=r[f+1],C=0;I?C=o.point(c).theta(I):y&&(C=o.point(y).theta(c)),c=o.point(c).offset(u).rotate(c,C-90)}this._labelCache[a].attr("transform","translate("+c.x+", "+c.y+")")},this)}return this},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,i=this.getConnectionLength();if(!n.isNaN(i)){i<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var r=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+t),this.options.doubleLinkTools&&i>=this.options.longLinkLength){var a=this.options.doubleLinkToolsOffset||e;r=this.getPointAtLength(i-a),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+t),this._tool2Cache.attr("visibility","visible")}else this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===i.css(this._V.markerArrowheads.node,"display"))return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},createWatcher:function(t){function e(e,n){n=n||{};var r=null,a=e.previous(t)||{};return a.id&&this.stopListening(this.paper.getModelById(a.id),"change",i),n.id&&(r=this.paper.getModelById(n.id),this.listenTo(r,"change",i)),i.call(this,r,{cacheOnly:!0}),this}var i=n.partial(this.onEndModelChange,t);return e},onEndModelChange:function(t,e,i){var r=!i.cacheOnly,a=this.model,s=a.get(t)||{};if(e){var l=this.constructor.makeSelector(s),u="source"==t?"target":"source",c=a.get(u)||{},h=c.id&&this.constructor.makeSelector(c);if(i.handleBy===this.cid&&l==h)this[t+"BBox"]=this[u+"BBox"],this[t+"View"]=this[u+"View"],this[t+"Magnet"]=this[u+"Magnet"];else if(i.translateBy){var f=this[t+"BBox"];f.x+=i.tx,f.y+=i.ty}else{var d=this.paper.findViewByModel(s.id),g=d.el.querySelector(l);this[t+"BBox"]=d.getStrokeBBox(g),this[t+"View"]=d,this[t+"Magnet"]=g}if(i.handleBy===this.cid&&i.translateBy&&a.isEmbeddedIn(e)&&!n.isEmpty(a.get("vertices"))&&(r=!1),!this.updatePostponed&&c.id){var p=this.paper.getModelById(c.id);s.id===c.id&&(i.handleBy=this.cid),(i.handleBy===this.cid||i.translateBy&&p.isEmbeddedIn(i.translateBy))&&(this.updatePostponed=!0,r=!1)}}else this[t+"BBox"]=o.rect(s.x||0,s.y||0,1,1),this[t+"View"]=this[t+"Magnet"]=null;r&&(i.updateConnectionOnly=!0,this.update(a,null,i))},_translateAndAutoOrientArrows:function(t,e){t&&t.translateAndAutoOrient(this.sourcePoint,n.first(this.route)||this.targetPoint,this.paper.viewport),e&&e.translateAndAutoOrient(this.targetPoint,n.last(this.route)||this.sourcePoint,this.paper.viewport)},removeVertex:function(t){var e=n.clone(this.model.get("vertices"));return e&&e.length&&(e.splice(t,1),this.model.set("vertices",e,{ui:!0})),this},addVertex:function(t){for(var e,n=(this.model.get("vertices")||[]).slice(),i=n.slice(),a=this._V.connection.node.cloneNode(!1),o=a.getTotalLength(),s=20,l=n.length+1;l--&&(n.splice(l,0,t),r(a).attr("d",this.getPathData(this.findRoute(n))),e=a.getTotalLength(),e-o>s);)n=i.slice();return-1===l&&(l=0,n.splice(l,0,t)),this.model.set("vertices",n,{ui:!0}),l},sendToken:function(t,e,i){e=e||1e3,r(this.paper.viewport).append(t),r(t).animateAlongPath({dur:e+"ms",repeatCount:1},this._V.connection.node),n.delay(function(){r(t).remove(),i&&i()},e)},findRoute:function(t){var e=s.routers,i=this.model.get("router"),r=this.paper.options.defaultRouter;if(!i)if(this.model.get("manhattan"))i={name:"orthogonal"};else{if(!r)return t;i=r}var a=i.args||{},o=n.isFunction(i)?i:e[i.name];if(!n.isFunction(o))throw new Error('unknown router: "'+i.name+'"');var l=o.call(this,t||[],a,this);return l},getPathData:function(t){var e=s.connectors,i=this.model.get("connector"),r=this.paper.options.defaultConnector;i||(i=this.model.get("smooth")?{name:"smooth"}:r||{});var a=n.isFunction(i)?i:e[i.name],o=i.args||{};if(!n.isFunction(a))throw new Error('unknown connector: "'+i.name+'"');var l=a.call(this,this._markerCache.sourcePoint,this._markerCache.targetPoint,t||this.model.get("vertices")||{},o,this);return l},getConnectionPoint:function(t,e,i){var r;if(n.isEmpty(e)&&(e={x:0,y:0}),n.isEmpty(i)&&(i={x:0,y:0}),e.id){var a,s="source"===t?this.sourceBBox:this.targetBBox;if(i.id){var l="source"===t?this.targetBBox:this.sourceBBox;a=o.rect(l).intersectionWithLineFromCenterToPoint(o.rect(s).center()),a=a||o.rect(l).center()}else a=o.point(i);if(this.paper.options.perpendicularLinks||this.options.perpendicular){var u,c=o.rect(0,a.y,this.paper.options.width,1),h=o.rect(a.x,0,1,this.paper.options.height);if(c.intersect(o.rect(s)))switch(u=o.rect(s).sideNearestToPoint(a)){case"left":r=o.point(s.x,a.y);break;case"right":r=o.point(s.x+s.width,a.y);break;default:r=o.rect(s).center()}else if(h.intersect(o.rect(s)))switch(u=o.rect(s).sideNearestToPoint(a)){case"top":r=o.point(a.x,s.y);break;case"bottom":r=o.point(a.x,s.y+s.height);break;default:r=o.rect(s).center()}else r=o.rect(s).intersectionWithLineFromCenterToPoint(a),r=r||o.rect(s).center()}else if(this.paper.options.linkConnectionPoint){var f="target"===t?this.targetView:this.sourceView,d="target"===t?this.targetMagnet:this.sourceMagnet;r=this.paper.options.linkConnectionPoint(this,f,d,a)}else r=o.rect(s).intersectionWithLineFromCenterToPoint(a),r=r||o.rect(s).center()}else r=o.point(e);return r},getConnectionLength:function(){return this._V.connection.node.getTotalLength()},getPointAtLength:function(t){return this._V.connection.node.getPointAtLength(t)},_beforeArrowheadMove:function(){this._z=this.model.get("z"),this.model.toFront(),this.el.style.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets()},_afterArrowheadMove:function(){n.isNull(this._z)||(this.model.set("z",this._z,{ui:!0}),this._z=null),this.el.style.pointerEvents="visiblePainted",this.paper.options.markAvailable&&this._unmarkAvailableMagnets()},_createValidateConnectionArgs:function(t){function e(t,e){return n[a]=t,n[a+1]=t.el===e?void 0:e,n}var n=[];n[4]=t,n[5]=this;var i,r=0,a=0;"source"===t?(r=2,i="target"):(a=2,i="source");var o=this.model.get(i);return o.id&&(n[r]=this.paper.findViewByModel(o.id),n[r+1]=o.selector&&n[r].el.querySelector(o.selector)),e},_markAvailableMagnets:function(){var t=this.paper.model.getElements(),e=this.paper.options.validateConnection;n.chain(t).map(this.paper.findViewByModel,this.paper).each(function(t){var i="false"!==t.el.getAttribute("magnet")&&e.apply(this.paper,this._validateConnectionArgs(t,null)),a=n.filter(t.el.querySelectorAll("[magnet]"),function(n){return e.apply(this.paper,this._validateConnectionArgs(t,n))},this);i&&r(t.el).addClass("available-magnet"),n.each(a,function(t){r(t).addClass("available-magnet")}),(i||a.length)&&r(t.el).addClass("available-cell")},this).value()},_unmarkAvailableMagnets:function(){n.each(this.paper.el.querySelectorAll(".available-cell, .available-magnet"),function(t){r(t).removeClass("available-magnet").removeClass("available-cell")})},startArrowheadMove:function(t,e){e=n.defaults(e||{},{whenNotAllowed:"revert"}),this._action="arrowhead-move",this._whenNotAllowed=e.whenNotAllowed,this._arrowhead=t,this._initialEnd=n.clone(this.model.get(t))||{x:0,y:0},this._validateConnectionArgs=this._createValidateConnectionArgs(this._arrowhead),this._beforeArrowheadMove()},can:function(t){var e=n.isFunction(this.options.interactive)?this.options.interactive(this,"pointerdown"):this.options.interactive;return e===!1?!1:n.isObject(e)&&e[t]===!1?!1:!0},pointerdown:function(t,e,i){if(s.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("link:pointerdown",t,e,i),this._dx=e,this._dy=i,null==t.target.getAttribute("magnet")){var a=n.isFunction(this.options.interactive)?this.options.interactive(this,"pointerdown"):this.options.interactive;if(a!==!1){var o,l=t.target.getAttribute("class"),u=t.target.parentNode.getAttribute("class");switch("label"===u?(l=u,o=t.target.parentNode):o=t.target,l){case"marker-vertex":this.can("vertexMove")&&(this._action="vertex-move",this._vertexIdx=t.target.getAttribute("idx"));break;case"marker-vertex-remove":case"marker-vertex-remove-area":this.can("vertexRemove")&&this.removeVertex(t.target.getAttribute("idx"));break;case"marker-arrowhead":this.can("arrowheadMove")&&this.startArrowheadMove(t.target.getAttribute("end"));break;case"label":this.can("labelMove")&&(this._action="label-move",this._labelIdx=parseInt(r(o).attr("label-idx"),10),this._samples=this._V.connection.sample(1),this._linkLength=this._V.connection.node.getTotalLength());break;default:var c=t.target.parentNode.getAttribute("event");c?"remove"===c?this.model.remove():this.paper.trigger(c,t,this,e,i):this.can("vertexAdd")&&(this._vertexIdx=this.addVertex({x:e,y:i}),this._action="vertex-move")}}}},pointermove:function(t,e,i){switch(this._action){case"vertex-move":var a=n.clone(this.model.get("vertices"));a[this._vertexIdx]={x:e,y:i},this.model.set("vertices",a,{ui:!0});break;case"label-move":for(var l,u,c,h,f={x:e,y:i},d=(this.model.get("labels")[this._labelIdx],this._samples),g=1/0,p=0,m=d.length;m>p;p++)c=d[p],h=o.line(c,f).squaredLength(),g>h&&(g=h,l=c,u=p);var v=d[u-1],y=d[u+1],I=(o.point(l).distance(f),0);v&&y?I=o.line(v,y).pointOffset(f):v?I=o.line(v,l).pointOffset(f):y&&(I=o.line(l,y).pointOffset(f)),this.model.label(this._labelIdx,{position:{distance:l.distance/this._linkLength,offset:I}});break;case"arrowhead-move":if(this.paper.options.snapLinks){var C=this.paper.options.snapLinks.radius||50,b=this.paper.findViewsInArea({x:e-C,y:i-C,width:2*C,height:2*C});this._closestView&&this._closestView.unhighlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this._closestView=this._closestEnd=null;var x,A=Number.MAX_VALUE,w=o.point(e,i);n.each(b,function(t){"false"!==t.el.getAttribute("magnet")&&(x=t.model.getBBox().center().distance(w),C>x&&A>x&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(t,null))&&(A=x,this._closestView=t,this._closestEnd={id:t.model.id})),t.$("[magnet]").each(n.bind(function(e,n){var i=r(n).bbox(!1,this.paper.viewport);x=w.distance({x:i.x+i.width/2,y:i.y+i.height/2}),C>x&&A>x&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(t,n))&&(A=x,this._closestView=t,this._closestEnd={id:t.model.id,selector:t.getSelector(n),port:n.getAttribute("port")})},this))},this),this._closestView&&this._closestView.highlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this.model.set(this._arrowhead,this._closestEnd||{x:e,y:i},{ui:!0})}else{var _="mousemove"===t.type?t.target:document.elementFromPoint(t.clientX,t.clientY);this._targetEvent!==_&&(this._magnetUnderPointer&&this._viewUnderPointer.unhighlight(this._magnetUnderPointer,{connecting:!0}),this._viewUnderPointer=this.paper.findView(_),this._viewUnderPointer?(this._magnetUnderPointer=this._viewUnderPointer.findMagnet(_),this._magnetUnderPointer&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(this._viewUnderPointer,this._magnetUnderPointer))?this._magnetUnderPointer&&this._viewUnderPointer.highlight(this._magnetUnderPointer,{connecting:!0}):this._magnetUnderPointer=null):this._magnetUnderPointer=null),this._targetEvent=_,this.model.set(this._arrowhead,{x:e,y:i},{ui:!0})}}this._dx=e,this._dy=i,s.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("link:pointermove",t,e,i)},pointerup:function(t,e,n){if("label-move"===this._action)this._samples=null;else if("arrowhead-move"===this._action){var i=this.paper.options,r=this._arrowhead;if(i.snapLinks)this._closestView&&this._closestView.unhighlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this._closestView=this._closestEnd=null;else{var a=this._viewUnderPointer,o=this._magnetUnderPointer;if(this._viewUnderPointer=null,this._magnetUnderPointer=null,o){a.unhighlight(o,{connecting:!0});var l=a.getSelector(o),u=o.getAttribute("port"),c={id:a.model.id};null!=l&&(c.port=u),null!=u&&(c.selector=l),this.model.set(r,c,{ui:!0})}}if(!this.paper.linkAllowed(this))switch(this._whenNotAllowed){case"remove":this.model.remove();break;case"revert":default:this.model.set(r,this._initialEnd,{ui:!0})}i.embeddingMode&&this.model.reparent()&&(this._z=null),this._afterArrowheadMove()}this._action=null,this._whenNotAllowed=null,this.notify("link:pointerup",t,e,n),s.dia.CellView.prototype.pointerup.apply(this,arguments)}},{makeSelector:function(t){var e='[model-id="'+t.id+'"]';return t.port?e+=' [port="'+t.port+'"]':t.selector&&(e+=" "+t.selector),e}}),s.dia.Paper=s.mvc.View.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,perpendicularLinks:!1,elementView:s.dia.ElementView,linkView:s.dia.LinkView,snapLinks:!1,multiLinks:!0,guard:function(t,e){return!1},restrictTranslate:!1,markAvailable:!1,defaultLink:new s.dia.Link,defaultConnector:{name:"normal"},defaultRouter:null,validateMagnet:function(t,e){return"passive"!==e.getAttribute("magnet")},validateConnection:function(t,e,n,i,r,a){return("target"===r?n:t)instanceof s.dia.ElementView},embeddingMode:!1,validateEmbedding:function(t,e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,clickThreshold:0,cellViewNamespace:s.shapes},events:{mousedown:"pointerdown",dblclick:"mousedblclick",click:"mouseclick",touchstart:"pointerdown",mousemove:"pointermove",touchmove:"pointermove","mouseover .element":"cellMouseover","mouseover .link":"cellMouseover","mouseout .element":"cellMouseout","mouseout .link":"cellMouseout",contextmenu:"contextmenu"},init:function(){n.bindAll(this,"pointerup"),this.options.origin=n.clone(this.options.origin),this.options.defaultConnector=n.clone(this.options.defaultConnector),this.svg=r("svg").node,this.viewport=r("g").addClass("viewport").node,this.defs=r("defs").node,r(this.svg).append([this.viewport,this.defs]),this.$el.append(this.svg),this.setOrigin(),this.setDimensions(),this.listenTo(this.model,"add",this.onCellAdded),this.listenTo(this.model,"remove",this.removeView),this.listenTo(this.model,"reset",this.resetViews),this.listenTo(this.model,"sort",this.sortViews),i(document).on("mouseup touchend",this.pointerup),this._mousemoved=0,this._views={},this.on({"cell:highlight":this.onCellHighlight,"cell:unhighlight":this.onCellUnhighlight})},onRemove:function(){this.removeViews(),i(document).off("mouseup touchend",this.pointerup)},setDimensions:function(t,e){t=this.options.width=t||this.options.width,e=this.options.height=e||this.options.height,r(this.svg).attr({width:t,height:e}),this.trigger("resize",t,e)},setOrigin:function(t,e){this.options.origin.x=t||0,this.options.origin.y=e||0,r(this.viewport).translate(t,e,{absolute:!0}),this.trigger("translate",t,e)},fitToContent:function(t,e,i,a){n.isObject(t)?(a=t,t=a.gridWidth||1,e=a.gridHeight||1,i=a.padding||0):(a=a||{},t=t||1,e=e||1,i=i||0),i=s.util.normalizeSides(i);var o=r(this.viewport).bbox(!0,this.svg),l=r(this.viewport).scale();o.x*=l.sx,o.y*=l.sy,o.width*=l.sx,o.height*=l.sy;var u=Math.max(Math.ceil((o.width+o.x)/t),1)*t,c=Math.max(Math.ceil((o.height+o.y)/e),1)*e,h=0,f=0;("negative"==a.allowNewOrigin&&o.x<0||"positive"==a.allowNewOrigin&&o.x>=0||"any"==a.allowNewOrigin)&&(h=Math.ceil(-o.x/t)*t,h+=i.left,u+=h),("negative"==a.allowNewOrigin&&o.y<0||"positive"==a.allowNewOrigin&&o.y>=0||"any"==a.allowNewOrigin)&&(f=Math.ceil(-o.y/e)*e,f+=i.top,c+=f),u+=i.right,c+=i.bottom,u=Math.max(u,a.minWidth||0),c=Math.max(c,a.minHeight||0),u=Math.min(u,a.maxWidth||Number.MAX_VALUE),c=Math.min(c,a.maxHeight||Number.MAX_VALUE);var d=u!=this.options.width||c!=this.options.height,g=h!=this.options.origin.x||f!=this.options.origin.y;g&&this.setOrigin(h,f),d&&this.setDimensions(u,c)},scaleContentToFit:function(t){var e=this.getContentBBox();if(e.width&&e.height){t=t||{},n.defaults(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var i=t.padding,a=t.minScaleX||t.minScale,s=t.maxScaleX||t.maxScale,l=t.minScaleY||t.minScale,u=t.maxScaleY||t.maxScale,c=t.fittingBBox||{x:this.options.origin.x,y:this.options.origin.y,width:this.options.width,height:this.options.height};c=o.rect(c).moveAndExpand({x:i,y:i,width:-2*i,height:-2*i});var h=r(this.viewport).scale(),f=c.width/e.width*h.sx,d=c.height/e.height*h.sy;if(t.preserveAspectRatio&&(f=d=Math.min(f,d)),t.scaleGrid){var g=t.scaleGrid;f=g*Math.floor(f/g),d=g*Math.floor(d/g)}f=Math.min(s,Math.max(a,f)),d=Math.min(u,Math.max(l,d)),this.scale(f,d);var p=this.getContentBBox(),m=c.x-p.x,v=c.y-p.y;this.setOrigin(m,v)}},getContentBBox:function(){var t=this.viewport.getBoundingClientRect(),e=this.viewport.getScreenCTM(),n=this.viewport.getCTM(),i=o.rect({x:t.left-e.e+n.e,y:t.top-e.f+n.f,width:t.width,height:t.height});return i},getArea:function(){var t=this.viewport.getCTM().inverse(),e={x:0,y:0,width:this.options.width,height:this.options.height};return o.rect(r.transformRect(e,t))},getRestrictedArea:function(){var t;return t=n.isFunction(this.options.restrictTranslate)?this.options.restrictTranslate.apply(this,arguments):this.options.restrictTranslate===!0?this.getArea():this.options.restrictTranslate||null},createViewForModel:function(t){var n,i,r=this.options.cellViewNamespace,a=t.get("type")+"View",o=s.util.getByPath(r,a,".");t.isLink()?(n=this.options.linkView,i=s.dia.LinkView):(n=this.options.elementView,i=s.dia.ElementView);var l=n.prototype instanceof e.View?o||n:n.call(this,t)||o||i;return new l({model:t,interactive:this.options.interactive})},onCellAdded:function(t,e,i){if(this.options.async&&i.async!==!1&&n.isNumber(i.position)){if(this._asyncCells=this._asyncCells||[],this._asyncCells.push(t),0==i.position){if(this._frameId)throw new Error("another asynchronous rendering in progress");this.asyncRenderViews(this._asyncCells,i),delete this._asyncCells}}else this.renderView(t)},removeView:function(t){var e=this._views[t.id];return e&&(e.remove(),delete this._views[t.id]),e},renderView:function(t){var e=this._views[t.id]=this.createViewForModel(t);return r(this.viewport).append(e.el),e.paper=this,e.render(),i(e.el).find("image").on("dragstart",function(){return!1}),e},beforeRenderViews:function(t){return t.sort(function(t,e){return t instanceof s.dia.Link?1:-1}),t},afterRenderViews:function(){this.sortViews()},resetViews:function(t,e){i(this.viewport).empty(),this.removeViews();var r=t.models.slice();r=this.beforeRenderViews(r,e)||r,this._frameId&&(s.util.cancelFrame(this._frameId),delete this._frameId),this.options.async?this.asyncRenderViews(r,e):(n.each(r,this.renderView,this),this.sortViews())},removeViews:function(){n.invoke(this._views,"remove"),this._views={}},asyncBatchAdded:n.noop,asyncRenderViews:function(t,e){if(this._frameId){var i=this.options.async&&this.options.async.batchSize||50,r=t.splice(0,i),a=this.model.get("cells");n.each(r,function(t){t.collection===a&&this.renderView(t)},this),this.asyncBatchAdded()}t.length?this._frameId=s.util.nextFrame(function(){this.asyncRenderViews(t,e)},this):(delete this._frameId,this.afterRenderViews(e),this.trigger("render:done",e))},sortViews:function(){var t=i(this.viewport).children("[model-id]"),e=this.model.get("cells");s.util.sortElements(t,function(t,n){var r=e.get(i(t).attr("model-id")),a=e.get(i(n).attr("model-id"));return(r.get("z")||0)>(a.get("z")||0)?1:-1})},scale:function(t,e,i,a){e=e||t,n.isUndefined(i)&&(i=0,a=0),r(this.viewport).attr("transform","");var o=this.options.origin.x,s=this.options.origin.y;if(i||a||o||s){var l=o-i*(t-1),u=s-a*(e-1);this.setOrigin(l,u)}return r(this.viewport).scale(t,e),this.trigger("scale",t,e,i,a),this},rotate:function(t,e,i){if(n.isUndefined(e)){var a=this.viewport.getBBox();e=a.width/2,i=a.height/2}r(this.viewport).rotate(t,e,i)},findView:function(t){for(var e=n.isString(t)?this.viewport.querySelector(t):t instanceof i?t[0]:t;e&&e!==this.el&&e!==document;){var r=e.getAttribute("model-id");if(r)return this._views[r];e=e.parentNode}return void 0},findViewByModel:function(t){var e=n.isString(t)?t:t.id;return this._views[e]},findViewsFromPoint:function(t){t=o.point(t);var e=n.map(this.model.getElements(),this.findViewByModel,this);return n.filter(e,function(e){return e&&o.rect(e.vel.bbox(!1,this.viewport)).containsPoint(t)},this)},findViewsInArea:function(t,e){e=n.defaults(e||{},{strict:!1}),t=o.rect(t);var i=n.map(this.model.getElements(),this.findViewByModel,this),r=e.strict?"containsRect":"intersect";return n.filter(i,function(e){return e&&t[r](o.rect(e.vel.bbox(!1,this.viewport)))},this)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t){var e=r(this.viewport).toLocalPoint(t.x,t.y);return{x:o.snapToGrid(e.x,this.options.gridSize),y:o.snapToGrid(e.y,this.options.gridSize)}},clientToLocalPoint:function(t){t=o.point(t);var e=r("rect",{width:this.options.width,height:this.options.height,x:0,y:0,opacity:0});r(this.svg).prepend(e);var n=i(this.svg).offset();e.remove();var a=document.body.scrollTop||document.documentElement.scrollTop,s=document.body.scrollLeft||document.documentElement.scrollLeft;return t.offset(s-n.left,a-n.top),r.transformPoint(t,this.viewport.getCTM().inverse())},linkAllowed:function(t){var e;if(t instanceof s.dia.Link)e=t;else{if(!(t instanceof s.dia.LinkView))throw new Error("Must provide link model or view.");e=t.model}if(!this.options.multiLinks){var i=e.get("source"),r=e.get("target");if(i.id&&r.id){var a=e.getSourceElement();if(a){var o=this.model.getConnectedLinks(a,{outbound:!0,inbound:!1}),l=n.filter(o,function(t){var e=t.get("source"),n=t.get("target");return e&&e.id===i.id&&(!e.port||e.port===i.port)&&n&&n.id===r.id&&(!n.port||n.port===r.port)}).length;if(l>1)return!1}}}return this.options.linkPinning||n.has(e.get("source"),"id")&&n.has(e.get("target"),"id")?!0:!1},getDefaultLink:function(t,e){return n.isFunction(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},onCellHighlight:function(t,e){r(e).addClass("highlighted")},onCellUnhighlight:function(t,e){r(e).removeClass("highlighted")},mousedblclick:function(t){t.preventDefault(),t=s.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.pointerdblclick(t,n.x,n.y):this.trigger("blank:pointerdblclick",t,n.x,n.y)}},mouseclick:function(t){if(this._mousemoved<=this.options.clickThreshold){t=s.util.normalizeEvent(t);var e=this.findView(t.target);if(this.guard(t,e))return;var n=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.pointerclick(t,n.x,n.y):this.trigger("blank:pointerclick",t,n.x,n.y)}},guard:function(t,e){return this.options.guard&&this.options.guard(t,e)?!0:e&&e.model&&e.model instanceof s.dia.Cell?!1:this.svg===t.target||this.el===t.target||i.contains(this.svg,t.target)?!1:!0},contextmenu:function(t){t=s.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.contextmenu(t,n.x,n.y):this.trigger("blank:contextmenu",t,n.x,n.y)}},pointerdown:function(t){t=s.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){t.preventDefault(),this._mousemoved=0;var n=this.snapToGrid({x:t.clientX,y:t.clientY});e?(this.sourceView=e,
e.pointerdown(t,n.x,n.y)):this.trigger("blank:pointerdown",t,n.x,n.y)}},pointermove:function(t){if(t.preventDefault(),t=s.util.normalizeEvent(t),this.sourceView){this._mousemoved++;var e=this.snapToGrid({x:t.clientX,y:t.clientY});this.sourceView.pointermove(t,e.x,e.y)}},pointerup:function(t){t=s.util.normalizeEvent(t);var e=this.snapToGrid({x:t.clientX,y:t.clientY});this.sourceView?(this.sourceView.pointerup(t,e.x,e.y),this.sourceView=null):this.trigger("blank:pointerup",t,e.x,e.y)},cellMouseover:function(t){t=s.util.normalizeEvent(t);var e=this.findView(t.target);if(e){if(this.guard(t,e))return;e.mouseover(t)}},cellMouseout:function(t){t=s.util.normalizeEvent(t);var e=this.findView(t.target);if(e){if(this.guard(t,e))return;e.mouseout(t)}}}),s.shapes.basic={},s.shapes.basic.Generic=s.dia.Element.extend({defaults:s.util.deepSupplement({type:"basic.Generic",attrs:{".":{fill:"#ffffff",stroke:"none"}}},s.dia.Element.prototype.defaults)}),s.shapes.basic.Rect=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Rect",attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.TextView=s.dia.ElementView.extend({initialize:function(){s.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:attrs",this.resize)}}),s.shapes.basic.Text=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><text/></g></g>',defaults:s.util.deepSupplement({type:"basic.Text",attrs:{text:{"font-size":18,fill:"#000000"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Circle=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Circle",size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Ellipse=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Ellipse",size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Polygon=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Polygon",size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Polyline=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Polyline",size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Image=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Image",attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Path=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>',defaults:s.util.deepSupplement({type:"basic.Path",size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.basic.Rhombus=s.shapes.basic.Path.extend({defaults:s.util.deepSupplement({type:"basic.Rhombus",attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"y-alignment":"middle"}}},s.shapes.basic.Path.prototype.defaults)}),s.shapes.basic.PortsModelInterface={initialize:function(){this.updatePortsAttrs(),this.on("change:inPorts change:outPorts",this.updatePortsAttrs,this),this.constructor.__super__.constructor.__super__.initialize.apply(this,arguments)},updatePortsAttrs:function(t){var e=this.get("attrs");n.each(this._portSelectors,function(t){e[t]&&delete e[t]}),this._portSelectors=[];var i={};n.each(this.get("inPorts"),function(t,e,r){var a=this.getPortAttrs(t,e,r.length,".inPorts","in");this._portSelectors=this._portSelectors.concat(n.keys(a)),n.extend(i,a)},this),n.each(this.get("outPorts"),function(t,e,r){var a=this.getPortAttrs(t,e,r.length,".outPorts","out");this._portSelectors=this._portSelectors.concat(n.keys(a)),n.extend(i,a)},this),this.attr(i,{silent:!0}),this.processPorts(),this.trigger("process:ports")},getPortSelector:function(t){var e=".inPorts",n=this.get("inPorts").indexOf(t);if(0>n&&(e=".outPorts",n=this.get("outPorts").indexOf(t),0>n))throw new Error("getPortSelector(): Port doesn't exist.");return e+">g:nth-child("+(n+1)+")>.port-body"}},s.shapes.basic.PortsViewInterface={initialize:function(){this.listenTo(this.model,"process:ports",this.update),s.dia.ElementView.prototype.initialize.apply(this,arguments)},update:function(){this.renderPorts(),s.dia.ElementView.prototype.update.apply(this,arguments)},renderPorts:function(){var t=this.$(".inPorts").empty(),e=this.$(".outPorts").empty(),i=n.template(this.model.portMarkup);n.each(n.filter(this.model.ports,function(t){return"in"===t.type}),function(e,n){t.append(r(i({id:n,port:e})).node)}),n.each(n.filter(this.model.ports,function(t){return"out"===t.type}),function(t,n){e.append(r(i({id:n,port:t})).node)})}},s.shapes.basic.TextBlock=s.shapes.basic.Generic.extend({markup:['<g class="rotatable"><g class="scalable"><rect/></g><switch>','<foreignObject requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" class="fobj">','<body xmlns="http://www.w3.org/1999/xhtml"><div/></body>',"</foreignObject>",'<text class="content"/>',"</switch></g>"].join(""),defaults:s.util.deepSupplement({type:"basic.TextBlock",attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"",ref:"rect","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},s.shapes.basic.Generic.prototype.defaults),initialize:function(){"undefined"!=typeof SVGForeignObjectElement&&(this.setForeignObjectSize(this,this.get("size")),this.setDivContent(this,this.get("content")),this.listenTo(this,"change:size",this.setForeignObjectSize),this.listenTo(this,"change:content",this.setDivContent)),s.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},setForeignObjectSize:function(t,e){t.attr({".fobj":n.clone(e),div:{style:n.clone(e)}})},setDivContent:function(t,e){t.attr({div:{html:e}})}}),s.shapes.basic.TextBlockView=s.dia.ElementView.extend({initialize:function(){s.dia.ElementView.prototype.initialize.apply(this,arguments),"undefined"==typeof SVGForeignObjectElement&&(this.noSVGForeignObjectElement=!0,this.listenTo(this.model,"change:content",function(t){this.updateContent(t)}))},update:function(t,e){if(this.noSVGForeignObjectElement){var i=this.model,r=n.omit(e||i.get("attrs"),".content");s.dia.ElementView.prototype.update.call(this,i,r),(!e||n.has(e,".content"))&&this.updateContent(i,e)}else s.dia.ElementView.prototype.update.call(this,i,e)},updateContent:function(t,e){var i=n.merge({},(e||t.get("attrs"))[".content"]);delete i.text;var r=s.util.breakText(t.get("content"),t.get("size"),i,{svgDocument:this.paper.svg}),a=s.util.setByPath({},".content",i,"/");a[".content"].text=r,s.dia.ElementView.prototype.update.call(this,t,a)}}),s.routers.orthogonal=function(){function t(t,e){return t.x==e.x?t.y>e.y?"N":"S":t.y==e.y?t.x>e.x?"W":"E":null}function e(t,e){return t["W"==e||"E"==e?"width":"height"]}function i(t,e){return o.rect(t).moveAndExpand({x:-e,y:-e,width:2*e,height:2*e})}function r(t){return o.rect(t.x,t.y,0,0)}function a(t,e){var n=Math.min(t.x,e.x),i=Math.min(t.y,e.y),r=Math.max(t.x+t.width,e.x+e.width),a=Math.max(t.y+t.height,e.y+e.height);return o.rect(n,i,r-n,a-i)}function s(t,e,n){var i=o.point(t.x,e.y);return n.containsPoint(i)&&(i=o.point(e.x,t.y)),i}function l(e,n,i){var r=o.point(e.x,n.y),a=o.point(n.x,e.y),s=t(e,r),l=t(e,a),u=g[i],c=s==i||s!=u&&(l==u||l!=i)?r:a;return{points:[c],direction:t(c,n)}}function u(e,n,i){var r=s(e,n,i);return{points:[r],direction:t(r,n)}}function c(i,r,a,l){var u,c={},h=[o.point(i.x,r.y),o.point(r.x,i.y)],f=n.filter(h,function(t){return!a.containsPoint(t)}),d=n.filter(f,function(e){return t(e,i)!=l});if(d.length>0)u=n.filter(d,function(e){return t(i,e)==l}).pop(),u=u||d[0],c.points=[u],c.direction=t(u,r);else{u=n.difference(h,f)[0];var g=o.point(r).move(u,-e(a,l)/2),p=s(g,i,a);c.points=[p,g],c.direction=t(g,r)}return c}function h(n,i,r,a){var s=u(i,n,a),c=s.points[0];if(r.containsPoint(c)){s=u(n,i,r);var h=s.points[0];if(a.containsPoint(h)){var f=o.point(n).move(h,-e(r,t(n,h))/2),d=o.point(i).move(c,-e(a,t(i,c))/2),g=o.line(f,d).midpoint(),p=u(n,g,r),m=l(g,i,p.direction);s.points=[p.points[0],m.points[0]],s.direction=m.direction}}return s}function f(e,n,r,l,u){var c,h,f,d={},g=i(a(r,l),1),m=g.center().distance(n)>g.center().distance(e),v=m?n:e,y=m?e:n;return u?(c=o.point.fromPolar(g.width+g.height,p[u],v),c=g.pointNearestToPoint(c).move(c,-1)):c=g.pointNearestToPoint(v).move(v,1),h=s(c,y,g),c.round().equals(h.round())?(h=o.point.fromPolar(g.width+g.height,o.toRad(c.theta(v))+Math.PI/2,y),h=g.pointNearestToPoint(h).move(y,1).round(),f=s(c,h,g),d.points=m?[h,f,c]:[c,f,h]):d.points=m?[h,c]:[c,h],d.direction=m?t(c,n):t(h,n),d}function d(e,a,s){var d=a.elementPadding||20,g=[],p=i(s.sourceBBox,d),m=i(s.targetBBox,d);e=n.map(e,o.point),e.unshift(p.center()),e.push(m.center());for(var v,y=0,I=e.length-1;I>y;y++){var C=null,b=e[y],x=e[y+1],A=!!t(b,x);if(0==y)y+1==I?p.intersect(i(m,1))?C=f(b,x,p,m):A||(C=h(b,x,p,m)):p.containsPoint(x)?C=f(b,x,p,i(r(x),d)):A||(C=u(b,x,p));else if(y+1==I){var w=A&&t(x,b)==v;m.containsPoint(b)||w?C=f(b,x,i(r(b),d),m,v):A||(C=c(b,x,m,v))}else A||(C=l(b,x,v));C?(Array.prototype.push.apply(g,C.points),v=C.direction):v=t(b,x),I>y+1&&g.push(x)}return g}var g={N:"S",S:"N",E:"W",W:"E"},p={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};return d}(),s.routers.manhattan=function(t,e){"use strict";function n(t){this.map={},this.options=t,this.mapGridSize=100}function i(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function r(t,e){for(var n,i=[],r={x:0,y:0},a=e;n=t[a];){var o=n.difference(a);o.equals(r)||(i.unshift(a),r=o),a=n}return i.unshift(a),i}function a(t,n,i){var r=i.step,a=t.center(),o=e.chain(i.directionMap).pick(n).map(function(e){var n=e.x*t.width/2,i=e.y*t.height/2,o=a.clone().offset(n,i);return t.containsPoint(o)&&o.offset(e.x*r,e.y*r),o.snapToGrid(r)}).value();return o}function o(e,n,i){var r=360/i;return Math.floor(t.normalizeAngle(e.theta(n)+r/2)/r)*r}function s(t,e){var n=Math.abs(t-e);return n>180?360-n:n}function l(t,e){for(var n=1/0,i=0,r=e.length;r>i;i++){var a=t.manhattanDistance(e[i]);n>a&&(n=a)}return n}function u(n,u,c,h){var f,d,g,p,m=h.step;if(n instanceof t.rect?(f=a(n,h.startDirections,h),g=n.center()):(g=n.clone().snapToGrid(m),f=[n]),u instanceof t.rect?(d=a(u,h.endDirections,h),p=u.center()):(p=u.clone().snapToGrid(m),d=[u]),f=e.filter(f,c.isPointAccessible,c),d=e.filter(d,c.isPointAccessible,c),f.length>0&&d.length>0){var v=new i,y={},I={};e.each(f,function(t){var e=t.toString();v.add(e,l(t,d)),I[e]=0});for(var C,b,x=h.directions,A=x.length,w=h.maximumLoops,_=e.invoke(d,"toString");!v.isEmpty()&&w>0;){var M=v.pop(),N=t.point(M),S=I[M],D=y[M]?o(y[M],N,A):null!=h.previousDirAngle?h.previousDirAngle:o(g,N,A);if(_.indexOf(M)>=0&&(b=s(D,o(N,p,A)),N.equals(p)||180>b))return h.previousDirAngle=D,r(y,N);for(var k=0;A>k;k++)if(C=x[k],b=s(D,C.angle),!(b>h.maxAllowedDirectionChange)){var T=N.clone().offset(C.offsetX,C.offsetY),j=T.toString();if(!v.isClose(j)&&c.isPointAccessible(T)){var z=S+C.cost+h.penalties[b];(!v.isOpen(j)||z<I[j])&&(y[j]=N,I[j]=z,v.add(j,z+l(T,d)))}}w--}}return h.fallbackRoute(g,p,h)}function c(n){n.directions=e.result(n,"directions"),n.penalties=e.result(n,"penalties"),n.paddingBox=e.result(n,"paddingBox"),e.each(n.directions,function(e){var n=new t.point(0,0),i=new t.point(e.offsetX,e.offsetY),r=t.normalizeAngle(n.theta(i));e.angle=r})}function h(i,r){c(r),this.options.perpendicular=!!r.perpendicular;for(var a=t.rect(this.sourceBBox).moveAndExpand(r.paddingBox),o=t.rect(this.targetBBox).moveAndExpand(r.paddingBox),s=new n(r).build(this.paper.model,this.model),l=e.map(i,t.point),h=[],f=a.center().snapToGrid(r.step),d=0,g=l.length;g>=d;d++){var p=null,m=v||a,v=l[d];if(!v){v=o;var y=!this.model.get("source").id||!this.model.get("target").id;if(y&&e.isFunction(r.draggingRoute)){var I=m instanceof t.rect?m.center():m;p=r.draggingRoute(I,v.origin(),r)}}p=p||u(m,v,s,r);var C=e.first(p);C&&C.equals(f)&&p.shift(),f=e.last(p)||f,Array.prototype.push.apply(h,p)}return h}var f={step:10,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],maximumLoops:2e3,startDirections:["left","right","top","bottom"],endDirections:["left","right","top","bottom"],directionMap:{right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0},top:{x:0,y:-1}},maxAllowedDirectionChange:90,paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},directions:function(){var t=this.step;return[{offsetX:t,offsetY:0,cost:t},{offsetX:0,offsetY:t,cost:t},{offsetX:-t,offsetY:0,cost:t},{offsetX:0,offsetY:-t,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},fallbackRoute:function(e,n,i){var r=(i.previousDirAngle||0)%180===0?t.point(e.x,n.y):t.point(n.x,e.y);return[r,n]},draggingRoute:null};return n.prototype.build=function(t,n){var i=this.options,r=e.chain(i.excludeEnds).map(n.get,n).pluck("id").map(t.getCell,t).value(),a=[],o=t.getCell(n.get("source").id);o&&(a=e.union(a,e.map(o.getAncestors(),"id")));var s=t.getCell(n.get("target").id);s&&(a=e.union(a,e.map(s.getAncestors(),"id")));var l=this.mapGridSize;return e.chain(t.getElements()).difference(r).reject(function(t){return e.contains(i.excludeTypes,t.get("type"))||e.contains(a,t.id)}).invoke("getBBox").invoke("moveAndExpand",i.paddingBox).foldl(function(t,e){for(var n=e.origin().snapToGrid(l),i=e.corner().snapToGrid(l),r=n.x;r<=i.x;r+=l)for(var a=n.y;a<=i.y;a+=l){var o=r+"@"+a;t[o]=t[o]||[],t[o].push(e)}return t},this.map).value(),this},n.prototype.isPointAccessible=function(t){var n=t.clone().snapToGrid(this.mapGridSize).toString();return e.every(this.map[n],function(e){return!e.containsPoint(t)})},i.prototype.add=function(t,n){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=n;var i=e.sortedIndex(this.items,t,function(t){return this.values[t]},this);this.items.splice(i,0,t)},i.prototype.remove=function(t){this.hash[t]=this.CLOSE},i.prototype.isOpen=function(t){return this.hash[t]===this.OPEN},i.prototype.isClose=function(t){return this.hash[t]===this.CLOSE},i.prototype.isEmpty=function(){return 0===this.items.length},i.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t},function(t,n,i){return h.call(i,t,e.extend({},f,n))}}(o,n),s.routers.metro=function(){if(!n.isFunction(s.routers.manhattan))throw"Metro requires the manhattan router.";var t={diagonalCost:null,directions:function(){var t=this.step,e=this.diagonalCost||Math.ceil(Math.sqrt(t*t<<1));return[{offsetX:t,offsetY:0,cost:t},{offsetX:t,offsetY:t,cost:e},{offsetX:0,offsetY:t,cost:t},{offsetX:-t,offsetY:t,cost:e},{offsetX:-t,offsetY:0,cost:t},{offsetX:-t,offsetY:-t,cost:e},{offsetX:0,offsetY:-t,cost:t},{offsetX:t,offsetY:-t,cost:e}]},maxAllowedDirectionChange:45,fallbackRoute:function(t,e,n){var i=t.theta(e),r={x:e.x,y:t.y},a={x:t.x,y:e.y};if(i%180>90){var s=r;r=a,a=s}var l=45>i%90?r:a,u=o.line(t,l),c=90*Math.ceil(i/90),h=o.point.fromPolar(u.squaredLength(),o.toRad(c+135),l),f=o.line(e,h),d=u.intersection(f);return d?[d.round(),e]:[e]}};return function(e,i,r){return s.routers.manhattan(e,n.extend({},t,i),r)}}(),s.routers.oneSide=function(t,e,n){var i,r,a,o=e.side||"bottom",s=e.padding||40,l=n.sourceBBox,u=n.targetBBox,c=l.center(),h=u.center();switch(o){case"bottom":a=1,i="y",r="height";break;case"top":a=-1,i="y",r="height";break;case"left":a=-1,i="x",r="width";break;case"right":a=1,i="x",r="width";break;default:throw new Error("Router: invalid side")}return c[i]+=a*(l[r]/2+s),h[i]+=a*(u[r]/2+s),a*(c[i]-h[i])>0?h[i]=c[i]:c[i]=h[i],[c].concat(t,h)},s.connectors.normal=function(t,e,i){var r=["M",t.x,t.y];return n.each(i,function(t){r.push(t.x,t.y)}),r.push(e.x,e.y),r.join(" ")},s.connectors.rounded=function(t,e,i,r){r=r||{};var a,s,l,u,c,h,f=r.radius||10,d=["M",t.x,t.y];return n.each(i,function(n,r){c=i[r-1]||t,h=i[r+1]||e,l=u||o.point(n).distance(c)/2,u=o.point(n).distance(h)/2,a=o.point(n).move(c,-Math.min(f,l)).round(),s=o.point(n).move(h,-Math.min(f,u)).round(),d.push(a.x,a.y,"S",n.x,n.y,s.x,s.y,"L")}),d.push(e.x,e.y),d.join(" ")},s.connectors.smooth=function(t,e,n){var i;if(n.length)i=o.bezier.curveThroughPoints([t].concat(n).concat([e]));else{var r=t.x<e.x?e.x-(e.x-t.x)/2:t.x-(t.x-e.x)/2;i=["M",t.x,t.y,"C",r,t.y,r,e.y,e.x,e.y]}return i.join(" ")},s.connectors.jumpover=function(t,e){function n(t,n,i){var r=[].concat(t,i,n);return r.reduce(function(t,n,i){var a=r[i+1];return null!=a&&(t[i]=e.line(n,a)),t},[])}function i(t){var e=t.paper._jumpOverUpdateList;null==e&&(e=t.paper._jumpOverUpdateList=[],t.paper.on("cell:pointerup",r),t.paper.model.on("reset",function(){e=[]})),e.indexOf(t)<0&&(e.push(t),t.listenToOnce(t.model,"change:connector remove",function(){e.splice(e.indexOf(t),1)}))}function r(){for(var t=this._jumpOverUpdateList,e=0;e<t.length;e++)t[e].update()}function a(e,n){return t(n).map(function(t){return e.intersection(t)}).compact().value()}function o(t,n){return e.line(t,n).squaredLength()}function s(t,n,i){return n.reduce(function(r,a,o){if(a.skip===!0)return r;var s=r.pop()||t,l=e.point(a).move(s.start,-i),u=e.point(a).move(s.start,+i),c=n[o+1];if(null!=c){var f=u.distance(c);i>=f&&(u=c.move(s.start,f),c.skip=!0)}else{var d=l.distance(s.end);if(2*i+h>d)return r.push(s),r}var g=u.distance(s.start);if(2*i+h>g)return r.push(s),r;var p=e.line(l,u);return p.isJump=!0,r.push(e.line(s.start,l),p,e.line(u,s.end)),r},[])}function l(n,i,r){var a=["M",n[0].start.x,n[0].start.y],o=t(n).map(function(t){if(t.isJump){var n;if("arc"===r){n=t.start.difference(t.end);var a=Number(n.x<0&&n.y<0);return["A",i,i,0,0,a,t.end.x,t.end.y]}if("gap"===r)return["M",t.end.x,t.end.y];if("cubic"===r){n=t.start.difference(t.end);var o=t.start.theta(t.end),s=.6*i,l=1.35*i;n.x<0&&n.y<0&&(l*=-1);var u=e.point(t.start.x+s,t.start.y+l).rotate(t.start,o),c=e.point(t.end.x-s,t.end.y+l).rotate(t.end,o);return["C",u.x,u.y,c.x,c.y,t.end.x,t.end.y]}}return["L",t.end.x,t.end.y]}).flatten().value();return[].concat(a,o).join(" ")}var u=5,c=["arc","gap","cubic"],h=1,f=["smooth"];return function(e,r,h,d){i(this);var g=d.size||u,p=d.jump&&(""+d.jump).toLowerCase(),m=d.ignoreConnectors||f;-1===c.indexOf(p)&&(p=c[0]);var v=this.paper,y=v.model,I=y.getLinks();if(1===I.length)return l(n(e,r,h),g,p);var C=this.model,b=I.indexOf(C),x=v.options.defaultConnector||{},A=I.filter(function(e,n){var i=e.get("connector")||x;return t.contains(m,i.name)?!1:n>b?"jumpover"!==i.name:!0}),w=A.map(function(t){return v.findViewByModel(t)}),_=n(e,r,h),M=w.map(function(t){return null==t?[]:t===this?_:n(t.sourcePoint,t.targetPoint,t.route)},this),N=_.reduce(function(e,n){var i=t(A).map(function(t,e){return t===C?null:a(n,M[e])}).flatten().compact().sortBy(t.partial(o,n.start)).value();return i.length>0?e.push.apply(e,s(n,i,g)):e.push(n),e},[]);return l(N,g,p)}}(n,o),/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
s.shapes.erd={},s.shapes.erd.Entity=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>',defaults:s.util.deepSupplement({type:"erd.Entity",size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,ref:".outer","ref-x":.5,"ref-y":.5,"x-alignment":"middle","y-alignment":"middle"}}},s.dia.Element.prototype.defaults)}),s.shapes.erd.WeakEntity=s.shapes.erd.Entity.extend({defaults:s.util.deepSupplement({type:"erd.WeakEntity",attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}},s.shapes.erd.Entity.prototype.defaults)}),s.shapes.erd.Relationship=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>',defaults:s.util.deepSupplement({type:"erd.Relationship",size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,ref:".","ref-x":.5,"ref-y":.5,"x-alignment":"middle","y-alignment":"middle"}}},s.dia.Element.prototype.defaults)}),s.shapes.erd.IdentifyingRelationship=s.shapes.erd.Relationship.extend({defaults:s.util.deepSupplement({type:"erd.IdentifyingRelationship",attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}},s.shapes.erd.Relationship.prototype.defaults)}),s.shapes.erd.Attribute=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>',defaults:s.util.deepSupplement({type:"erd.Attribute",size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,ref:".","ref-x":.5,"ref-y":.5,"x-alignment":"middle","y-alignment":"middle"}}},s.dia.Element.prototype.defaults)}),s.shapes.erd.Multivalued=s.shapes.erd.Attribute.extend({defaults:s.util.deepSupplement({type:"erd.Multivalued",attrs:{".inner":{display:"block"},text:{text:"multivalued"}}},s.shapes.erd.Attribute.prototype.defaults)}),s.shapes.erd.Derived=s.shapes.erd.Attribute.extend({defaults:s.util.deepSupplement({type:"erd.Derived",attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}},s.shapes.erd.Attribute.prototype.defaults)}),s.shapes.erd.Key=s.shapes.erd.Attribute.extend({defaults:s.util.deepSupplement({type:"erd.Key",attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}},s.shapes.erd.Attribute.prototype.defaults)}),s.shapes.erd.Normal=s.shapes.erd.Attribute.extend({defaults:s.util.deepSupplement({type:"erd.Normal",attrs:{text:{text:"Normal"}}},s.shapes.erd.Attribute.prototype.defaults)}),s.shapes.erd.ISA=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>',defaults:s.util.deepSupplement({type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,ref:"polygon","ref-x":.5,"ref-y":.3,"x-alignment":"middle","y-alignment":"middle"}}},s.dia.Element.prototype.defaults)}),s.shapes.erd.Line=s.dia.Link.extend({defaults:{type:"erd.Line"},cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}}),/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
s.shapes.fsa={},s.shapes.fsa.State=s.shapes.basic.Circle.extend({defaults:s.util.deepSupplement({type:"fsa.State",attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}},s.shapes.basic.Circle.prototype.defaults)}),s.shapes.fsa.StartState=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>',defaults:s.util.deepSupplement({type:"fsa.StartState",size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},s.dia.Element.prototype.defaults)}),s.shapes.fsa.EndState=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>',defaults:s.util.deepSupplement({type:"fsa.EndState",size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},s.dia.Element.prototype.defaults)}),s.shapes.fsa.Arrow=s.dia.Link.extend({defaults:s.util.deepSupplement({type:"fsa.Arrow",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0},s.dia.Link.prototype.defaults)}),/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
s.shapes.org={},s.shapes.org.Member=s.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>',defaults:s.util.deepSupplement({type:"org.Member",size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},s.dia.Element.prototype.defaults)}),s.shapes.org.Arrow=s.dia.Link.extend({defaults:{type:"org.Arrow",source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}}),/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
s.shapes.chess={},s.shapes.chess.KingWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.KingWhite",size:{width:42,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.KingBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.KingBlack",size:{width:42,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.QueenWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.QueenWhite",size:{width:42,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.QueenBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.QueenBlack",size:{width:42,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.RookWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.RookWhite",size:{width:32,height:34}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.RookBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.RookBlack",size:{width:32,height:34}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.BishopWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.BishopWhite",size:{width:38,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.BishopBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.BishopBlack",size:{width:38,height:38}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.KnightWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.KnightWhite",size:{width:38,height:37}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.KnightBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>',defaults:s.util.deepSupplement({type:"chess.KnightBlack",size:{width:38,height:37}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.PawnWhite=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>',defaults:s.util.deepSupplement({type:"chess.PawnWhite",size:{width:28,height:33}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.chess.PawnBlack=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>',defaults:s.util.deepSupplement({type:"chess.PawnBlack",size:{width:28,height:33}},s.shapes.basic.Generic.prototype.defaults)}),/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
s.shapes.pn={},s.shapes.pn.Place=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>',defaults:s.util.deepSupplement({type:"pn.Place",size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.pn.PlaceView=s.dia.ElementView.extend({initialize:function(){s.dia.ElementView.prototype.initialize.apply(this,arguments),this.model.on("change:tokens",function(){this.renderTokens(),this.update()},this)},render:function(){s.dia.ElementView.prototype.render.apply(this,arguments),this.renderTokens(),this.update()},renderTokens:function(){var t=this.$(".tokens").empty();t[0].className.baseVal="tokens";var e=this.model.get("tokens");if(e)switch(e){case 1:t[0].className.baseVal+=" one",t.append(r("<circle/>").node);break;case 2:t[0].className.baseVal+=" two",t.append(r("<circle/>").node,r("<circle/>").node);break;case 3:t[0].className.baseVal+=" three",t.append(r("<circle/>").node,r("<circle/>").node,r("<circle/>").node);break;default:t[0].className.baseVal+=" alot",t.append(r("<text/>").text(e+"").node)}}}),s.shapes.pn.Transition=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>',defaults:s.util.deepSupplement({type:"pn.Transition",size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.pn.Link=s.dia.Link.extend({defaults:s.util.deepSupplement({type:"pn.Link",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}},s.dia.Link.prototype.defaults)}),/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
s.shapes.devs={},s.shapes.devs.Model=s.shapes.basic.Generic.extend(n.extend({},s.shapes.basic.PortsModelInterface,{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><text class="label"/><g class="inPorts"/><g class="outPorts"/></g>',portMarkup:'<g class="port port<%= id %>"><circle class="port-body"/><text class="port-label"/></g>',defaults:s.util.deepSupplement({type:"devs.Model",size:{width:1,height:1},inPorts:[],outPorts:[],attrs:{".":{magnet:!1},".body":{width:150,height:250,stroke:"#000000"},".port-body":{r:10,magnet:!0,stroke:"#000000"},text:{"pointer-events":"none"},".label":{text:"Model","ref-x":.5,"ref-y":10,ref:".body","text-anchor":"middle",fill:"#000000"},".inPorts .port-label":{x:-15,dy:4,"text-anchor":"end",fill:"#000000"},".outPorts .port-label":{x:15,dy:4,fill:"#000000"}}},s.shapes.basic.Generic.prototype.defaults),getPortAttrs:function(t,e,i,r,a){var o={},s="port"+e,l=r+">."+s,u=l+">.port-label",c=l+">.port-body";return o[u]={text:t},o[c]={port:{id:t||n.uniqueId(a),type:a}},o[l]={ref:".body","ref-y":(e+.5)*(1/i)},".outPorts"===r&&(o[l]["ref-dx"]=0),o}})),s.shapes.devs.Atomic=s.shapes.devs.Model.extend({defaults:s.util.deepSupplement({type:"devs.Atomic",size:{width:80,height:80},attrs:{".body":{fill:"salmon"},".label":{text:"Atomic"},".inPorts .port-body":{fill:"PaleGreen"},".outPorts .port-body":{fill:"Tomato"}}},s.shapes.devs.Model.prototype.defaults)}),s.shapes.devs.Coupled=s.shapes.devs.Model.extend({defaults:s.util.deepSupplement({type:"devs.Coupled",size:{width:200,height:300},attrs:{".body":{fill:"seaGreen"},".label":{text:"Coupled"},".inPorts .port-body":{fill:"PaleGreen"},".outPorts .port-body":{fill:"Tomato"}}},s.shapes.devs.Model.prototype.defaults)}),s.shapes.devs.Link=s.dia.Link.extend({defaults:{type:"devs.Link",attrs:{".connection":{"stroke-width":2}}}}),s.shapes.devs.ModelView=s.dia.ElementView.extend(s.shapes.basic.PortsViewInterface),s.shapes.devs.AtomicView=s.shapes.devs.ModelView,s.shapes.devs.CoupledView=s.shapes.devs.ModelView,/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
s.shapes.uml={},s.shapes.uml.Class=s.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),defaults:s.util.deepSupplement({type:"uml.Class",attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},s.shapes.basic.Generic.prototype.defaults),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),s.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],i=0;n.each(e,function(e){var r=n.isArray(e.text)?e.text:[e.text],a=20*r.length+20;t[".uml-class-"+e.type+"-text"].text=r.join("\n"),t[".uml-class-"+e.type+"-rect"].height=a,t[".uml-class-"+e.type+"-rect"].transform="translate(0,"+i+")",i+=a})}}),s.shapes.uml.ClassView=s.dia.ElementView.extend({initialize:function(){s.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),s.shapes.uml.Abstract=s.shapes.uml.Class.extend({defaults:s.util.deepSupplement({type:"uml.Abstract",attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},s.shapes.uml.Class.prototype.defaults),getClassName:function(){return["<<Abstract>>",this.get("name")]}}),s.shapes.uml.AbstractView=s.shapes.uml.ClassView,s.shapes.uml.Interface=s.shapes.uml.Class.extend({defaults:s.util.deepSupplement({type:"uml.Interface",attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},s.shapes.uml.Class.prototype.defaults),getClassName:function(){return["<<Interface>>",this.get("name")]}}),s.shapes.uml.InterfaceView=s.shapes.uml.ClassView,s.shapes.uml.Generalization=s.dia.Link.extend({defaults:{type:"uml.Generalization",attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}}),s.shapes.uml.Implementation=s.dia.Link.extend({defaults:{type:"uml.Implementation",attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}}),s.shapes.uml.Aggregation=s.dia.Link.extend({defaults:{type:"uml.Aggregation",attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}}),s.shapes.uml.Composition=s.dia.Link.extend({defaults:{type:"uml.Composition",attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}}),s.shapes.uml.Association=s.dia.Link.extend({defaults:{type:"uml.Association"}}),s.shapes.uml.State=s.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),defaults:s.util.deepSupplement({type:"uml.State",attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},s.shapes.basic.Generic.prototype.defaults),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),s.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),s.shapes.uml.StartState=s.shapes.basic.Circle.extend({defaults:s.util.deepSupplement({type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}},s.shapes.basic.Circle.prototype.defaults)}),s.shapes.uml.EndState=s.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>',defaults:s.util.deepSupplement({type:"uml.EndState",size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},s.shapes.basic.Generic.prototype.defaults)}),s.shapes.uml.Transition=s.dia.Link.extend({defaults:{type:"uml.Transition",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}}),/*! JointJS v0.9.6 - JavaScript diagramming library  2015-12-19 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
s.shapes.logic={},s.shapes.logic.Gate=s.shapes.basic.Generic.extend({defaults:s.util.deepSupplement({type:"logic.Gate",size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},s.shapes.basic.Generic.prototype.defaults),operation:function(){return!0}}),s.shapes.logic.IO=s.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>',defaults:s.util.deepSupplement({type:"logic.IO",size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},s.shapes.logic.Gate.prototype.defaults)}),s.shapes.logic.Input=s.shapes.logic.IO.extend({defaults:s.util.deepSupplement({type:"logic.Input",attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,"class":"output",port:"out"},text:{text:"input"}}},s.shapes.logic.IO.prototype.defaults)}),s.shapes.logic.Output=s.shapes.logic.IO.extend({defaults:s.util.deepSupplement({type:"logic.Output",attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive","class":"input",port:"in"},text:{text:"output"}}},s.shapes.logic.IO.prototype.defaults)}),s.shapes.logic.Gate11=s.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>',defaults:s.util.deepSupplement({type:"logic.Gate11",attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},s.shapes.logic.Gate.prototype.defaults)}),s.shapes.logic.Gate21=s.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>',defaults:s.util.deepSupplement({type:"logic.Gate21",attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},s.shapes.logic.Gate.prototype.defaults)}),s.shapes.logic.Repeater=s.shapes.logic.Gate11.extend({defaults:s.util.deepSupplement({type:"logic.Repeater",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},s.shapes.logic.Gate11.prototype.defaults),operation:function(t){return t}}),s.shapes.logic.Not=s.shapes.logic.Gate11.extend({defaults:s.util.deepSupplement({type:"logic.Not",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},s.shapes.logic.Gate11.prototype.defaults),operation:function(t){return!t}}),s.shapes.logic.Or=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.Or",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return t||e}}),s.shapes.logic.And=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.And",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return t&&e}}),s.shapes.logic.Nor=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.Nor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"
}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return!(t||e)}}),s.shapes.logic.Nand=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.Nand",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return!(t&&e)}}),s.shapes.logic.Xor=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.Xor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return(!t||e)&&(t||!e)}}),s.shapes.logic.Xnor=s.shapes.logic.Gate21.extend({defaults:s.util.deepSupplement({type:"logic.Xnor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},s.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return(!t||!e)&&(t||e)}}),s.shapes.logic.Wire=s.dia.Link.extend({arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join(""),defaults:s.util.deepSupplement({type:"logic.Wire",attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},s.dia.Link.prototype.defaults)}),"object"==typeof exports)var l=require("graphlib"),u=require("dagre");return l=l||"undefined"!=typeof window&&window.graphlib,u=u||"undefined"!=typeof window&&window.dagre,s.dia.Graph.prototype.toGraphLib=function(t){t=t||{};var e=n.pick(t,"directed","compound","multigraph"),i=new l.Graph(e),r=t.setNodeLabel||n.noop,a=t.setEdgeLabel||n.noop,o=t.setEdgeName||n.noop;return this.get("cells").each(function(t){if(t.isLink()){var e=t.get("source"),n=t.get("target");if(!e.id||!n.id)return;i.setEdge(e.id,n.id,a(t),o(t))}else i.setNode(t.id,r(t)),i.isCompound()&&t.has("parent")&&i.setParent(t.id,t.get("parent"))}),i},s.dia.Graph.prototype.fromGraphLib=function(t,e){e=e||{};var i=e.importNode||n.noop,r=e.importEdge||n.noop;t.nodes().forEach(function(n){i.call(this,n,t,this,e)},this),t.edges().forEach(function(n){r.call(this,n,t,this,e)},this)},s.layout.DirectedGraph={layout:function(t,e){e=n.defaults(e||{},{resizeClusters:!0,clusterPadding:10});var i=t.toGraphLib({directed:!0,multigraph:!0,compound:!0,setNodeLabel:function(t){return{width:t.get("size").width,height:t.get("size").height,rank:t.get("rank")}},setEdgeLabel:function(t){return{minLen:t.get("minLen")||1}},setEdgeName:function(t){return t.id}}),r={};return e.rankDir&&(r.rankdir=e.rankDir),e.nodeSep&&(r.nodesep=e.nodeSep),e.edgeSep&&(r.edgesep=e.edgeSep),e.rankSep&&(r.ranksep=e.rankSep),e.marginX&&(r.marginx=e.marginX),e.marginY&&(r.marginy=e.marginY),i.setGraph(r),u.layout(i,{debugTiming:!!e.debugTiming}),t.fromGraphLib(i,{importNode:function(t,n){var i=this.getCell(t),r=n.node(t);e.setPosition?e.setPosition(i,r):i.set("position",{x:r.x-r.width/2,y:r.y-r.height/2})},importEdge:function(t,n){var i=this.getCell(t.name),r=n.edge(t);e.setLinkVertices&&(e.setVertices?e.setVertices(i,r.points):i.set("vertices",r.points))}}),e.resizeClusters&&n.chain(i.nodes()).filter(function(t){return i.children(t).length>0}).map(t.getCell,t).sortBy(function(t){return-t.getAncestors().length}).invoke("fitEmbeds",{padding:e.clusterPadding}).value(),i.graph()}},s.g=o,s.V=s.Vectorizer=r,s}),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function r(t){return!isNaN(t)}function a(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}function o(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===bo||t[0]===xo?xo+t:t}function h(t){return(t+="")[0]===xo?t.slice(1):t}function f(t){return c(t)in this._}function d(t){return(t=c(t))in this._&&delete this._[t]}function g(){var t=[];for(var e in this._)t.push(h(e));return t}function p(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function I(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function C(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=Ao.length;i>n;++n){var r=Ao[n]+e;if(r in t)return r}}function b(){}function x(){}function A(t){function e(){for(var e,i=n,r=-1,a=i.length;++r<a;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new u;return e.on=function(e,r){var a,o=i.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function w(){so.event.preventDefault()}function _(){for(var t,e=so.event;t=e.sourceEvent;)e=t;return e}function M(t){for(var e=new x,n=0,i=arguments.length;++n<i;)e[arguments[n]]=A(e);return e.of=function(n,i){return function(r){try{var a=r.sourceEvent=so.event;r.target=t,so.event=r,e[r.type].apply(n,i)}finally{so.event=a}}},e}function N(t){return _o(t,Do),t}function S(t){return"function"==typeof t?t:function(){return Mo(t,this)}}function D(t){return"function"==typeof t?t:function(){return No(t,this)}}function k(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=so.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:o:t.local?a:r}function T(t){return t.trim().replace(/\s+/g," ")}function j(t){return new RegExp("(?:^|\\s+)"+so.requote(t)+"(?:\\s+|$)","g")}function z(t){return(t+"").trim().split(/^|\s+/)}function L(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=z(t).map(B);var r=t.length;return"function"==typeof e?i:n}function B(t){var e=j(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",T(r+" "+t))):n.setAttribute("class",T(r.replace(e," ")))}}function G(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function a(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?a:r}function O(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function Z(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===ko&&e.documentElement.namespaceURI===ko?e.createElement(t):e.createElementNS(n,t);
}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=so.ns.qualify(t)).local?n:e}function E(){var t=this.parentNode;t&&t.removeChild(this)}function P(t){return{__data__:t}}function F(t){return function(){return So(this,t)}}function R(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function W(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,a=t[n],o=0,s=a.length;s>o;o++)(r=a[o])&&e(r,o,n);return t}function Y(t){return _o(t,jo),t}function U(t){var e,n;return function(i,r,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),r>=e&&(e=r+1);!(o=s[e])&&++e<l;);return o}}function X(t,e,n){function i(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function r(){var r=l(e,uo(arguments));i.call(this),this.addEventListener(t,this[o]=r,r.$=n),r._=e}function a(){var e,n=new RegExp("^__on([^.]+)"+so.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var o="__on"+t,s=t.indexOf("."),l=H;s>0&&(t=t.slice(0,s));var u=zo.get(t);return u&&(t=u,l=V),s?e?r:i:e?b:a}function H(t,e){return function(n){var i=so.event;so.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{so.event=i}}}function V(t,e){var n=H(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function J(n){var i=".dragsuppress-"+ ++Bo,r="click"+i,a=so.select(e(n)).on("touchmove"+i,w).on("dragstart"+i,w).on("selectstart"+i,w);if(null==Lo&&(Lo="onselectstart"in n?!1:C(n.style,"userSelect")),Lo){var o=t(n).style,s=o[Lo];o[Lo]="none"}return function(t){if(a.on(i,null),Lo&&(o[Lo]=s),t){var e=function(){a.on(r,null)};a.on(r,function(){w(),e()},!0),setTimeout(e,0)}}}function $(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Go){var a=e(t);if(a.scrollX||a.scrollY){i=so.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=i[0][0].getScreenCTM();Go=!(o.f||o.e),i.remove()}}return Go?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function Q(){return so.event.changedTouches[0].identifier}function K(t){return t>0?1:0>t?-1:0}function q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?Eo:Math.acos(t)}function et(t){return t>1?Ro:-1>t?-Ro:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function at(t){return(t=Math.sin(t/2))*t}function ot(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):bt(""+t,xt,st):new st(t,e,n)}function lt(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?a+(o-a)*t/60:180>t?o:240>t?a+(o-a)*(240-t)/60:a}function r(t){return Math.round(255*i(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+e):n+e-n*e,a=2*n-o,new vt(r(t+120),r(t),r(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof ht?dt(t.l,t.a,t.b):dt((t=At((t=so.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Wo)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):At((t=vt(t)).r,t.g,t.b):new ht(t,e,n)}function ft(t,e,n){var i=(t+16)/116,r=i+e/500,a=i-n/200;return r=gt(r)*ts,i=gt(i)*es,a=gt(a)*ns,new vt(mt(3.2404542*r-1.5371385*i-.4985314*a),mt(-.969266*r+1.8760108*i+.041556*a),mt(.0556434*r-.2040259*i+1.0572252*a))}function dt(t,e,n){return t>0?new ut(Math.atan2(n,e)*Yo,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function gt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function pt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):bt(""+t,vt,lt):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function It(t){return yt(t)+""}function Ct(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function bt(t,e,n){var i,r,a,o=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(_t(r[0]),_t(r[1]),_t(r[2]))}return(a=as.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,l=15&a,l=l<<4|l):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function xt(t,e,n){var i,r,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(r=.5>l?s/(o+a):s/(2-o-a),i=t==o?(e-n)/s+(n>e?6:0):e==o?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=l>0&&1>l?0:i),new st(i,r,l)}function At(t,e,n){t=wt(t),e=wt(e),n=wt(n);var i=pt((.4124564*t+.3575761*e+.1804375*n)/ts),r=pt((.2126729*t+.7151522*e+.072175*n)/es),a=pt((.0193339*t+.119192*e+.9503041*n)/ns);return ht(116*r-16,500*(i-r),200*(r-a))}function wt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _t(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Mt(t){return"function"==typeof t?t:function(){return t}}function Nt(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),St(e,n,t,i)}}function St(t,e,n,i){function r(){var t,e=l.status;if(!e&&kt(l)||e>=200&&300>e||304===e){try{t=n.call(a,l)}catch(i){return void o.error.call(a,i)}o.load.call(a,t)}else o.error.call(a,l)}var a={},o=so.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=so.event;so.event=t;try{o.progress.call(a,l)}finally{so.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(u=t,a):u},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(uo(arguments)))}}),a.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&a.on("error",r).on("load",function(t){r(null,t)}),o.beforesend.call(a,l),l.send(null==i?null:i),a},a.abort=function(){return l.abort(),a},so.rebind(a,o,"on"),null==i?a:a.get(Dt(i))}function Dt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function kt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Tt(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,a={c:t,t:r,n:null};return ss?ss.n=a:os=a,ss=a,ls||(us=clearTimeout(us),ls=1,cs(jt)),a}function jt(){var t=zt(),e=Lt()-t;e>24?(isFinite(e)&&(clearTimeout(us),us=setTimeout(jt,e)),ls=0):(ls=1,cs(jt))}function zt(){for(var t=Date.now(),e=os;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Lt(){for(var t,e=os,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:os=e.n;return ss=t,n}function Bt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Gt(t,e){var n=Math.pow(10,3*Co(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ot(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,a=i&&n?function(t,e){for(var r=t.length,a=[],o=0,s=i[0],l=0;r>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),a.push(t.substring(r-=s,r+s)),!((l+=s+1)>e));)s=i[o=(o+1)%i.length];return a.reverse().join(n)}:y;return function(t){var n=fs.exec(t),i=n[1]||" ",o=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],h=n[7],f=n[8],d=n[9],g=1,p="",m="",v=!1,y=!0;switch(f&&(f=+f.substring(1)),(u||"0"===i&&"="===o)&&(u=i="0",o="="),d){case"n":h=!0,d="g";break;case"%":g=100,m="%",d="f";break;case"p":g=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(p="0"+d.toLowerCase());case"c":y=!1;case"d":v=!0,f=0;break;case"s":g=-1,d="r"}"$"===l&&(p=r[0],m=r[1]),"r"!=d||f||(d="g"),null!=f&&("g"==d?f=Math.max(1,Math.min(21,f)):"e"!=d&&"f"!=d||(f=Math.max(0,Math.min(20,f)))),d=ds.get(d)||Zt;var I=u&&h;return function(t){var n=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>g){var l=so.formatPrefix(t,f);t=l.scale(t),n=l.symbol+m}else t*=g;t=d(t,f);var C,b,x=t.lastIndexOf(".");if(0>x){var A=y?t.lastIndexOf("e"):-1;0>A?(C=t,b=""):(C=t.substring(0,A),b=t.substring(A))}else C=t.substring(0,x),b=e+t.substring(x+1);!u&&h&&(C=a(C,1/0));var w=p.length+C.length+b.length+(I?0:r.length),_=c>w?new Array(w=c-w+1).join(i):"";return I&&(C=a(_+C,_.length?c-b.length:1/0)),r+=p,t=C+b,("<"===o?r+t+_:">"===o?_+r+t:"^"===o?_.substring(0,w>>=1)+r+t+_.substring(w):r+(I?t:_+t))+n}}}function Zt(t){return t+""}function Et(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Pt(t,e,n){function i(e){var n=t(e),i=a(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new ps(n-1)),1),n}function a(t,n){return e(t=new ps(+t),n),t}function o(t,i,a){var o=r(t),s=[];if(a>1)for(;i>o;)n(o)%a||s.push(new Date(+o)),e(o,1);else for(;i>o;)s.push(new Date(+o)),e(o,1);return s}function s(t,e,n){try{ps=Et;var i=new Et;return i._=t,o(i,e,n)}finally{ps=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=a,t.range=o;var l=t.utc=Ft(t);return l.floor=l,l.round=Ft(i),l.ceil=Ft(r),l.offset=Ft(a),l.range=s,t}function Ft(t){return function(e,n){try{ps=Et;var i=new Et;return i._=e,t(i,n)._}finally{ps=Date}}}function Rt(t){function e(t){function e(e){for(var n,r,a,o=[],s=-1,l=0;++s<i;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(r=vs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(a=S[n])&&(n=a(e,null==r?"e"===n?" ":"0":r)),o.push(n),l=s+1);return o.push(t.slice(l,s)),o.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var a=null!=i.Z&&ps!==Et,o=new(a?Et:ps);return"j"in i?o.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),a?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,a,o,s=0,l=e.length,u=n.length;l>s;){if(i>=u)return-1;if(r=e.charCodeAt(s++),37===r){if(o=e.charAt(s++),a=D[o in vs?e.charAt(s++):o],!a||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.w=A.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.w=b.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){M.lastIndex=0;var i=M.exec(e.slice(n));return i?(t.m=N.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.m=_.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,S.c.toString(),e,i)}function l(t,e,i){return n(t,S.x.toString(),e,i)}function u(t,e,i){return n(t,S.X.toString(),e,i)}function c(t,e,n){var i=I.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,f=t.date,d=t.time,g=t.periods,p=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ps=Et;var e=new ps;return e._=t,i(e)}finally{ps=Date}}var i=e(t);return n.parse=function(t){try{ps=Et;var e=i.parse(t);return e&&e._}finally{ps=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=le;var I=so.map(),C=Yt(p),b=Ut(p),x=Yt(m),A=Ut(m),w=Yt(v),_=Ut(v),M=Yt(y),N=Ut(y);g.forEach(function(t,e){I.set(t.toLowerCase(),e)});var S={a:function(t){return m[t.getDay()]},A:function(t){return p[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return Wt(t.getDate(),e,2)},e:function(t,e){return Wt(t.getDate(),e,2)},H:function(t,e){return Wt(t.getHours(),e,2)},I:function(t,e){return Wt(t.getHours()%12||12,e,2)},j:function(t,e){return Wt(1+gs.dayOfYear(t),e,3)},L:function(t,e){return Wt(t.getMilliseconds(),e,3)},m:function(t,e){return Wt(t.getMonth()+1,e,2)},M:function(t,e){return Wt(t.getMinutes(),e,2)},p:function(t){return g[+(t.getHours()>=12)]},S:function(t,e){return Wt(t.getSeconds(),e,2)},U:function(t,e){return Wt(gs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Wt(gs.mondayOfYear(t),e,2)},x:e(f),X:e(d),y:function(t,e){return Wt(t.getFullYear()%100,e,2)},Y:function(t,e){return Wt(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},D={a:i,A:r,b:a,B:o,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:ae,m:qt,M:ie,p:c,S:re,U:Ht,w:Xt,W:Vt,x:l,X:u,y:$t,Y:Jt,Z:Qt,"%":se};return e}function Wt(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",a=r.length;return i+(n>a?new Array(n-a+1).join(e)+r:r)}function Yt(t){return new RegExp("^(?:"+t.map(so.requote).join("|")+")","i")}function Ut(t){for(var e=new u,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Xt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ht(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Vt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Jt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function $t(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.y=Kt(+i[0]),n+i[0].length):-1}function Qt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Kt(t){return t+(t>68?1900:2e3)}function qt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function ae(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=Co(e)/60|0,r=Co(e)%60;return n+Wt(i,"0",2)+Wt(r,"0",2)}function se(t,e,n){Is.lastIndex=0;var i=Is.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function le(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function ue(){}function ce(t,e,n){var i=n.s=t+e,r=i-t,a=i-r;n.t=t-a+(e-r)}function he(t,e){t&&As.hasOwnProperty(t.type)&&As[t.type](t,e)}function fe(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fe(t[n],e,1);e.polygonEnd()}function ge(){function t(t,e){t*=Wo,e=e*Wo/2+Eo/4;var n=t-i,o=n>=0?1:-1,s=o*n,l=Math.cos(e),u=Math.sin(e),c=a*u,h=r*l+c*Math.cos(s),f=c*o*Math.sin(s);_s.add(Math.atan2(f,h)),i=t,r=l,a=u}var e,n,i,r,a;Ms.point=function(o,s){Ms.point=t,i=(e=o)*Wo,r=Math.cos(s=(n=s)*Wo/2+Eo/4),a=Math.sin(s)},Ms.lineEnd=function(){t(e,n)}}function pe(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ie(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ce(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function be(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function xe(t,e){return Co(t[0]-e[0])<Oo&&Co(t[1]-e[1])<Oo}function Ae(t,e){t*=Wo;var n=Math.cos(e*=Wo);we(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function we(t,e,n){++Ns,Ds+=(t-Ds)/Ns,ks+=(e-ks)/Ns,Ts+=(n-Ts)/Ns}function _e(){function t(t,r){t*=Wo;var a=Math.cos(r*=Wo),o=a*Math.cos(t),s=a*Math.sin(t),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*s)*u+(u=i*o-e*l)*u+(u=e*s-n*o)*u),e*o+n*s+i*l);Ss+=u,js+=u*(e+(e=o)),zs+=u*(n+(n=s)),Ls+=u*(i+(i=l)),we(e,n,i)}var e,n,i;Zs.point=function(r,a){r*=Wo;var o=Math.cos(a*=Wo);e=o*Math.cos(r),n=o*Math.sin(r),i=Math.sin(a),Zs.point=t,we(e,n,i)}}function Me(){Zs.point=Ae}function Ne(){function t(t,e){t*=Wo;var n=Math.cos(e*=Wo),o=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=r*l-a*s,c=a*o-i*l,h=i*s-r*o,f=Math.sqrt(u*u+c*c+h*h),d=i*o+r*s+a*l,g=f&&-tt(d)/f,p=Math.atan2(f,d);Bs+=g*u,Gs+=g*c,Os+=g*h,Ss+=p,js+=p*(i+(i=o)),zs+=p*(r+(r=s)),Ls+=p*(a+(a=l)),we(i,r,a)}var e,n,i,r,a;Zs.point=function(o,s){e=o,n=s,Zs.point=t,o*=Wo;var l=Math.cos(s*=Wo);i=l*Math.cos(o),r=l*Math.sin(o),a=Math.sin(s),we(i,r,a)},Zs.lineEnd=function(){t(e,n),Zs.lineEnd=Me,Zs.point=Ae}}function Se(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function De(){return!0}function ke(t,e,n,i,r){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(xe(n,i)){r.lineStart();for(var s=0;e>s;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var l=new je(n,t,null,!0),u=new je(n,null,l,!1);l.o=u,a.push(l),o.push(u),l=new je(i,t,null,!1),u=new je(i,null,l,!0),l.o=u,a.push(l),o.push(u)}}),o.sort(e),Te(a),Te(o),a.length){for(var s=0,l=n,u=o.length;u>s;++s)o[s].e=l=!l;for(var c,h,f=a[0];;){for(var d=f,g=!0;d.v;)if((d=d.n)===f)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(var s=0,u=c.length;u>s;++s)r.point((h=c[s])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(g){c=d.p.z;for(var s=c.length-1;s>=0;--s)r.point((h=c[s])[0],h[1])}else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,c=d.z,g=!g}while(!d.v);r.lineEnd()}}}function Te(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function je(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ze(t,e,n,i){return function(r,a){function o(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&a.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){y.point=s,m.lineStart()}function u(){y.point=o,m.lineEnd()}function c(t,e){p.push([t,e]);var n=r(t,e);C.point(n[0],n[1])}function h(){C.lineStart(),p=[]}function f(){c(p[0][0],p[0][1]),C.lineEnd();var t,e=C.clean(),n=I.buffer(),i=n.length;if(p.pop(),g.push(p),p=null,i)if(1&e){t=n[0];var r,i=t.length-1,o=-1;if(i>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Le))}var d,g,p,m=e(a),v=r.invert(i[0],i[1]),y={point:o,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=f,d=[],g=[]},polygonEnd:function(){y.point=o,y.lineStart=l,y.lineEnd=u,d=so.merge(d);var t=Pe(v,g);d.length?(b||(a.polygonStart(),b=!0),ke(d,Ge,t,n,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),d=g=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},I=Be(),C=e(I),b=!1;return y}}function Le(t){return t.length>1}function Be(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:b,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ge(t,e){return((t=t.x)[0]<0?t[1]-Ro-Oo:Ro-t[1])-((e=e.x)[0]<0?e[1]-Ro-Oo:Ro-e[1])}function Oe(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Eo:-Eo,l=Co(a-n);Co(l-Eo)<Oo?(t.point(n,i=(i+o)/2>0?Ro:-Ro),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),e=0):r!==s&&l>=Eo&&(Co(n-r)<Oo&&(n-=r*Oo),Co(a-s)<Oo&&(a-=s*Oo),i=Ze(n,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=a,i=o),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Ze(t,e,n,i){var r,a,o=Math.sin(t-n);return Co(o)>Oo?Math.atan((Math.sin(e)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*a*o)):(e+i)/2}function Ee(t,e,n,i){var r;if(null==t)r=n*Ro,i.point(-Eo,r),i.point(0,r),i.point(Eo,r),i.point(Eo,0),i.point(Eo,-r),i.point(0,-r),i.point(-Eo,-r),i.point(-Eo,0),i.point(-Eo,r);else if(Co(t[0]-e[0])>Oo){var a=t[0]<e[0]?Eo:-Eo;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function Pe(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;_s.reset();for(var s=0,l=e.length;l>s;++s){var u=e[s],c=u.length;if(c)for(var h=u[0],f=h[0],d=h[1]/2+Eo/4,g=Math.sin(d),p=Math.cos(d),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+Eo/4,I=Math.sin(y),C=Math.cos(y),b=v-f,x=b>=0?1:-1,A=x*b,w=A>Eo,_=g*I;if(_s.add(Math.atan2(_*x*Math.sin(A),p*C+_*Math.cos(A))),a+=w?b+x*Po:b,w^f>=n^v>=n){var M=ve(pe(h),pe(t));Ce(M);var N=ve(r,M);Ce(N);var S=(w^b>=0?-1:1)*et(N[2]);(i>S||i===S&&(M[0]||M[1]))&&(o+=w^b>=0?1:-1)}if(!m++)break;f=v,g=I,p=C,h=t}}return(-Oo>a||Oo>a&&-Oo>_s)^1&o}function Fe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,f){var d,g=[h,f],p=e(h,f),m=o?p?0:r(h,f):p?r(h+(0>h?Eo:-Eo),f):0;if(!n&&(u=l=p)&&t.lineStart(),p!==l&&(d=i(n,g),(xe(n,d)||xe(g,d))&&(g[0]+=Oo,g[1]+=Oo,p=e(g[0],g[1]))),p!==l)c=0,p?(t.lineStart(),d=i(g,n),t.point(d[0],d[1])):(d=i(n,g),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&o^p){var v;m&a||!(v=i(g,n,!0))||(c=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!p||n&&xe(n,g)||t.point(g[0],g[1]),n=g,l=p,a=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(t,e,n){var i=pe(t),r=pe(e),o=[1,0,0],s=ve(i,r),l=me(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var h=a*l/c,f=-a*u/c,d=ve(o,s),g=Ie(o,h),p=Ie(s,f);ye(g,p);var m=d,v=me(g,m),y=me(m,m),I=v*v-y*(me(g,g)-1);if(!(0>I)){var C=Math.sqrt(I),b=Ie(m,(-v-C)/y);if(ye(b,g),b=be(b),!n)return b;var x,A=t[0],w=e[0],_=t[1],M=e[1];A>w&&(x=A,A=w,w=x);var N=w-A,S=Co(N-Eo)<Oo,D=S||Oo>N;if(!S&&_>M&&(x=_,_=M,M=x),D?S?_+M>0^b[1]<(Co(b[0]-A)<Oo?_:M):_<=b[1]&&b[1]<=M:N>Eo^(A<=b[0]&&b[0]<=w)){var k=Ie(m,(-v+C)/y);return ye(k,g),[b,be(k)]}}}function r(e,n){var i=o?t:Eo-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var a=Math.cos(t),o=a>0,s=Co(a)>Oo,l=pn(t,6*Wo);return ze(e,n,l,o?[0,-t]:[-Eo,t-Eo])}function Re(t,e,n,i){return function(r){var a,o=r.a,s=r.b,l=o.x,u=o.y,c=s.x,h=s.y,f=0,d=1,g=c-l,p=h-u;if(a=t-l,g||!(a>0)){if(a/=g,0>g){if(f>a)return;d>a&&(d=a)}else if(g>0){if(a>d)return;a>f&&(f=a)}if(a=n-l,g||!(0>a)){if(a/=g,0>g){if(a>d)return;a>f&&(f=a)}else if(g>0){if(f>a)return;d>a&&(d=a)}if(a=e-u,p||!(a>0)){if(a/=p,0>p){if(f>a)return;d>a&&(d=a)}else if(p>0){if(a>d)return;a>f&&(f=a)}if(a=i-u,p||!(0>a)){if(a/=p,0>p){if(a>d)return;a>f&&(f=a)}else if(p>0){if(f>a)return;d>a&&(d=a)}return f>0&&(r.a={x:l+f*g,y:u+f*p}),1>d&&(r.b={x:l+d*g,y:u+d*p}),r}}}}}}function We(t,e,n,i){function r(i,r){return Co(i[0]-t)<Oo?r>0?0:3:Co(i[0]-n)<Oo?r>0?2:1:Co(i[1]-e)<Oo?r>0?1:0:r>0?3:2}function a(t,e){return o(t.x,e.x)}function o(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=m.length,i=t[1],r=0;n>r;++r)for(var a,o=1,s=m[r],l=s.length,u=s[0];l>o;++o)a=s[o],u[1]<=i?a[1]>i&&q(u,a,t)>0&&++e:a[1]<=i&&q(u,a,t)<0&&--e,u=a;return 0!==e}function u(a,s,l,u){var c=0,h=0;if(null==a||(c=r(a,l))!==(h=r(s,l))||o(a,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+l+4)%4)!==h)}else u.point(s[0],s[1])}function c(r,a){return r>=t&&n>=r&&a>=e&&i>=a}function h(t,e){c(t,e)&&s.point(t,e)}function f(){D.point=g,m&&m.push(v=[]),w=!0,A=!1,b=x=NaN}function d(){p&&(g(y,I),C&&A&&N.rejoin(),p.push(N.buffer())),D.point=h,A&&s.lineEnd()}function g(t,e){t=Math.max(-Ps,Math.min(Ps,t)),e=Math.max(-Ps,Math.min(Ps,e));var n=c(t,e);if(m&&v.push([t,e]),w)y=t,I=e,C=n,w=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&A)s.point(t,e);else{var i={a:{x:b,y:x},b:{x:t,y:e}};S(i)?(A||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),_=!1):n&&(s.lineStart(),s.point(t,e),_=!1)}b=t,x=e,A=n}var p,m,v,y,I,C,b,x,A,w,_,M=s,N=Be(),S=Re(t,e,n,i),D={point:h,lineStart:f,lineEnd:d,polygonStart:function(){s=N,p=[],m=[],_=!0},polygonEnd:function(){s=M,p=so.merge(p);var e=l([t,i]),n=_&&e,r=p.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),r&&ke(p,a,e,u,s),s.polygonEnd()),p=m=v=null}};return D}}function Ye(t){var e=0,n=Eo/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Eo/180,n=t[1]*Eo/180):[e/Eo*180,n/Eo*180]},r}function Ue(t,e){function n(t,e){var n=Math.sqrt(a-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,a=1+i*(2*r-i),o=Math.sqrt(a)/r;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,et((a-(t*t+n*n)*r*r)/(2*r))]},n}function Xe(){function t(t,e){Rs+=r*t-i*e,i=t,r=e}var e,n,i,r;Hs.point=function(a,o){Hs.point=t,e=i=a,n=r=o},Hs.lineEnd=function(){t(e,n)}}function He(t,e){Ws>t&&(Ws=t),t>Us&&(Us=t),Ys>e&&(Ys=e),e>Xs&&(Xs=e)}function Ve(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function i(){s.point=t}function r(){o.push("Z")}var a=Je(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=Je(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Je(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function $e(t,e){Ds+=t,ks+=e,++Ts}function Qe(){function t(t,i){var r=t-e,a=i-n,o=Math.sqrt(r*r+a*a);js+=o*(e+t)/2,zs+=o*(n+i)/2,Ls+=o,$e(e=t,n=i)}var e,n;Js.point=function(i,r){Js.point=t,$e(e=i,n=r)}}function Ke(){Js.point=$e}function qe(){function t(t,e){var n=t-i,a=e-r,o=Math.sqrt(n*n+a*a);js+=o*(i+t)/2,zs+=o*(r+e)/2,Ls+=o,o=r*t-i*e,Bs+=o*(i+t),Gs+=o*(r+e),Os+=3*o,$e(i=t,r=e)}var e,n,i,r;Js.point=function(a,o){Js.point=t,$e(e=i=a,n=r=o)},Js.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Po)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function a(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return o=t,s},result:b};return s}function en(t){function e(t){return(s?i:n)(t)}function n(e){return an(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){I=NaN,w.point=a,e.lineStart()}function a(n,i){var a=pe([n,i]),o=t(n,i);r(I,C,y,b,x,A,I=o[0],C=o[1],y=n,b=a[0],x=a[1],A=a[2],s,e),e.point(I,C)}function o(){w.point=n,e.lineEnd()}function l(){i(),w.point=u,w.lineEnd=c}function u(t,e){a(h=t,f=e),d=I,g=C,p=b,m=x,v=A,w.point=a}function c(){r(I,C,y,b,x,A,d,g,h,p,m,v,s,e),w.lineEnd=o,o()}var h,f,d,g,p,m,v,y,I,C,b,x,A,w={point:n,lineStart:i,lineEnd:o,polygonStart:function(){e.polygonStart(),w.lineStart=l},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}function r(e,n,i,s,l,u,c,h,f,d,g,p,m,v){var y=c-e,I=h-n,C=y*y+I*I;if(C>4*a&&m--){var b=s+d,x=l+g,A=u+p,w=Math.sqrt(b*b+x*x+A*A),_=Math.asin(A/=w),M=Co(Co(A)-1)<Oo||Co(i-f)<Oo?(i+f)/2:Math.atan2(x,b),N=t(M,_),S=N[0],D=N[1],k=S-e,T=D-n,j=I*k-y*T;(j*j/C>a||Co((y*k+I*T)/C-.5)>.3||o>s*d+l*g+u*p)&&(r(e,n,i,s,l,u,S,D,M,b/=w,x/=w,A,m,v),v.point(S,D),r(S,D,M,b,x,A,c,h,f,d,g,p,m,v))}}var a=.5,o=Math.cos(30*Wo),s=16;return e.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function nn(t){var e=en(function(e,n){return t([e*Yo,n*Yo])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function an(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*Wo,t[1]*Wo),[t[0]*f+l,u-t[1]*f]}function n(t){return t=s.invert((t[0]-l)/f,(u-t[1])/f),t&&[t[0]*Yo,t[1]*Yo]}function i(){s=Se(o=hn(v,I,C),a);var t=a(p,m);return l=d-t[0]*f,u=g+t[1]*f,r()}function r(){return c&&(c.valid=!1,c=null),e}var a,o,s,l,u,c,h=en(function(t,e){return t=a(t,e),[t[0]*f+l,u-t[1]*f]}),f=150,d=480,g=250,p=0,m=0,v=0,I=0,C=0,b=Es,x=y,A=null,w=null;return e.stream=function(t){return c&&(c.valid=!1),c=ln(b(o,h(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(A=t,Es):Fe((A=+t)*Wo),r()):A},e.clipExtent=function(t){return arguments.length?(w=t,x=t?We(t[0][0],t[0][1],t[1][0],t[1][1]):y,r()):w},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(d=+t[0],g=+t[1],i()):[d,g]},e.center=function(t){return arguments.length?(p=t[0]%360*Wo,m=t[1]%360*Wo,i()):[p*Yo,m*Yo]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Wo,I=t[1]%360*Wo,C=t.length>2?t[2]%360*Wo:0,i()):[v*Yo,I*Yo,C*Yo]},so.rebind(e,h,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function ln(t){return an(t,function(e,n){t.point(e*Wo,n*Wo)})}function un(t,e){return[t,e]}function cn(t,e){return[t>Eo?t-Po:-Eo>t?t+Po:t,e]}function hn(t,e,n){return t?e||n?Se(dn(t),gn(e,n)):dn(t):e||n?gn(e,n):cn}function fn(t){return function(e,n){return e+=t,[e>Eo?e-Po:-Eo>e?e+Po:e,n]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function gn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i+s*r;return[Math.atan2(l*a-c*o,s*i-u*r),et(c*a+l*o)]}var i=Math.cos(t),r=Math.sin(t),a=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*a-l*o;return[Math.atan2(l*a+u*o,s*i+c*r),et(c*i-s*r)]},n}function pn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,a,o,s){var l=o*e;null!=r?(r=mn(n,r),a=mn(n,a),(o>0?a>r:r>a)&&(r+=o*Po)):(r=t+o*Po,a=t-.5*l);for(var u,c=r;o>0?c>a:a>c;c-=l)s.point((u=be([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function mn(t,e){var n=pe(e);n[0]-=t,Ce(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Oo)%(2*Math.PI)}function vn(t,e,n){var i=so.range(t,e-Oo,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function yn(t,e,n){var i=so.range(t,e-Oo,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function In(t){return t.source}function Cn(t){return t.target}function bn(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),c=o*Math.cos(n),h=o*Math.sin(n),f=2*Math.asin(Math.sqrt(at(i-e)+r*o*at(n-t))),d=1/Math.sin(f),g=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,i=n*l+e*c,r=n*u+e*h,o=n*a+e*s;return[Math.atan2(r,i)*Yo,Math.atan2(o,Math.sqrt(i*i+r*r))*Yo]}:function(){return[t*Yo,e*Yo]};return g.distance=f,g}function xn(){function t(t,r){var a=Math.sin(r*=Wo),o=Math.cos(r),s=Co((t*=Wo)-e),l=Math.cos(s);$s+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=i*a-n*o*l)*s),n*a+i*o*l),e=t,n=a,i=o}var e,n,i;Qs.point=function(r,a){e=r*Wo,n=Math.sin(a*=Wo),i=Math.cos(a),Qs.point=t},Qs.lineEnd=function(){Qs.point=Qs.lineEnd=b}}function An(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),a=t(i*r);return[a*r*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),a=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*a,i*o),Math.asin(i&&n*a/i)]},n}function wn(t,e){function n(t,e){o>0?-Ro+Oo>e&&(e=-Ro+Oo):e>Ro-Oo&&(e=Ro-Oo);var n=o/Math.pow(r(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)];
}var i=Math.cos(t),r=function(t){return Math.tan(Eo/4+t/2)},a=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),o=i*Math.pow(r(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,i=K(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/i,1/a))-Ro]},n):Mn}function _n(t,e){function n(t,e){var n=a-e;return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),a=i/r+t;return Co(r)<Oo?un:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,a-K(r)*Math.sqrt(t*t+n*n)]},n)}function Mn(t,e){return[t,Math.log(Math.tan(Eo/4+e/2))]}function Nn(t){var e,n=on(t),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=Eo*i(),l=r();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function Sn(t,e){return[Math.log(Math.tan(Eo/4+e/2)),-t]}function Dn(t){return t[0]}function kn(t){return t[1]}function Tn(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&q(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function jn(t,e){return t[0]-e[0]||t[1]-e[1]}function zn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ln(t,e,n,i){var r=t[0],a=n[0],o=e[0]-r,s=i[0]-a,l=t[1],u=n[1],c=e[1]-l,h=i[1]-u,f=(s*(l-u)-h*(r-a))/(h*o-s*c);return[r+f*o,l+f*c]}function Bn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Gn(){ii(this),this.edge=this.site=this.circle=null}function On(t){var e=ul.pop()||new Gn;return e.site=t,e}function Zn(t){Vn(t),ol.remove(t),ul.push(t),ii(t)}function En(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},a=t.P,o=t.N,s=[t];Zn(t);for(var l=a;l.circle&&Co(n-l.circle.x)<Oo&&Co(i-l.circle.cy)<Oo;)a=l.P,s.unshift(l),Zn(l),l=a;s.unshift(l),Vn(l);for(var u=o;u.circle&&Co(n-u.circle.x)<Oo&&Co(i-u.circle.cy)<Oo;)o=u.N,s.push(u),Zn(u),u=o;s.push(u),Vn(u);var c,h=s.length;for(c=1;h>c;++c)u=s[c],l=s[c-1],ti(u.edge,l.site,u.site,r);l=s[0],u=s[h-1],u.edge=Kn(l.site,u.site,null,r),Hn(l),Hn(u)}function Pn(t){for(var e,n,i,r,a=t.x,o=t.y,s=ol._;s;)if(i=Fn(s,o)-a,i>Oo)s=s.L;else{if(r=a-Rn(s,o),!(r>Oo)){i>-Oo?(e=s.P,n=s):r>-Oo?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=On(t);if(ol.insert(e,l),e||n){if(e===n)return Vn(e),n=On(e.site),ol.insert(l,n),l.edge=n.edge=Kn(e.site,l.site),Hn(e),void Hn(n);if(!n)return void(l.edge=Kn(e.site,l.site));Vn(e),Vn(n);var u=e.site,c=u.x,h=u.y,f=t.x-c,d=t.y-h,g=n.site,p=g.x-c,m=g.y-h,v=2*(f*m-d*p),y=f*f+d*d,I=p*p+m*m,C={x:(m*y-d*I)/v+c,y:(f*I-p*y)/v+h};ti(n.edge,u,g,C),l.edge=Kn(u,t,null,C),n.edge=Kn(t,g,null,C),Hn(e),Hn(n)}}function Fn(t,e){var n=t.site,i=n.x,r=n.y,a=r-e;if(!a)return i;var o=t.P;if(!o)return-(1/0);n=o.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-i,h=1/a-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+r-a/2)))/h+i:(i+s)/2}function Rn(t,e){var n=t.N;if(n)return Fn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Wn(t){this.site=t,this.edges=[]}function Yn(t){for(var e,n,i,r,a,o,s,l,u,c,h=t[0][0],f=t[1][0],d=t[0][1],g=t[1][1],p=al,m=p.length;m--;)if(a=p[m],a&&a.prepare())for(s=a.edges,l=s.length,o=0;l>o;)c=s[o].end(),i=c.x,r=c.y,u=s[++o%l].start(),e=u.x,n=u.y,(Co(i-e)>Oo||Co(r-n)>Oo)&&(s.splice(o,0,new ei(qn(a.site,c,Co(i-h)<Oo&&g-r>Oo?{x:h,y:Co(e-h)<Oo?n:g}:Co(r-g)<Oo&&f-i>Oo?{x:Co(n-g)<Oo?e:f,y:g}:Co(i-f)<Oo&&r-d>Oo?{x:f,y:Co(e-f)<Oo?n:d}:Co(r-d)<Oo&&i-h>Oo?{x:Co(n-d)<Oo?e:h,y:d}:null),a.site,null)),++l)}function Un(t,e){return e.angle-t.angle}function Xn(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Hn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r.x,s=r.y,l=i.x-o,u=i.y-s,c=a.x-o,h=a.y-s,f=2*(l*h-u*c);if(!(f>=-Zo)){var d=l*l+u*u,g=c*c+h*h,p=(h*d-u*g)/f,m=(l*g-c*d)/f,h=m+s,v=cl.pop()||new Xn;v.arc=t,v.site=r,v.x=p+o,v.y=h+Math.sqrt(p*p+m*m),v.cy=h,t.circle=v;for(var y=null,I=ll._;I;)if(v.y<I.y||v.y===I.y&&v.x<=I.x){if(!I.L){y=I.P;break}I=I.L}else{if(!I.R){y=I;break}I=I.R}ll.insert(y,v),y||(sl=v)}}}}function Vn(t){var e=t.circle;e&&(e.P||(sl=e.N),ll.remove(e),cl.push(e),ii(e),t.circle=null)}function Jn(t){for(var e,n=rl,i=Re(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!$n(e,t)||!i(e)||Co(e.a.x-e.b.x)<Oo&&Co(e.a.y-e.b.y)<Oo)&&(e.a=e.b=null,n.splice(r,1))}function $n(t,e){var n=t.b;if(n)return!0;var i,r,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,g=h.x,p=h.y,m=(f+g)/2,v=(d+p)/2;if(p===d){if(o>m||m>=s)return;if(f>g){if(a){if(a.y>=u)return}else a={x:m,y:l};n={x:m,y:u}}else{if(a){if(a.y<l)return}else a={x:m,y:u};n={x:m,y:l}}}else if(i=(f-g)/(p-d),r=v-i*m,-1>i||i>1)if(f>g){if(a){if(a.y>=u)return}else a={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(p>d){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return t.a=a,t.b=n,!0}function Qn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Kn(t,e,n,i){var r=new Qn(t,e);return rl.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),al[t.i].edges.push(new ei(r,t,e)),al[e.i].edges.push(new ei(r,e,t)),r}function qn(t,e,n){var i=new Qn(t,null);return i.a=e,i.b=n,rl.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ai(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function oi(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,a=t.sort(li).pop();for(rl=[],al=new Array(t.length),ol=new ni,ll=new ni;;)if(r=sl,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))a.x===n&&a.y===i||(al[a.i]=new Wn(a),Pn(a),n=a.x,i=a.y),a=t.pop();else{if(!r)break;En(r.arc)}e&&(Jn(e),Yn(e));var o={cells:al,edges:rl};return ol=ll=rl=al=null,o}function li(t,e){return e.y-t.y||e.x-t.x}function ui(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function hi(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,r,a){if(!t(e,n,i,r,a)){var o=.5*(n+r),s=.5*(i+a),l=e.nodes;l[0]&&di(t,l[0],n,i,o,s),l[1]&&di(t,l[1],o,i,r,s),l[2]&&di(t,l[2],n,s,o,a),l[3]&&di(t,l[3],o,s,r,a)}}function gi(t,e,n,i,r,a,o){var s,l=1/0;return function u(t,c,h,f,d){if(!(c>a||h>o||i>f||r>d)){if(g=t.point){var g,p=e-t.x,m=n-t.y,v=p*p+m*m;if(l>v){var y=Math.sqrt(l=v);i=e-y,r=n-y,a=e+y,o=n+y,s=g}}for(var I=t.nodes,C=.5*(c+f),b=.5*(h+d),x=e>=C,A=n>=b,w=A<<1|x,_=w+4;_>w;++w)if(t=I[3&w])switch(3&w){case 0:u(t,c,h,C,b);break;case 1:u(t,C,h,f,b);break;case 2:u(t,c,b,C,d);break;case 3:u(t,C,b,f,d)}}}(t,i,r,a,o),s}function pi(t,e){t=so.rgb(t),e=so.rgb(e);var n=t.r,i=t.g,r=t.b,a=e.r-n,o=e.g-i,s=e.b-r;return function(t){return"#"+Ct(Math.round(n+a*t))+Ct(Math.round(i+o*t))+Ct(Math.round(r+s*t))}}function mi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=Ii(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function vi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yi(t,e){var n,i,r,a=fl.lastIndex=dl.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=fl.exec(t))&&(i=dl.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:vi(n,i)})),a=dl.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;e>i;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function Ii(t,e){for(var n,i=so.interpolators.length;--i>=0&&!(n=so.interpolators[i](t,e)););return n}function Ci(t,e){var n,i=[],r=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(Ii(t[n],e[n]));for(;a>n;++n)r[n]=t[n];for(;o>n;++n)r[n]=e[n];return function(t){for(n=0;s>n;++n)r[n]=i[n](t);return r}}function bi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function xi(t){return function(e){return 1-t(1-e)}}function Ai(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function wi(t){return t*t}function _i(t){return t*t*t}function Mi(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Ni(t){return function(e){return Math.pow(e,t)}}function Si(t){return 1-Math.cos(t*Ro)}function Di(t){return Math.pow(2,10*(t-1))}function ki(t){return 1-Math.sqrt(1-t*t)}function Ti(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Po*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Po/e)}}function ji(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function zi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Li(t,e){t=so.hcl(t),e=so.hcl(e);var n=t.h,i=t.c,r=t.l,a=e.h-n,o=e.c-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return ct(n+a*t,i+o*t,r+s*t)+""}}function Bi(t,e){t=so.hsl(t),e=so.hsl(e);var n=t.h,i=t.s,r=t.l,a=e.h-n,o=e.s-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return lt(n+a*t,i+o*t,r+s*t)+""}}function Gi(t,e){t=so.lab(t),e=so.lab(e);var n=t.l,i=t.a,r=t.b,a=e.l-n,o=e.a-i,s=e.b-r;return function(t){return ft(n+a*t,i+o*t,r+s*t)+""}}function Oi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Zi(t){var e=[t.a,t.b],n=[t.c,t.d],i=Pi(e),r=Ei(e,n),a=Pi(Fi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Yo,this.translate=[t.e,t.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*Yo:0}function Ei(t,e){return t[0]*e[0]+t[1]*e[1]}function Pi(t){var e=Math.sqrt(Ei(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Fi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Ri(t){return t.length?t.pop()+",":""}function Wi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Yi(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(Ri(n)+"rotate(",null,")")-2,x:vi(t,e)})):e&&n.push(Ri(n)+"rotate("+e+")")}function Ui(t,e,n,i){t!==e?i.push({i:n.push(Ri(n)+"skewX(",null,")")-2,x:vi(t,e)}):e&&n.push(Ri(n)+"skewX("+e+")")}function Xi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Ri(n)+"scale(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Ri(n)+"scale("+e+")")}function Hi(t,e){var n=[],i=[];return t=so.transform(t),e=so.transform(e),Wi(t.translate,e.translate,n,i),Yi(t.rotate,e.rotate,n,i),Ui(t.skew,e.skew,n,i),Xi(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,a=i.length;++r<a;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function Vi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ji(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function $i(t){for(var e=t.source,n=t.target,i=Ki(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function Qi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Ki(t,e){if(t===e)return t;for(var n=Qi(t),i=Qi(e),r=n.pop(),a=i.pop(),o=null;r===a;)o=r,r=n.pop(),a=i.pop();return o}function qi(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function nr(t){t.fixed&=-5}function ir(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)a=o[l],null!=a&&(ir(a,e,n),t.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,r+=u*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function rr(t,e){return so.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=cr,t}function ar(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function or(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(a=t.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(t=i.pop());)e(t)}function sr(t){return t.children}function lr(t){return t.value}function ur(t,e){return e.value-t.value}function cr(t){return so.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function hr(t){return t.x}function fr(t){return t.y}function dr(t,e,n){t.y0=e,t.y=n}function gr(t){return so.range(t.length)}function pr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function mr(t){for(var e,n=1,i=0,r=t[0][1],a=t.length;a>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function vr(t){return t.reduce(yr,0)}function yr(t,e){return t+e[1]}function Ir(t,e){return Cr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Cr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,a=[];++n<=e;)a[n]=r*n+i;return a}function br(t){return[so.min(t),so.max(t)]}function xr(t,e){return t.value-e.value}function Ar(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function wr(t,e){t._pack_next=e,e._pack_prev=t}function _r(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Mr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(u=n.length)){var n,i,r,a,o,s,l,u,c=1/0,h=-(1/0),f=1/0,d=-(1/0);if(n.forEach(Nr),i=n[0],i.x=-i.r,i.y=0,e(i),u>1&&(r=n[1],r.x=r.r,r.y=0,e(r),u>2))for(a=n[2],kr(i,r,a),e(a),Ar(i,a),i._pack_prev=a,Ar(a,r),r=i._pack_next,o=3;u>o;o++){kr(i,r,a=n[o]);var g=0,p=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,p++)if(_r(s,a)){g=1;break}if(1==g)for(l=i._pack_prev;l!==s._pack_prev&&!_r(l,a);l=l._pack_prev,m++);g?(m>p||p==m&&r.r<i.r?wr(i,r=s):wr(i=l,r),o--):(Ar(i,a),r=a,e(a))}var v=(c+h)/2,y=(f+d)/2,I=0;for(o=0;u>o;o++)a=n[o],a.x-=v,a.y-=y,I=Math.max(I,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=I,n.forEach(Sr)}}function Nr(t){t._pack_next=t._pack_prev=t}function Sr(t){delete t._pack_next,delete t._pack_prev}function Dr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var a=-1,o=r.length;++a<o;)Dr(r[a],e,n,i)}function kr(t,e,n){var i=t.r+n.r,r=e.x-t.x,a=e.y-t.y;if(i&&(r||a)){var o=e.r+n.r,s=r*r+a*a;o*=o,i*=i;var l=.5+(i-o)/(2*s),u=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=t.x+l*r+u*a,n.y=t.y+l*a-u*r}else n.x=t.x+i,n.y=t.y}function Tr(t,e){return t.parent==e.parent?1:2}function jr(t){var e=t.children;return e.length?e[0]:t.t}function zr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Lr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Br(t){for(var e,n=0,i=0,r=t.children,a=r.length;--a>=0;)e=r[a],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Gr(t,e,n){return t.a.parent===e.parent?t.a:n}function Or(t){return 1+so.max(t,function(t){return t.y})}function Zr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Er(t){var e=t.children;return e&&e.length?Er(e[0]):t}function Pr(t){var e,n=t.children;return n&&(e=n.length)?Pr(n[e-1]):t}function Fr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Rr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>a&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function Wr(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Yr(t){return t.rangeExtent?t.rangeExtent():Wr(t.range())}function Ur(t,e,n,i){var r=n(t[0],t[1]),a=i(e[0],e[1]);return function(t){return a(r(t))}}function Xr(t,e){var n,i=0,r=t.length-1,a=t[i],o=t[r];return a>o&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}function Hr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:wl}function Vr(t,e,n,i){var r=[],a=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)r.push(n(t[o-1],t[o])),a.push(i(e[o-1],e[o]));return function(e){var n=so.bisect(t,e,1,s)-1;return a[n](r[n](e))}}function Jr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Vr:Ur,l=i?Ji:Vi;return o=r(t,e,l,n),s=r(e,t,l,Ii),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.rangeRound=function(t){return a.range(t).interpolate(Oi)},a.clamp=function(t){return arguments.length?(i=t,r()):i},a.interpolate=function(t){return arguments.length?(n=t,r()):n},a.ticks=function(e){return qr(t,e)},a.tickFormat=function(e,n){return ta(t,e,n)},a.nice=function(e){return Qr(t,e),r()},a.copy=function(){return Jr(t,e,n,i)},r()}function $r(t,e){return so.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Qr(t,e){return Xr(t,Hr(Kr(t,e)[2])),Xr(t,Hr(Kr(t,e)[2])),t}function Kr(t,e){null==e&&(e=10);var n=Wr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),a=e/i*r;return.15>=a?r*=10:.35>=a?r*=5:.75>=a&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function qr(t,e){return so.range.apply(so,Kr(t,e))}function ta(t,e,n){var i=Kr(t,e);if(n){var r=fs.exec(n);if(r.shift(),"s"===r[8]){var a=so.formatPrefix(Math.max(Co(i[0]),Co(i[1])));return r[7]||(r[7]="."+ea(a.scale(i[2]))),r[8]="f",n=so.format(r.join("")),function(t){return n(a.scale(t))+a.symbol}}r[7]||(r[7]="."+na(r[8],i)),n=r.join("")}else n=",."+ea(i[2])+"f";return so.format(n)}function ea(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function na(t,e){var n=ea(e[2]);return t in _l?Math.abs(n-ea(Math.max(Co(e[0]),Co(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ia(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(r(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),o):i},o.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),o):e},o.nice=function(){var e=Xr(i.map(r),n?Math:Nl);return t.domain(e),i=e.map(a),o},o.ticks=function(){var t=Wr(i),o=[],s=t[0],l=t[1],u=Math.floor(r(s)),c=Math.ceil(r(l)),h=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var f=1;h>f;f++)o.push(a(u)*f);o.push(a(u))}else for(o.push(a(u));u++<c;)for(var f=h-1;f>0;f--)o.push(a(u)*f);for(u=0;o[u]<s;u++);for(c=o.length;o[c-1]>l;c--);o=o.slice(u,c)}return o},o.tickFormat=function(t,n){if(!arguments.length)return Ml;arguments.length<2?n=Ml:"function"!=typeof n&&(n=so.format(n));var i=Math.max(1,e*t/o.ticks().length);return function(t){var o=t/a(Math.round(r(t)));return e-.5>o*e&&(o*=e),i>=o?n(t):""}},o.copy=function(){return ia(t.copy(),e,n,i)},$r(o,t)}function ra(t,e,n){function i(e){return t(r(e))}var r=aa(e),a=aa(1/e);return i.invert=function(e){return a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return qr(n,t)},i.tickFormat=function(t,e){return ta(n,t,e)},i.nice=function(t){return i.domain(Qr(n,t))},i.exponent=function(o){return arguments.length?(r=aa(e=o),a=aa(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return ra(t.copy(),e,n)},$r(i,t)}function aa(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function oa(t,e){function n(n){return a[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%a.length]}function i(e,n){return so.range(t.length).map(function(t){return e+n*t})}var r,a,o;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new u;for(var a,o=-1,s=i.length;++o<s;)r.has(a=i[o])||r.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,o=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],u=r[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return a=i(l+c*s/2,c),o=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],u=r[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return a=i(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),o=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=r[1]<r[0],c=r[u-0],h=r[1-u],f=(h-c)/(t.length-s+2*l);return a=i(c+f*l,f),u&&a.reverse(),o=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=r[1]<r[0],c=r[u-0],h=r[1-u],f=Math.floor((h-c)/(t.length-s+2*l));return a=i(c+Math.round((h-c-(t.length-s)*f)/2),f),u&&a.reverse(),o=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Wr(e.a[0])},n.copy=function(){return oa(t,e)},n.domain(t)}function sa(t,e){function a(){var n=0,i=e.length;for(s=[];++n<i;)s[n-1]=so.quantile(t,n/i);return o}function o(t){return isNaN(t=+t)?void 0:e[so.bisect(s,t)]}var s;return o.domain=function(e){return arguments.length?(t=e.map(i).filter(r).sort(n),a()):t},o.range=function(t){return arguments.length?(e=t,a()):e},o.quantiles=function(){return s},o.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},o.copy=function(){return sa(t,e)},a()}function la(t,e,n){function i(e){return n[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function r(){return a=n.length/(e-t),o=n.length-1,i}var a,o;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/a+t,[e,e+1/a]},i.copy=function(){return la(t,e,n)},r()}function ua(t,e){function n(n){return n>=n?e[so.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ua(t,e)},n}function ca(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return qr(t,e)},e.tickFormat=function(e,n){return ta(t,e,n)},e.copy=function(){return ca(t)},e}function ha(){return 0}function fa(t){return t.innerRadius}function da(t){return t.outerRadius}function ga(t){return t.startAngle}function pa(t){return t.endAngle}function ma(t){return t&&t.padAngle}function va(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function ya(t,e,n,i,r){var a=t[0]-e[0],o=t[1]-e[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),l=s*o,u=-s*a,c=t[0]+l,h=t[1]+u,f=e[0]+l,d=e[1]+u,g=(c+f)/2,p=(h+d)/2,m=f-c,v=d-h,y=m*m+v*v,I=n-i,C=c*d-f*h,b=(0>v?-1:1)*Math.sqrt(Math.max(0,I*I*y-C*C)),x=(C*v-m*b)/y,A=(-C*m-v*b)/y,w=(C*v+m*b)/y,_=(-C*m+v*b)/y,M=x-g,N=A-p,S=w-g,D=_-p;return M*M+N*N>S*S+D*D&&(x=w,A=_),[[x-l,A-u],[x*n/I,A*n/I]]}function Ia(t){function e(e){function o(){u.push("M",a(t(c),s))}for(var l,u=[],c=[],h=-1,f=e.length,d=Mt(n),g=Mt(i);++h<f;)r.call(this,l=e[h],h)?c.push([+d.call(this,l,h),+g.call(this,l,h)]):c.length&&(o(),c=[]);return c.length&&o(),u.length?u.join(""):null}var n=Dn,i=kn,r=De,a=Ca,o=a.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=zl.get(t)||Ca).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Ca(t){return t.length>1?t.join("L"):t+"Z"}function ba(t){return t.join("L")+"Z"}function xa(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function Aa(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function wa(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function _a(t,e){return t.length<4?Ca(t):t[1]+Sa(t.slice(1,-1),Da(t,e))}function Ma(t,e){return t.length<3?ba(t):t[0]+Sa((t.push(t[0]),t),Da([t[t.length-2]].concat(t,[t[1]]),e))}function Na(t,e){return t.length<3?Ca(t):t[0]+Sa(t,Da(t,e))}function Sa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ca(t);var n=t.length!=e.length,i="",r=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<e.length;u++,l++)a=t[l],s=e[u],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=t[l];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Da(t,e){for(var n,i=[],r=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function ka(t){if(t.length<3)return Ca(t);var e=1,n=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],l=[r,",",a,"L",La(Gl,o),",",La(Gl,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),Ba(l,o,s);return t.pop(),l.push("L",i),l.join("")}function Ta(t){if(t.length<4)return Ca(t);for(var e,n=[],i=-1,r=t.length,a=[0],o=[0];++i<3;)e=t[i],a.push(e[0]),o.push(e[1]);for(n.push(La(Gl,a)+","+La(Gl,o)),--i;++i<r;)e=t[i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Ba(n,a,o);return n.join("")}function ja(t){for(var e,n,i=-1,r=t.length,a=r+4,o=[],s=[];++i<4;)n=t[i%r],o.push(n[0]),s.push(n[1]);for(e=[La(Gl,o),",",La(Gl,s)],--i;++i<a;)n=t[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Ba(e,o,s);return e.join("")}function za(t,e){var n=t.length-1;if(n)for(var i,r,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(a+r*s),i[1]=e*i[1]+(1-e)*(o+r*l);return ka(t)}function La(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ba(t,e,n){t.push("C",La(Ll,e),",",La(Ll,n),",",La(Bl,e),",",La(Bl,n),",",La(Gl,e),",",La(Gl,n))}function Ga(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Oa(t){for(var e=0,n=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=Ga(r,a);++e<n;)i[e]=(o+(o=Ga(r=a,a=t[e+1])))/2;return i[e]=o,i}function Za(t){for(var e,n,i,r,a=[],o=Oa(t),s=-1,l=t.length-1;++s<l;)e=Ga(t[s],t[s+1]),Co(e)<Oo?o[s]=o[s+1]=0:(n=o[s]/e,i=o[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));for(s=-1;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}function Ea(t){return t.length<3?Ca(t):t[0]+Sa(t,Za(t))}function Pa(t){for(var e,n,i,r=-1,a=t.length;++r<a;)e=t[r],n=e[0],i=e[1]-Ro,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Fa(t){function e(e){function l(){p.push("M",s(t(v),h),c,u(t(m.reverse()),h),"Z")}for(var f,d,g,p=[],m=[],v=[],y=-1,I=e.length,C=Mt(n),b=Mt(r),x=n===i?function(){return d}:Mt(i),A=r===a?function(){return g}:Mt(a);++y<I;)o.call(this,f=e[y],y)?(m.push([d=+C.call(this,f,y),g=+b.call(this,f,y)]),v.push([+x.call(this,f,y),+A.call(this,f,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),p.length?p.join(""):null}var n=Dn,i=Dn,r=0,a=kn,o=De,s=Ca,l=s.key,u=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=a=t,e):a},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=zl.get(t)||Ca).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Ra(t){return t.radius}function Wa(t){return[t.x,t.y]}function Ya(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Ro;return[n*Math.cos(i),n*Math.sin(i)]}}function Ua(){return 64}function Xa(){return"circle"}function Ha(t){var e=Math.sqrt(t/Eo);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Va(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function Ja(t,e,n){return _o(t,Wl),t.namespace=e,t.id=n,t}function $a(t,e,n,i){var r=t.id,a=t.namespace;return W(t,"function"==typeof n?function(t,o,s){t[a][r].tween.set(e,i(n.call(t,t.__data__,o,s)))}:(n=i(n),function(t){t[a][r].tween.set(e,n)}))}function Qa(t){return null==t&&(t=""),function(){this.textContent=t}}function Ka(t){return null==t?"__transition__":"__transition_"+t+"__"}function qa(t,e,n,i,r){function a(t){var e=p.delay;return c.t=e+l,t>=e?o(t-e):void(c.c=o)}function o(n){var r=g.active,a=g[r];a&&(a.timer.c=null,a.timer.t=NaN,--g.count,delete g[r],a.event&&a.event.interrupt.call(t,t.__data__,a.index));for(var o in g)if(i>+o){var u=g[o];u.timer.c=null,u.timer.t=NaN,--g.count,delete g[o]}c.c=s,Tt(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,l),g.active=i,p.event&&p.event.start.call(t,t.__data__,e),d=[],p.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&d.push(i)}),f=p.ease,h=p.duration}function s(r){for(var a=r/h,o=f(a),s=d.length;s>0;)d[--s].call(t,o);return a>=1?(p.event&&p.event.end.call(t,t.__data__,e),--g.count?delete g[i]:delete t[n],1):void 0}var l,c,h,f,d,g=t[n]||(t[n]={active:0,count:0}),p=g[i];p||(l=r.time,c=Tt(a,0,l),p=g[i]={tween:new u,time:l,timer:c,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++g.count)}function to(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function eo(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function no(t){return t.toISOString()}function io(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,a=so.bisect(Kl,r);return a==Kl.length?[e.year,Kr(t.map(function(t){return t/31536e6}),n)[2]]:a?e[r/Kl[a-1]<Kl[a]/r?a-1:a]:[eu,Kr(t,n)[2]]}return i.invert=function(e){return ro(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(ro)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ro(+n+1),e).length}var a=i.domain(),o=Wr(a),s=null==t?r(o,10):"number"==typeof t&&r(o,t);return s&&(t=s[0],e=s[1]),i.domain(Xr(a,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ro(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ro(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Wr(i.domain()),a=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],ro(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return io(t.copy(),e,n)},$r(i,t)}function ro(t){return new Date(t)}function ao(t){return JSON.parse(t.responseText)}function oo(t){var e=co.createRange();return e.selectNode(co.body),e.createContextualFragment(t.responseText)}var so={version:"3.5.17"},lo=[].slice,uo=function(t){return lo.call(t)},co=this.document;if(co)try{uo(co.documentElement.childNodes)[0].nodeType}catch(ho){uo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),co)try{co.createElement("DIV").style.setProperty("opacity",0,"")}catch(fo){var go=this.Element.prototype,po=go.setAttribute,mo=go.setAttributeNS,vo=this.CSSStyleDeclaration.prototype,yo=vo.setProperty;go.setAttribute=function(t,e){po.call(this,t,e+"")},go.setAttributeNS=function(t,e,n){mo.call(this,t,e,n+"")},vo.setProperty=function(t,e,n){yo.call(this,t,e+"",n)}}so.ascending=n,so.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},so.min=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},so.max=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},so.extent=function(t,e){var n,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=t[a])&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=t[a])&&(n>i&&(n=i),
i>r&&(r=i))}else{for(;++a<o;)if(null!=(i=e.call(t,t[a],a))&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=e.call(t,t[a],a))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},so.sum=function(t,e){var n,i=0,a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)r(n=+t[o])&&(i+=n);else for(;++o<a;)r(n=+e.call(t,t[o],o))&&(i+=n);return i},so.mean=function(t,e){var n,a=0,o=t.length,s=-1,l=o;if(1===arguments.length)for(;++s<o;)r(n=i(t[s]))?a+=n:--l;else for(;++s<o;)r(n=i(e.call(t,t[s],s)))?a+=n:--l;return l?a/l:void 0},so.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},so.median=function(t,e){var a,o=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)r(a=i(t[l]))&&o.push(a);else for(;++l<s;)r(a=i(e.call(t,t[l],l)))&&o.push(a);return o.length?so.quantile(o.sort(n),.5):void 0},so.variance=function(t,e){var n,a,o=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<o;)r(n=i(t[u]))&&(a=n-s,s+=a/++c,l+=a*(n-s));else for(;++u<o;)r(n=i(e.call(t,t[u],u)))&&(a=n-s,s+=a/++c,l+=a*(n-s));return c>1?l/(c-1):void 0},so.deviation=function(){var t=so.variance.apply(this,arguments);return t?Math.sqrt(t):t};var Io=a(n);so.bisectLeft=Io.left,so.bisect=so.bisectRight=Io.right,so.bisector=function(t){return a(1===t.length?function(e,i){return n(t(e),i)}:t)},so.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,2>a&&(e=0));for(var i,r,a=n-e;a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},so.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},so.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],a=new Array(0>i?0:i);i>n;)a[n]=[e=r,r=t[++n]];return a},so.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=so.min(t,o),i=new Array(n);++e<n;)for(var r,a=-1,s=i[e]=new Array(r);++a<r;)s[a]=t[a][e];return i},so.zip=function(){return so.transpose(arguments)},so.keys=function(t){var e=[];for(var n in t)e.push(n);return e},so.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},so.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},so.merge=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--o]=i[e];return n};var Co=Math.abs;so.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],a=s(Co(n)),o=-1;if(t*=a,e*=a,n*=a,0>n)for(;(i=t+n*++o)>e;)r.push(i/a);else for(;(i=t+n*++o)<e;)r.push(i/a);return r},so.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(1===arguments.length)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e.call(t,i=t[r],r),i)}else for(var o in t)n.set(o,t[o]);return n};var bo="__proto__",xo="\x00";l(u,{has:f,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:d,keys:g,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:p,empty:m,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),so.nest=function(){function t(e,o,s){if(s>=a.length)return i?i.call(r,o):n?o.sort(n):o;for(var l,c,h,f,d=-1,g=o.length,p=a[s++],m=new u;++d<g;)(f=m.get(l=p(c=o[d])))?f.push(c):m.set(l,[c]);return e?(c=e(),h=function(n,i){c.set(n,t(e,i,s))}):(c={},h=function(n,i){c[n]=t(e,i,s)}),m.forEach(h),c}function e(t,n){if(n>=a.length)return t;var i=[],r=o[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},a=[],o=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(so.map,n,0),0)},r.key=function(t){return a.push(t),r},r.sortKeys=function(t){return o[a.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},so.set=function(t){var e=new v;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},l(v,{has:f,add:function(t){return this._[c(t+="")]=!0,t},remove:d,values:g,size:p,empty:m,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),so.behavior={},so.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=I(t,e,e[n]);return t};var Ao=["webkit","ms","moz","Moz","o","O"];so.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=A(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},so.event=null,so.requote=function(t){return t.replace(wo,"\\$&")};var wo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_o={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Mo=function(t,e){return e.querySelector(t)},No=function(t,e){return e.querySelectorAll(t)},So=function(t,e){var n=t.matches||t[C(t,"matchesSelector")];return(So=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Mo=function(t,e){return Sizzle(t,e)[0]||null},No=Sizzle,So=Sizzle.matchesSelector),so.selection=function(){return so.select(co.documentElement)};var Do=so.selection.prototype=[];Do.select=function(t){var e,n,i,r,a=[];t=S(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return N(a)},Do.selectAll=function(t){var e,n,i=[];t=D(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,l=o.length;++s<l;)(n=o[s])&&(i.push(e=uo(t.call(n,n.__data__,s,r))),e.parentNode=n);return N(i)};var ko="http://www.w3.org/1999/xhtml",To={svg:"http://www.w3.org/2000/svg",xhtml:ko,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};so.ns={prefix:To,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),To.hasOwnProperty(n)?{space:To[n],local:t}:t}},Do.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=so.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(k(e,t[e]));return this}return this.each(k(t,e))},Do.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=z(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!j(t[r]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},Do.style=function(t,n,i){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(i in t)this.each(G(i,t[i],n));return this}if(2>r){var a=this.node();return e(a).getComputedStyle(a,null).getPropertyValue(t)}i=""}return this.each(G(t,n,i))},Do.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(O(e,t[e]));return this}return this.each(O(t,e))},Do.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Do.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Do.append=function(t){return t=Z(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Do.insert=function(t,e){return t=Z(t),e=S(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Do.remove=function(){return this.each(E)},Do.data=function(t,e){function n(t,n){var i,r,a,o=t.length,h=n.length,f=Math.min(o,h),d=new Array(h),g=new Array(h),p=new Array(o);if(e){var m,v=new u,y=new Array(o);for(i=-1;++i<o;)(r=t[i])&&(v.has(m=e.call(r,r.__data__,i))?p[i]=r:v.set(m,r),y[i]=m);for(i=-1;++i<h;)(r=v.get(m=e.call(n,a=n[i],i)))?r!==!0&&(d[i]=r,r.__data__=a):g[i]=P(a),v.set(m,!0);for(i=-1;++i<o;)i in y&&v.get(y[i])!==!0&&(p[i]=t[i])}else{for(i=-1;++i<f;)r=t[i],a=n[i],r?(r.__data__=a,d[i]=r):g[i]=P(a);for(;h>i;++i)g[i]=P(n[i]);for(;o>i;++i)p[i]=t[i]}g.update=d,g.parentNode=d.parentNode=p.parentNode=t.parentNode,s.push(g),l.push(d),c.push(p)}var i,r,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(i=this[0]).length);++a<o;)(r=i[a])&&(t[a]=r.__data__);return t}var s=Y([]),l=N([]),c=N([]);if("function"==typeof t)for(;++a<o;)n(i=this[a],t.call(i,i.parentNode.__data__,a));else for(;++a<o;)n(i=this[a],t);return l.enter=function(){return s},l.exit=function(){return c},l},Do.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Do.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=F(t));for(var a=0,o=this.length;o>a;a++){r.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;l>s;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return N(r)},Do.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Do.sort=function(t){t=R.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Do.each=function(t){return W(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Do.call=function(t){var e=uo(arguments);return t.apply(e[0]=this,e),this},Do.empty=function(){return!this.node()},Do.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var a=n[i];if(a)return a}return null},Do.size=function(){var t=0;return W(this,function(){++t}),t};var jo=[];so.selection.enter=Y,so.selection.enter.prototype=jo,jo.append=Do.append,jo.empty=Do.empty,jo.node=Do.node,jo.call=Do.call,jo.size=Do.size,jo.select=function(t){for(var e,n,i,r,a,o=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(a=r[u])?(e.push(i[u]=n=t.call(r.parentNode,a.__data__,u,s)),n.__data__=a.__data__):e.push(null)}return N(o)},jo.insert=function(t,e){return arguments.length<2&&(e=U(this)),Do.insert.call(this,t,e)},so.select=function(e){var n;return"string"==typeof e?(n=[Mo(e,co)],n.parentNode=co.documentElement):(n=[e],n.parentNode=t(e)),N([n])},so.selectAll=function(t){var e;return"string"==typeof t?(e=uo(No(t,co)),e.parentNode=co.documentElement):(e=uo(t),e.parentNode=null),N([e])},Do.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(X(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(X(t,e,n))};var zo=so.map({mouseenter:"mouseover",mouseleave:"mouseout"});co&&zo.forEach(function(t){"on"+t in co&&zo.remove(t)});var Lo,Bo=0;so.mouse=function(t){return $(t,_())};var Go=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;so.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=_().changedTouches),e)for(var i,r=0,a=e.length;a>r;++r)if((i=e[r]).identifier===n)return $(t,i)},so.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",o)}function n(t,e,n,a,o){return function(){function s(){var t,n,i=e(f,p);i&&(t=i[0]-I[0],n=i[1]-I[1],g|=t|n,I=i,d({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:t,dy:n}))}function l(){e(f,p)&&(v.on(a+m,null).on(o+m,null),y(g),d({type:"dragend"}))}var u,c=this,h=so.event.target.correspondingElement||so.event.target,f=c.parentNode,d=i.of(c,arguments),g=0,p=t(),m=".drag"+(null==p?"":"-"+p),v=so.select(n(h)).on(a+m,s).on(o+m,l),y=J(h),I=e(f,p);r?(u=r.apply(c,arguments),u=[u.x-I[0],u.y-I[1]]):u=[0,0],d({type:"dragstart"})}}var i=M(t,"drag","dragstart","dragend"),r=null,a=n(b,so.mouse,e,"mousemove","mouseup"),o=n(Q,so.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},so.rebind(t,i,"on")},so.touches=function(t,e){return arguments.length<2&&(e=_().touches),e?uo(e).map(function(e){var n=$(t,e);return n.identifier=e.identifier,n}):[]};var Oo=1e-6,Zo=Oo*Oo,Eo=Math.PI,Po=2*Eo,Fo=Po-Oo,Ro=Eo/2,Wo=Eo/180,Yo=180/Eo,Uo=Math.SQRT2,Xo=2,Ho=4;so.interpolateZoom=function(t,e){var n,i,r=t[0],a=t[1],o=t[2],s=e[0],l=e[1],u=e[2],c=s-r,h=l-a,f=c*c+h*h;if(Zo>f)i=Math.log(u/o)/Uo,n=function(t){return[r+t*c,a+t*h,o*Math.exp(Uo*t*i)]};else{var d=Math.sqrt(f),g=(u*u-o*o+Ho*f)/(2*o*Xo*d),p=(u*u-o*o-Ho*f)/(2*u*Xo*d),m=Math.log(Math.sqrt(g*g+1)-g),v=Math.log(Math.sqrt(p*p+1)-p);i=(v-m)/Uo,n=function(t){var e=t*i,n=it(m),s=o/(Xo*d)*(n*rt(Uo*e+m)-nt(m));return[r+s*c,a+s*h,o*n/it(Uo*e+m)]}}return n.duration=1e3*i,n},so.behavior.zoom=function(){function t(t){t.on(T,h).on(Jo+".zoom",d).on("dblclick.zoom",g).on(L,f)}function n(t){return[(t[0]-_.x)/_.k,(t[1]-_.y)/_.k]}function i(t){return[t[0]*_.k+_.x,t[1]*_.k+_.y]}function r(t){_.k=Math.max(S[0],Math.min(S[1],t))}function a(t,e){e=i(e),_.x+=t[0]-e[0],_.y+=t[1]-e[1]}function o(e,n,i,o){e.__chart__={x:_.x,y:_.y,k:_.k},r(Math.pow(2,o)),a(m=n,i),e=so.select(e),D>0&&(e=e.transition().duration(D)),e.call(t.event)}function s(){b&&b.domain(C.range().map(function(t){return(t-_.x)/_.k}).map(C.invert)),A&&A.domain(x.range().map(function(t){return(t-_.y)/_.k}).map(x.invert))}function l(t){k++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:_.k,translate:[_.x,_.y]})}function c(t){--k||(t({type:"zoomend"}),m=null)}function h(){function t(){s=1,a(so.mouse(r),f),u(o)}function i(){h.on(j,null).on(z,null),d(s),c(o)}var r=this,o=B.of(r,arguments),s=0,h=so.select(e(r)).on(j,t).on(z,i),f=n(so.mouse(r)),d=J(r);Rl.call(r),l(o)}function f(){function t(){var t=so.touches(g);return d=_.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=so.event.target;so.select(e).on(C,i).on(b,s),x.push(e);for(var n=so.event.changedTouches,r=0,a=n.length;a>r;++r)m[n[r].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(500>u-I){var c=l[0];o(g,c,m[c.identifier],Math.floor(Math.log(_.k)/Math.LN2)+1),w()}I=u}else if(l.length>1){var c=l[0],h=l[1],f=c[0]-h[0],d=c[1]-h[1];v=f*f+d*d}}function i(){var t,e,n,i,o=so.touches(g);Rl.call(g);for(var s=0,l=o.length;l>s;++s,i=null)if(n=o[s],i=m[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(h*d)}I=null,a(t,e),u(p)}function s(){if(so.event.touches.length){for(var e=so.event.changedTouches,n=0,i=e.length;i>n;++n)delete m[e[n].identifier];for(var r in m)return void t()}so.selectAll(x).on(y,null),A.on(T,h).on(L,f),M(),c(p)}var d,g=this,p=B.of(g,arguments),m={},v=0,y=".zoom-"+so.event.changedTouches[0].identifier,C="touchmove"+y,b="touchend"+y,x=[],A=so.select(g),M=J(g);e(),l(p),A.on(T,null).on(L,e)}function d(){var t=B.of(this,arguments);y?clearTimeout(y):(Rl.call(this),p=n(m=v||so.mouse(this)),l(t)),y=setTimeout(function(){y=null,c(t)},50),w(),r(Math.pow(2,.002*Vo())*_.k),a(m,p),u(t)}function g(){var t=so.mouse(this),e=Math.log(_.k)/Math.LN2;o(this,t,n(t),so.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var p,m,v,y,I,C,b,x,A,_={x:0,y:0,k:1},N=[960,500],S=$o,D=250,k=0,T="mousedown.zoom",j="mousemove.zoom",z="mouseup.zoom",L="touchstart.zoom",B=M(t,"zoomstart","zoom","zoomend");return Jo||(Jo="onwheel"in co?(Vo=function(){return-so.event.deltaY*(so.event.deltaMode?120:1)},"wheel"):"onmousewheel"in co?(Vo=function(){return so.event.wheelDelta},"mousewheel"):(Vo=function(){return-so.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=B.of(this,arguments),e=_;Pl?so.select(this).transition().each("start.zoom",function(){_=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=N[0],i=N[1],r=m?m[0]:n/2,a=m?m[1]:i/2,o=so.interpolateZoom([(r-_.x)/_.k,(a-_.y)/_.k,n/_.k],[(r-e.x)/e.k,(a-e.y)/e.k,n/e.k]);return function(e){var i=o(e),s=n/i[2];this.__chart__=_={x:r-i[0]*s,y:a-i[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=_,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(_={x:+e[0],y:+e[1],k:_.k},s(),t):[_.x,_.y]},t.scale=function(e){return arguments.length?(_={x:_.x,y:_.y,k:null},r(+e),s(),t):_.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?$o:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(N=e&&[+e[0],+e[1]],t):N},t.duration=function(e){return arguments.length?(D=+e,t):D},t.x=function(e){return arguments.length?(b=e,C=e.copy(),_={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(A=e,x=e.copy(),_={x:0,y:0,k:1},t):A},so.rebind(t,B,"on")};var Vo,Jo,$o=[0,1/0];so.color=ot,ot.prototype.toString=function(){return this.rgb()+""},so.hsl=st;var Qo=st.prototype=new ot;Qo.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Qo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Qo.rgb=function(){return lt(this.h,this.s,this.l)},so.hcl=ut;var Ko=ut.prototype=new ot;Ko.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+qo*(arguments.length?t:1)))},Ko.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-qo*(arguments.length?t:1)))},Ko.rgb=function(){return ct(this.h,this.c,this.l).rgb()},so.lab=ht;var qo=18,ts=.95047,es=1,ns=1.08883,is=ht.prototype=new ot;is.brighter=function(t){return new ht(Math.min(100,this.l+qo*(arguments.length?t:1)),this.a,this.b)},is.darker=function(t){return new ht(Math.max(0,this.l-qo*(arguments.length?t:1)),this.a,this.b)},is.rgb=function(){return ft(this.l,this.a,this.b)},so.rgb=vt;var rs=vt.prototype=new ot;rs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(r,r,r)},rs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},rs.hsl=function(){return xt(this.r,this.g,this.b)},rs.toString=function(){return"#"+Ct(this.r)+Ct(this.g)+Ct(this.b)};var as=so.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});as.forEach(function(t,e){as.set(t,yt(e))}),so.functor=Mt,so.xhr=Nt(y),so.dsv=function(t,e){function n(t,n,a){arguments.length<3&&(a=n,n=null);var o=St(t,e,null==n?i:r(n),a);return o.row=function(t){return arguments.length?o.response(null==(n=t)?i:r(t)):n},o}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=u)return o;if(r)return r=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var i=t.charCodeAt(c++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var i,r,a={},o={},s=[],u=t.length,c=0,h=0;(i=n())!==o;){for(var f=[];i!==a&&i!==o;)f.push(i),i=n();e&&null==(f=e(f,h++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new v,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(o).join(t)].concat(e.map(function(e){return r.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},so.csv=so.dsv(",","text/csv"),so.tsv=so.dsv("	","text/tab-separated-values");var os,ss,ls,us,cs=this[C(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};so.timer=function(){Tt.apply(this,arguments)},so.timer.flush=function(){zt(),Lt()},so.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var hs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Gt);so.formatPrefix=function(t,e){var n=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=so.round(t,Bt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),hs[8+n/3]};var fs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ds=so.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=so.round(t,Bt(t,e))).toFixed(Math.max(0,Math.min(20,Bt(t*(1+1e-15),e))))}}),gs=so.time={},ps=Date;Et.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ms.setUTCDate.apply(this._,arguments)},setDay:function(){ms.setUTCDay.apply(this._,arguments)},setFullYear:function(){ms.setUTCFullYear.apply(this._,arguments)},setHours:function(){ms.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ms.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ms.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ms.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ms.setUTCSeconds.apply(this._,arguments)},setTime:function(){ms.setTime.apply(this._,arguments)}};var ms=Date.prototype;gs.year=Pt(function(t){return t=gs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),gs.years=gs.year.range,gs.years.utc=gs.year.utc.range,gs.day=Pt(function(t){var e=new ps(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),gs.days=gs.day.range,gs.days.utc=gs.day.utc.range,gs.dayOfYear=function(t){var e=gs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=gs[t]=Pt(function(t){return(t=gs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=gs.year(t).getDay();return Math.floor((gs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});gs[t+"s"]=n.range,gs[t+"s"].utc=n.utc.range,gs[t+"OfYear"]=function(t){var n=gs.year(t).getDay();return Math.floor((gs.dayOfYear(t)+(n+e)%7)/7)}}),gs.week=gs.sunday,gs.weeks=gs.sunday.range,gs.weeks.utc=gs.sunday.utc.range,gs.weekOfYear=gs.sundayOfYear;var vs={"-":"",_:" ",0:"0"},ys=/^\s*\d+/,Is=/^%/;so.locale=function(t){return{numberFormat:Ot(t),timeFormat:Rt(t)}};var Cs=so.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});so.format=Cs.numberFormat,so.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,bs),ce(bs.s,this.s,this),this.s?this.t+=bs.t:this.s=bs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bs=new ue;so.geo.stream=function(t,e){t&&xs.hasOwnProperty(t.type)?xs[t.type](t,e):he(t,e)};var xs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)he(n[i].geometry,e)}},As={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)he(n[i],e)}};so.geo.area=function(t){return ws=0,so.geo.stream(t,Ms),ws};var ws,_s=new ue,Ms={sphere:function(){ws+=4*Eo},point:b,lineStart:b,lineEnd:b,polygonStart:function(){_s.reset(),Ms.lineStart=ge},polygonEnd:function(){var t=2*_s;ws+=0>t?4*Eo+t:t,Ms.lineStart=Ms.lineEnd=Ms.point=b}};so.geo.bounds=function(){function t(t,e){I.push(C=[c=t,f=t]),h>e&&(h=e),e>d&&(d=e)}function e(e,n){var i=pe([e*Wo,n*Wo]);if(v){var r=ve(v,i),a=[r[1],-r[0],0],o=ve(a,r);Ce(o),o=be(o);var l=e-g,u=l>0?1:-1,p=o[0]*Yo*u,m=Co(l)>180;if(m^(p>u*g&&u*e>p)){var y=o[1]*Yo;y>d&&(d=y)}else if(p=(p+360)%360-180,m^(p>u*g&&u*e>p)){var y=-o[1]*Yo;h>y&&(h=y)}else h>n&&(h=n),n>d&&(d=n);m?g>e?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(c>e&&(c=e),e>f&&(f=e)):e>g?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);v=i,g=e}function n(){b.point=e}function i(){C[0]=c,C[1]=f,b.point=t,v=null}function r(t,n){if(v){var i=t-g;y+=Co(i)>180?i+(i>0?360:-360):i}else p=t,m=n;Ms.point(t,n),e(t,n)}function a(){Ms.lineStart()}function o(){r(p,m),Ms.lineEnd(),Co(y)>Oo&&(c=-(f=180)),C[0]=c,C[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,f,d,g,p,m,v,y,I,C,b={point:t,lineStart:n,lineEnd:i,polygonStart:function(){b.point=r,b.lineStart=a,b.lineEnd=o,y=0,Ms.polygonStart()},polygonEnd:function(){Ms.polygonEnd(),b.point=t,b.lineStart=n,b.lineEnd=i,0>_s?(c=-(f=180),h=-(d=90)):y>Oo?d=90:-Oo>y&&(h=-90),C[0]=c,C[1]=f}};return function(t){d=f=-(c=h=1/0),I=[],so.geo.stream(t,b);var e=I.length;if(e){I.sort(l);for(var n,i=1,r=I[0],a=[r];e>i;++i)n=I[i],u(n[0],r)||u(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):a.push(r=n);for(var o,n,g=-(1/0),e=a.length-1,i=0,r=a[e];e>=i;r=n,++i)n=a[i],(o=s(r[1],n[0]))>g&&(g=o,c=n[0],f=r[1])}return I=C=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[f,d]]}}(),so.geo.centroid=function(t){Ns=Ss=Ds=ks=Ts=js=zs=Ls=Bs=Gs=Os=0,so.geo.stream(t,Zs);var e=Bs,n=Gs,i=Os,r=e*e+n*n+i*i;return Zo>r&&(e=js,n=zs,i=Ls,Oo>Ss&&(e=Ds,n=ks,i=Ts),r=e*e+n*n+i*i,Zo>r)?[NaN,NaN]:[Math.atan2(n,e)*Yo,et(i/Math.sqrt(r))*Yo]};var Ns,Ss,Ds,ks,Ts,js,zs,Ls,Bs,Gs,Os,Zs={sphere:b,point:Ae,lineStart:_e,lineEnd:Me,polygonStart:function(){Zs.lineStart=Ne},polygonEnd:function(){Zs.lineStart=_e}},Es=ze(De,Oe,Ee,[-Eo,-Eo/2]),Ps=1e9;so.geo.clipExtent=function(){var t,e,n,i,r,a,o={stream:function(t){return r&&(r.valid=!1),r=a(t),r.valid=!0,r},extent:function(s){return arguments.length?(a=We(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),o):[[t,e],[n,i]]}};return o.extent([[0,0],[960,500]])},(so.geo.conicEqualArea=function(){return Ye(Ue)}).raw=Ue,so.geo.albers=function(){return so.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},so.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(i(a,o),e)||r(a,o),e}var e,n,i,r,a=so.geo.albers(),o=so.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=so.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?o:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:a).invert(t)},t.stream=function(t){var e=a.stream(t),n=o.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var u=a.scale(),c=+e[0],h=+e[1];return n=a.translate(e).clipExtent([[c-.455*u,h-.238*u],[c+.455*u,h+.238*u]]).stream(l).point,i=o.translate([c-.307*u,h+.201*u]).clipExtent([[c-.425*u+Oo,h+.12*u+Oo],[c-.214*u-Oo,h+.234*u-Oo]]).stream(l).point,r=s.translate([c-.205*u,h+.212*u]).clipExtent([[c-.214*u+Oo,h+.166*u+Oo],[c-.115*u-Oo,h+.234*u-Oo]]).stream(l).point,t},t.scale(1070)};var Fs,Rs,Ws,Ys,Us,Xs,Hs={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Rs=0,Hs.lineStart=Xe},polygonEnd:function(){Hs.lineStart=Hs.lineEnd=Hs.point=b,Fs+=Co(Rs/2)}},Vs={point:He,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Js={point:$e,lineStart:Qe,lineEnd:Ke,polygonStart:function(){Js.lineStart=qe},polygonEnd:function(){Js.point=$e,Js.lineStart=Qe,Js.lineEnd=Ke}};so.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=r(a)),so.geo.stream(t,o)),
a.result()}function e(){return o=null,t}var n,i,r,a,o,s=4.5;return t.area=function(t){return Fs=0,so.geo.stream(t,r(Hs)),Fs},t.centroid=function(t){return Ds=ks=Ts=js=zs=Ls=Bs=Gs=Os=0,so.geo.stream(t,r(Js)),Os?[Bs/Os,Gs/Os]:Ls?[js/Ls,zs/Ls]:Ts?[Ds/Ts,ks/Ts]:[NaN,NaN]},t.bounds=function(t){return Us=Xs=-(Ws=Ys=1/0),so.geo.stream(t,r(Vs)),[[Ws,Ys],[Us,Xs]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||nn(t):y,e()):n},t.context=function(t){return arguments.length?(a=null==(i=t)?new Ve:new tn(t),"function"!=typeof s&&a.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),t):s},t.projection(so.geo.albersUsa()).context(null)},so.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var i in t)n[i]=t[i];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},so.geo.projection=on,so.geo.projectionMutator=sn,(so.geo.equirectangular=function(){return on(un)}).raw=un.invert=un,so.geo.rotation=function(t){function e(e){return e=t(e[0]*Wo,e[1]*Wo),e[0]*=Yo,e[1]*=Yo,e}return t=hn(t[0]%360*Wo,t[1]*Wo,t.length>2?t[2]*Wo:0),e.invert=function(e){return e=t.invert(e[0]*Wo,e[1]*Wo),e[0]*=Yo,e[1]*=Yo,e},e},cn.invert=un,so.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=hn(-t[0]*Wo,-t[1]*Wo,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Yo,t[1]*=Yo}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=pn((e=+i)*Wo,r*Wo),t):e},t.precision=function(i){return arguments.length?(n=pn(e*Wo,(r=+i)*Wo),t):r},t.angle(90)},so.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Wo,r=t[1]*Wo,a=e[1]*Wo,o=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*o)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},so.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return so.range(Math.ceil(a/m)*m,r,m).map(f).concat(so.range(Math.ceil(u/v)*v,l,v).map(d)).concat(so.range(Math.ceil(i/g)*g,n,g).filter(function(t){return Co(t%m)>Oo}).map(c)).concat(so.range(Math.ceil(s/p)*p,o,p).filter(function(t){return Co(t%v)>Oo}).map(h))}var n,i,r,a,o,s,l,u,c,h,f,d,g=10,p=g,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(d(l).slice(1),f(r).reverse().slice(1),d(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],a>r&&(e=a,a=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[a,u],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],i>n&&(e=i,i=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(y)):[[i,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(g=+e[0],p=+e[1],t):[g,p]},t.precision=function(e){return arguments.length?(y=+e,c=vn(s,o,90),h=yn(i,n,y),f=vn(u,l,90),d=yn(a,r,y),t):y},t.majorExtent([[-180,-90+Oo],[180,90-Oo]]).minorExtent([[-180,-80-Oo],[180,80+Oo]])},so.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=In,r=Cn;return t.distance=function(){return so.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},so.geo.interpolate=function(t,e){return bn(t[0]*Wo,t[1]*Wo,e[0]*Wo,e[1]*Wo)},so.geo.length=function(t){return $s=0,so.geo.stream(t,Qs),$s};var $s,Qs={sphere:b,point:b,lineStart:xn,lineEnd:b,polygonStart:b,polygonEnd:b},Ks=An(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(so.geo.azimuthalEqualArea=function(){return on(Ks)}).raw=Ks;var qs=An(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(so.geo.azimuthalEquidistant=function(){return on(qs)}).raw=qs,(so.geo.conicConformal=function(){return Ye(wn)}).raw=wn,(so.geo.conicEquidistant=function(){return Ye(_n)}).raw=_n;var tl=An(function(t){return 1/t},Math.atan);(so.geo.gnomonic=function(){return on(tl)}).raw=tl,Mn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ro]},(so.geo.mercator=function(){return Nn(Mn)}).raw=Mn;var el=An(function(){return 1},Math.asin);(so.geo.orthographic=function(){return on(el)}).raw=el;var nl=An(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(so.geo.stereographic=function(){return on(nl)}).raw=nl,Sn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ro]},(so.geo.transverseMercator=function(){var t=Nn(Sn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Sn,so.geom={},so.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Mt(n),a=Mt(i),o=t.length,s=[],l=[];for(e=0;o>e;e++)s.push([+r.call(this,t[e],e),+a.call(this,t[e],e),e]);for(s.sort(jn),e=0;o>e;e++)l.push([s[e][0],-s[e][1]]);var u=Tn(s),c=Tn(l),h=c[0]===u[0],f=c[c.length-1]===u[u.length-1],d=[];for(e=u.length-1;e>=0;--e)d.push(t[s[u[e]][2]]);for(e=+h;e<c.length-f;++e)d.push(t[s[c[e]][2]]);return d}var n=Dn,i=kn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},so.geom.polygon=function(t){return _o(t,il),t};var il=so.geom.polygon.prototype=[];il.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},il.centroid=function(t){var e,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},il.clip=function(t){for(var e,n,i,r,a,o,s=Bn(t),l=-1,u=this.length-Bn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],a=e[(i=e.length-s)-1],n=-1;++n<i;)o=e[n],zn(o,c,r)?(zn(a,c,r)||t.push(Ln(a,o,c,r)),t.push(o)):zn(a,c,r)&&t.push(Ln(a,o,c,r)),a=o;s&&t.push(t[0]),c=r}return t};var rl,al,ol,sl,ll,ul=[],cl=[];Wn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Un),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=oi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ai(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ai(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ri(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?oi(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ai(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,ai(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ai(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},so.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],a=s[1][0],o=s[1][1];return si(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=i&&u.x<=a&&u.y>=r&&u.y<=o?[[i,o],[a,o],[a,r],[i,r]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/Oo)*Oo,y:Math.round(o(t,e)/Oo)*Oo,i:e}})}var i=Dn,r=kn,a=i,o=r,s=hl;return t?e(t):(e.links=function(t){return si(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return si(n(t)).cells.forEach(function(n,i){for(var r,a,o=n.site,s=n.edges.sort(Un),l=-1,u=s.length,c=s[u-1].edge,h=c.l===o?c.r:c.l;++l<u;)r=c,a=h,c=s[l].edge,h=c.l===o?c.r:c.l,i<a.i&&i<h.i&&ui(o,a,h)<0&&e.push([t[i],t[a.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(a=Mt(i=t),e):i},e.y=function(t){return arguments.length?(o=Mt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?hl:t,e):s===hl?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===hl?null:s&&s[1]},e)};var hl=[[-1e6,-1e6],[1e6,1e6]];so.geom.delaunay=function(t){return so.geom.voronoi().triangles(t)},so.geom.quadtree=function(t,e,n,i,r){function a(t){function a(t,e,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(Co(l-n)+Co(c-i)<.01)u(t,e,n,i,r,a,o,s);else{var h=t.point;t.x=t.y=t.point=null,u(t,h,l,c,r,a,o,s),u(t,e,n,i,r,a,o,s)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,a,o,s)}function u(t,e,n,i,r,o,s,l){var u=.5*(r+s),c=.5*(o+l),h=n>=u,f=i>=c,d=f<<1|h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=fi()),h?r=u:s=u,f?o=c:l=c,a(t,e,n,i,r,o,s,l)}var c,h,f,d,g,p,m,v,y,I=Mt(s),C=Mt(l);if(null!=e)p=e,m=n,v=i,y=r;else if(v=y=-(p=m=1/0),h=[],f=[],g=t.length,o)for(d=0;g>d;++d)c=t[d],c.x<p&&(p=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),h.push(c.x),f.push(c.y);else for(d=0;g>d;++d){var b=+I(c=t[d],d),x=+C(c,d);p>b&&(p=b),m>x&&(m=x),b>v&&(v=b),x>y&&(y=x),h.push(b),f.push(x)}var A=v-p,w=y-m;A>w?y=m+A:v=p+w;var _=fi();if(_.add=function(t){a(_,t,+I(t,++d),+C(t,d),p,m,v,y)},_.visit=function(t){di(t,_,p,m,v,y)},_.find=function(t){return gi(_,t[0],t[1],p,m,v,y)},d=-1,null==e){for(;++d<g;)a(_,t[d],h[d],f[d],p,m,v,y);--d}else t.forEach(_.add);return h=f=t=c=null,_}var o,s=Dn,l=kn;return(o=arguments.length)?(s=ci,l=hi,3===o&&(r=n,i=e,n=e=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(l=t,a):l},a.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),a):null==e?null:[[e,n],[i,r]]},a.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),a):null==e?null:[i-e,r-n]},a)},so.interpolateRgb=pi,so.interpolateObject=mi,so.interpolateNumber=vi,so.interpolateString=yi;var fl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dl=new RegExp(fl.source,"g");so.interpolate=Ii,so.interpolators=[function(t,e){var n=typeof e;return("string"===n?as.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?pi:yi:e instanceof ot?pi:Array.isArray(e)?Ci:"object"===n&&isNaN(e)?mi:vi)(t,e)}],so.interpolateArray=Ci;var gl=function(){return y},pl=so.map({linear:gl,poly:Ni,quad:function(){return wi},cubic:function(){return _i},sin:function(){return Si},exp:function(){return Di},circle:function(){return ki},elastic:Ti,back:ji,bounce:function(){return zi}}),ml=so.map({"in":y,out:xi,"in-out":Ai,"out-in":function(t){return Ai(xi(t))}});so.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=pl.get(n)||gl,i=ml.get(i)||y,bi(i(n.apply(null,lo.call(arguments,1))))},so.interpolateHcl=Li,so.interpolateHsl=Bi,so.interpolateLab=Gi,so.interpolateRound=Oi,so.transform=function(t){var e=co.createElementNS(so.ns.prefix.svg,"g");return(so.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Zi(n?n.matrix:vl)})(t)},Zi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vl={a:1,b:0,c:0,d:1,e:0,f:0};so.interpolateTransform=Hi,so.layout={},so.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push($i(t[n]));return e}},so.layout.chord=function(){function t(){var t,u,h,f,d,g={},p=[],m=so.range(a),v=[];for(n=[],i=[],t=0,f=-1;++f<a;){for(u=0,d=-1;++d<a;)u+=r[f][d];p.push(u),v.push(so.range(a)),t+=u}for(o&&m.sort(function(t,e){return o(p[t],p[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Po-c*a)/t,u=0,f=-1;++f<a;){for(h=u,d=-1;++d<a;){var y=m[f],I=v[y][d],C=r[y][I],b=u,x=u+=C*t;g[y+"-"+I]={index:y,subindex:I,startAngle:b,endAngle:x,value:C}}i[y]={index:y,startAngle:h,endAngle:u,value:p[y]},u+=c}for(f=-1;++f<a;)for(d=f-1;++d<a;){var A=g[f+"-"+d],w=g[d+"-"+f];(A.value||w.value)&&n.push(A.value<w.value?{source:w,target:A}:{source:A,target:w})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,a,o,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(a=(r=t)&&r.length,n=i=null,u):r},u.padding=function(t){return arguments.length?(c=t,n=i=null,u):c},u.sortGroups=function(t){return arguments.length?(o=t,n=i=null,u):o},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},so.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=r-n,l=a*a+o*o;if(l>s*s/v){if(p>l){var u=e.charge/l;t.px-=a*u,t.py-=o*u}return!0}if(e.point&&l&&p>l){var u=e.pointCharge/l;t.px-=a*u,t.py-=o*u}}return!e.charge}}function e(t){t.px=so.event.x,t.py=so.event.y,l.resume()}var n,i,r,a,o,s,l={},u=so.dispatch("start","tick","end"),c=[1,1],h=.9,f=yl,d=Il,g=-30,p=Cl,m=.1,v=.64,I=[],C=[];return l.tick=function(){if((r*=.99)<.005)return n=null,u.end({type:"end",alpha:r=0}),!0;var e,i,l,f,d,p,v,y,b,x=I.length,A=C.length;for(i=0;A>i;++i)l=C[i],f=l.source,d=l.target,y=d.x-f.x,b=d.y-f.y,(p=y*y+b*b)&&(p=r*o[i]*((p=Math.sqrt(p))-a[i])/p,y*=p,b*=p,d.x-=y*(v=f.weight+d.weight?f.weight/(f.weight+d.weight):.5),d.y-=b*v,f.x+=y*(v=1-v),f.y+=b*v);if((v=r*m)&&(y=c[0]/2,b=c[1]/2,i=-1,v))for(;++i<x;)l=I[i],l.x+=(y-l.x)*v,l.y+=(b-l.y)*v;if(g)for(ir(e=so.geom.quadtree(I),r,s),i=-1;++i<x;)(l=I[i]).fixed||e.visit(t(l));for(i=-1;++i<x;)l=I[i],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*h,l.y-=(l.py-(l.py=l.y))*h);u.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(I=t,l):I},l.links=function(t){return arguments.length?(C=t,l):C},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.friction=function(t){return arguments.length?(h=+t,l):h},l.charge=function(t){return arguments.length?(g="function"==typeof t?t:+t,l):g},l.chargeDistance=function(t){return arguments.length?(p=t*t,l):Math.sqrt(p)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:r=0})):t>0&&(u.start({type:"start",alpha:r=t}),n=Tt(l.tick)),l):r},l.start=function(){function t(t,i){if(!n){for(n=new Array(r),l=0;r>l;++l)n[l]=[];for(l=0;u>l;++l){var a=C[l];n[a.source.index].push(a.target),n[a.target.index].push(a.source)}}for(var o,s=n[e],l=-1,c=s.length;++l<c;)if(!isNaN(o=s[l][t]))return o;return Math.random()*i}var e,n,i,r=I.length,u=C.length,h=c[0],p=c[1];for(e=0;r>e;++e)(i=I[e]).index=e,i.weight=0;for(e=0;u>e;++e)i=C[e],"number"==typeof i.source&&(i.source=I[i.source]),"number"==typeof i.target&&(i.target=I[i.target]),++i.source.weight,++i.target.weight;for(e=0;r>e;++e)i=I[e],isNaN(i.x)&&(i.x=t("x",h)),isNaN(i.y)&&(i.y=t("y",p)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(a=[],"function"==typeof f)for(e=0;u>e;++e)a[e]=+f.call(this,C[e],e);else for(e=0;u>e;++e)a[e]=f;if(o=[],"function"==typeof d)for(e=0;u>e;++e)o[e]=+d.call(this,C[e],e);else for(e=0;u>e;++e)o[e]=d;if(s=[],"function"==typeof g)for(e=0;r>e;++e)s[e]=+g.call(this,I[e],e);else for(e=0;r>e;++e)s[e]=g;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return i||(i=so.behavior.drag().origin(y).on("dragstart.force",qi).on("drag.force",e).on("dragend.force",tr)),arguments.length?void this.on("mouseover.force",er).on("mouseout.force",nr).call(i):i},so.rebind(l,u,"on")};var yl=20,Il=1,Cl=1/0;so.layout.hierarchy=function(){function t(r){var a,o=[r],s=[];for(r.depth=0;null!=(a=o.pop());)if(s.push(a),(u=n.call(t,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=a,c.depth=a.depth+1;i&&(a.value=0),a.children=u}else i&&(a.value=+i.call(t,a,a.depth)||0),delete a.children;return or(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=ur,n=sr,i=lr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(ar(e,function(t){t.children&&(t.value=0)}),or(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},so.layout.partition=function(){function t(e,n,i,r){var a=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,a&&(o=a.length)){var o,s,l,u=-1;for(i=e.value?i/e.value:0;++u<o;)t(s=a[u],n,l=s.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,e(n[a]));return 1+i}function n(n,a){var o=i.call(this,n,a);return t(o[0],0,r[0],r[1]/e(o[0])),o}var i=so.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},rr(n,i)},so.layout.pie=function(){function t(o){var s,l=o.length,u=o.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof r?r.apply(this,arguments):r)-c,f=Math.min(Math.abs(h)/l,+("function"==typeof a?a.apply(this,arguments):a)),d=f*(0>h?-1:1),g=so.sum(u),p=g?(h-l*d)/g:0,m=so.range(l),v=[];return null!=n&&m.sort(n===bl?function(t,e){return u[e]-u[t]}:function(t,e){return n(o[t],o[e])}),m.forEach(function(t){v[t]={data:o[t],value:s=u[t],startAngle:c,endAngle:c+=s*p+d,padAngle:f}}),v}var e=Number,n=bl,i=0,r=Po,a=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(a=e,t):a},t};var bl={};so.layout.stack=function(){function t(s,l){if(!(f=s.length))return s;var u=s.map(function(n,i){return e.call(t,n,i)}),c=u.map(function(e){return e.map(function(e,n){return[a.call(t,e,n),o.call(t,e,n)]})}),h=n.call(t,c,l);u=so.permute(u,h),c=so.permute(c,h);var f,d,g,p,m=i.call(t,c,l),v=u[0].length;for(g=0;v>g;++g)for(r.call(t,u[0][g],p=m[g],c[0][g][1]),d=1;f>d;++d)r.call(t,u[d][g],p+=c[d-1][g][1],c[d][g][1]);return s}var e=y,n=gr,i=pr,r=dr,a=hr,o=fr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:xl.get(e)||gr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:Al.get(e)||pr,t):i},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(r=e,t):r},t};var xl=so.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(mr),a=t.map(vr),o=so.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,u=[],c=[];for(e=0;i>e;++e)n=o[e],l>s?(s+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return so.range(t.length).reverse()},"default":gr}),Al=so.map({silhouette:function(t){var e,n,i,r=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;a>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>s&&(s=i),o.push(i)}for(n=0;a>n;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,i,r,a,o,s,l,u,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=l=u=0,n=1;f>n;++n){for(e=0,r=0;c>e;++e)r+=t[e][n][1];for(e=0,a=0,s=h[n][0]-h[n-1][0];c>e;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)o+=(t[i][n][1]-t[i][n-1][1])/s;a+=o*t[e][n][1]}d[n]=l-=r?a/r*s:0,u>l&&(u=l)}for(n=0;f>n;++n)d[n]-=u;return d},expand:function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;a>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s},zero:pr});so.layout.histogram=function(){function t(t,a){for(var o,s,l=[],u=t.map(n,this),c=i.call(this,u,a),h=r.call(this,c,u,a),a=-1,f=u.length,d=h.length-1,g=e?1:1/f;++a<d;)o=l[a]=[],o.dx=h[a+1]-(o.x=h[a]),o.y=0;if(d>0)for(a=-1;++a<f;)s=u[a],s>=c[0]&&s<=c[1]&&(o=l[so.bisect(h,s,1,d)-1],o.y+=g,o.push(t[a]));return l}var e=!0,n=Number,i=br,r=Ir;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Mt(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return Cr(t,e)}:Mt(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},so.layout.pack=function(){function t(t,a){var o=n.call(this,t,a),s=o[0],l=r[0],u=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,or(s,function(t){t.r=+c(t.value)}),or(s,Mr),i){var h=i*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;or(s,function(t){t.r+=h}),or(s,Mr),or(s,function(t){t.r-=h})}return Dr(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),o}var e,n=so.layout.hierarchy().sort(xr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},rr(t,n)},so.layout.tree=function(){function t(t,r){var c=o.call(this,t,r),h=c[0],f=e(h);if(or(f,n),f.parent.m=-f.z,ar(f,i),u)ar(h,a);else{var d=h,g=h,p=h;ar(h,function(t){t.x<d.x&&(d=t),t.x>g.x&&(g=t),t.depth>p.depth&&(p=t)});var m=s(d,g)/2-d.x,v=l[0]/(g.x+s(g,d)/2+m),y=l[1]/(p.depth||1);ar(h,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,a=e.children,o=0,s=a.length;s>o;++o)i.push((a[o]=r={_:a[o],parent:e,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Br(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,a=t,o=e,l=r.parent.children[0],u=r.m,c=a.m,h=o.m,f=l.m;o=zr(o),r=jr(r),o&&r;)l=jr(l),a=zr(a),a.a=t,i=o.z+h-r.z-u+s(o._,r._),i>0&&(Lr(Gr(o,t,n),t,i),u+=i,c+=i),h+=o.m,u+=r.m,f+=l.m,c+=a.m;o&&!zr(a)&&(a.t=o,a.m+=h-c),r&&!jr(l)&&(l.t=r,l.m+=u-f,n=t)}return n}function a(t){t.x*=l[0],t.y=t.depth*l[1]}var o=so.layout.hierarchy().sort(null).value(null),s=Tr,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?a:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:a,t):u?l:null},rr(t,o)},so.layout.cluster=function(){function t(t,a){var o,s=e.call(this,t,a),l=s[0],u=0;or(l,function(t){var e=t.children;e&&e.length?(t.x=Zr(e),t.y=Or(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var c=Er(l),h=Pr(l),f=c.x-n(c,h)/2,d=h.x+n(h,c)/2;return or(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-f)/(d-f)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),s}var e=so.layout.hierarchy().sort(null).value(null),n=Tr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},rr(t,e)},so.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,a=t.length;++r<a;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var a=n.children;if(a&&a.length){var o,s,l,u=h(n),c=[],f=a.slice(),g=1/0,p="slice"===d?u.dx:"dice"===d?u.dy:"slice-dice"===d?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(f,u.dx*u.dy/n.value),c.area=0;(l=f.length)>0;)c.push(o=f[l-1]),c.area+=o.area,"squarify"!==d||(s=i(c,p))<=g?(f.pop(),g=s):(c.area-=c.pop().area,r(c,p,u,!1),p=Math.min(u.dx,u.dy),c.length=c.area=0,g=1/0);c.length&&(r(c,p,u,!0),c.length=c.area=0),a.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var a,o=h(e),s=i.slice(),l=[];for(t(s,o.dx*o.dy/e.value),l.area=0;a=s.pop();)l.push(a),l.area+=a.area,null!=a.z&&(r(l,a.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(a>n&&(a=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*g/i,i/(e*a*g)):1/0}function r(t,e,n,i){var r,a=-1,o=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++a<o;)r=t[a],r.x=s,r.y=u,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<o;)r=t[a],r.x=s,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function a(i){var r=o||s(i),a=r[0];return a.x=a.y=0,a.value?(a.dx=u[0],a.dy=u[1]):a.dx=a.dy=0,o&&s.revalue(a),t([a],a.dx*a.dy/a.value),(o?n:e)(a),f&&(o=r),r}var o,s=so.layout.hierarchy(),l=Math.round,u=[1,1],c=null,h=Fr,f=!1,d="squarify",g=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(u=t,a):u},a.padding=function(t){function e(e){var n=t.call(a,e,e.depth);return null==n?Fr(e):Rr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Rr(e,t)}if(!arguments.length)return c;var i;return h=null==(c=t)?Fr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,a},a.round=function(t){return arguments.length?(l=t?Math.round:Number,a):l!=Number},a.sticky=function(t){return arguments.length?(f=t,o=null,a):f},a.ratio=function(t){return arguments.length?(g=t,a):g},a.mode=function(t){return arguments.length?(d=t+"",a):d},rr(a,s)},so.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=so.random.normal.apply(so,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=so.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},so.scale={};var wl={floor:y,ceil:y};so.scale.linear=function(){return Jr([0,1],[0,1],Ii,!1)};var _l={s:1,g:1,p:1,r:1,e:1};so.scale.log=function(){return ia(so.scale.linear().domain([0,1]),10,!0,[1,10])};var Ml=so.format(".0e"),Nl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};so.scale.pow=function(){return ra(so.scale.linear(),1,[0,1])},so.scale.sqrt=function(){return so.scale.pow().exponent(.5)},so.scale.ordinal=function(){return oa([],{t:"range",a:[[]]})},so.scale.category10=function(){return so.scale.ordinal().range(Sl)},so.scale.category20=function(){return so.scale.ordinal().range(Dl)},so.scale.category20b=function(){return so.scale.ordinal().range(kl)},so.scale.category20c=function(){return so.scale.ordinal().range(Tl)};var Sl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(It),Dl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(It),kl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(It),Tl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(It);so.scale.quantile=function(){return sa([],[])},so.scale.quantize=function(){return la(0,1,[0,1])},so.scale.threshold=function(){return ua([.5],[0,1])},so.scale.identity=function(){return ca([0,1])},so.svg={},so.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=o.apply(this,arguments)-Ro,h=s.apply(this,arguments)-Ro,f=Math.abs(h-c),d=c>h?0:1;if(t>u&&(g=u,u=t,t=g),f>=Fo)return e(u,d)+(t?e(t,1-d):"")+"Z";var g,p,m,v,y,I,C,b,x,A,w,_,M=0,N=0,S=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=a===jl?Math.sqrt(t*t+u*u):+a.apply(this,arguments),d||(N*=-1),u&&(N=et(m/u*Math.sin(v))),t&&(M=et(m/t*Math.sin(v)))),u){y=u*Math.cos(c+N),I=u*Math.sin(c+N),C=u*Math.cos(h-N),b=u*Math.sin(h-N);var D=Math.abs(h-c-2*N)<=Eo?0:1;if(N&&va(y,I,C,b)===d^D){var k=(c+h)/2;y=u*Math.cos(k),I=u*Math.sin(k),C=b=null}}else y=I=0;if(t){x=t*Math.cos(h-M),A=t*Math.sin(h-M),w=t*Math.cos(c+M),_=t*Math.sin(c+M);var T=Math.abs(c-h+2*M)<=Eo?0:1;if(M&&va(x,A,w,_)===1-d^T){var j=(c+h)/2;x=t*Math.cos(j),A=t*Math.sin(j),w=_=null}}else x=A=0;if(f>Oo&&(g=Math.min(Math.abs(u-t)/2,+r.apply(this,arguments)))>.001){p=u>t^d?0:1;var z=g,L=g;if(Eo>f){var B=null==w?[x,A]:null==C?[y,I]:Ln([y,I],[w,_],[C,b],[x,A]),G=y-B[0],O=I-B[1],Z=C-B[0],E=b-B[1],P=1/Math.sin(Math.acos((G*Z+O*E)/(Math.sqrt(G*G+O*O)*Math.sqrt(Z*Z+E*E)))/2),F=Math.sqrt(B[0]*B[0]+B[1]*B[1]);L=Math.min(g,(t-F)/(P-1)),z=Math.min(g,(u-F)/(P+1))}if(null!=C){var R=ya(null==w?[x,A]:[w,_],[y,I],u,z,d),W=ya([C,b],[x,A],u,z,d);g===z?S.push("M",R[0],"A",z,",",z," 0 0,",p," ",R[1],"A",u,",",u," 0 ",1-d^va(R[1][0],R[1][1],W[1][0],W[1][1]),",",d," ",W[1],"A",z,",",z," 0 0,",p," ",W[0]):S.push("M",R[0],"A",z,",",z," 0 1,",p," ",W[0])}else S.push("M",y,",",I);if(null!=w){var Y=ya([y,I],[w,_],t,-L,d),U=ya([x,A],null==C?[y,I]:[C,b],t,-L,d);g===L?S.push("L",U[0],"A",L,",",L," 0 0,",p," ",U[1],"A",t,",",t," 0 ",d^va(U[1][0],U[1][1],Y[1][0],Y[1][1]),",",1-d," ",Y[1],"A",L,",",L," 0 0,",p," ",Y[0]):S.push("L",U[0],"A",L,",",L," 0 0,",p," ",Y[0])}else S.push("L",x,",",A)}else S.push("M",y,",",I),null!=C&&S.push("A",u,",",u," 0 ",D,",",d," ",C,",",b),S.push("L",x,",",A),null!=w&&S.push("A",t,",",t," 0 ",T,",",1-d," ",w,",",_);return S.push("Z"),S.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=fa,i=da,r=ha,a=jl,o=ga,s=pa,l=ma;return t.innerRadius=function(e){return arguments.length?(n=Mt(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Mt(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Mt(e),t):r},t.padRadius=function(e){return arguments.length?(a=e==jl?jl:Mt(e),t):a},t.startAngle=function(e){return arguments.length?(o=Mt(e),t):o},t.endAngle=function(e){return arguments.length?(s=Mt(e),t):s},t.padAngle=function(e){return arguments.length?(l=Mt(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Ro;return[Math.cos(e)*t,Math.sin(e)*t]},t};var jl="auto";so.svg.line=function(){return Ia(y)};var zl=so.map({linear:Ca,"linear-closed":ba,step:xa,"step-before":Aa,"step-after":wa,basis:ka,"basis-open":Ta,"basis-closed":ja,bundle:za,cardinal:Na,"cardinal-open":_a,"cardinal-closed":Ma,monotone:Ea});zl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ll=[0,2/3,1/3,0],Bl=[0,1/3,2/3,0],Gl=[0,1/6,2/3,1/6];so.svg.line.radial=function(){var t=Ia(Pa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Aa.reverse=wa,wa.reverse=Aa,so.svg.area=function(){return Fa(y)},so.svg.area.radial=function(){var t=Fa(Pa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},so.svg.chord=function(){function t(t,s){var l=e(this,a,t,s),u=e(this,o,t,s);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z";
}function e(t,e,n,i){var r=e.call(t,n,i),a=s.call(t,r,i),o=l.call(t,r,i)-Ro,c=u.call(t,r,i)-Ro;return{r:a,a0:o,a1:c,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Eo)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var a=In,o=Cn,s=Ra,l=ga,u=pa;return t.radius=function(e){return arguments.length?(s=Mt(e),t):s},t.source=function(e){return arguments.length?(a=Mt(e),t):a},t.target=function(e){return arguments.length?(o=Mt(e),t):o},t.startAngle=function(e){return arguments.length?(l=Mt(e),t):l},t.endAngle=function(e){return arguments.length?(u=Mt(e),t):u},t},so.svg.diagonal=function(){function t(t,r){var a=e.call(this,t,r),o=n.call(this,t,r),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=In,n=Cn,i=Wa;return t.source=function(n){return arguments.length?(e=Mt(n),t):e},t.target=function(e){return arguments.length?(n=Mt(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},so.svg.diagonal.radial=function(){var t=so.svg.diagonal(),e=Wa,n=t.projection;return t.projection=function(t){return arguments.length?n(Ya(e=t)):e},t},so.svg.symbol=function(){function t(t,i){return(Ol.get(e.call(this,t,i))||Ha)(n.call(this,t,i))}var e=Xa,n=Ua;return t.type=function(n){return arguments.length?(e=Mt(n),t):e},t.size=function(e){return arguments.length?(n=Mt(e),t):n},t};var Ol=so.map({circle:Ha,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*El)),n=e*El;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Zl),n=e*Zl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Zl),n=e*Zl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});so.svg.symbolTypes=Ol.keys();var Zl=Math.sqrt(3),El=Math.tan(30*Wo);Do.transition=function(t){for(var e,n,i=Pl||++Yl,r=Ka(t),a=[],o=Fl||{time:Date.now(),ease:Mi,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(n=u[c])&&qa(n,c,r,i,o),e.push(n)}return Ja(a,r,i)},Do.interrupt=function(t){return this.each(null==t?Rl:Va(Ka(t)))};var Pl,Fl,Rl=Va(Ka()),Wl=[],Yl=0;Wl.call=Do.call,Wl.empty=Do.empty,Wl.node=Do.node,Wl.size=Do.size,so.transition=function(t,e){return t&&t.transition?Pl?t.transition(e):t:so.selection().transition(t)},so.transition.prototype=Wl,Wl.select=function(t){var e,n,i,r=this.id,a=this.namespace,o=[];t=S(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(i=u[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),qa(n,c,a,r,i[a][r]),e.push(n)):e.push(null)}return Ja(o,a,r)},Wl.selectAll=function(t){var e,n,i,r,a,o=this.id,s=this.namespace,l=[];t=D(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],f=-1,d=h.length;++f<d;)if(i=h[f]){a=i[s][o],n=t.call(i,i.__data__,f,u),l.push(e=[]);for(var g=-1,p=n.length;++g<p;)(r=n[g])&&qa(r,g,s,o,a),e.push(r)}return Ja(l,s,o)},Wl.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=F(t));for(var a=0,o=this.length;o>a;a++){r.push(e=[]);for(var n=this[a],s=0,l=n.length;l>s;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return Ja(r,this.namespace,this.id)},Wl.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):W(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Wl.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function a(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Hi:Ii,s=so.ns.qualify(t);return $a(this,"attr."+t,e,s.local?a:r)},Wl.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=so.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Wl.style=function(t,n,i){function r(){this.style.removeProperty(t)}function a(n){return null==n?r:(n+="",function(){var r,a=e(this).getComputedStyle(this,null).getPropertyValue(t);return a!==n&&(r=Ii(a,n),function(e){this.style.setProperty(t,r(e),i)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(n="");for(i in t)this.style(i,t[i],n);return this}i=""}return $a(this,"style."+t,n,a)},Wl.styleTween=function(t,n,i){function r(r,a){var o=n.call(this,r,a,e(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},Wl.text=function(t){return $a(this,"text",t,Qa)},Wl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Wl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=so.ease.apply(so,arguments)),W(this,function(i){i[n][e].ease=t}))},Wl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:W(this,"function"==typeof t?function(i,r,a){i[n][e].delay=+t.call(i,i.__data__,r,a)}:(t=+t,function(i){i[n][e].delay=t}))},Wl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:W(this,"function"==typeof t?function(i,r,a){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,a))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Wl.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Fl,a=Pl;try{Pl=n,W(this,function(e,r,a){Fl=e[i][n],t.call(e,e.__data__,r,a)})}finally{Fl=r,Pl=a}}else W(this,function(r){var a=r[i][n];(a.event||(a.event=so.dispatch("start","end","interrupt"))).on(t,e)});return this},Wl.transition=function(){for(var t,e,n,i,r=this.id,a=++Yl,o=this.namespace,s=[],l=0,u=this.length;u>l;l++){s.push(t=[]);for(var e=this[l],c=0,h=e.length;h>c;c++)(n=e[c])&&(i=n[o][r],qa(n,c,o,a,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Ja(s,o,a)},so.svg.axis=function(){function t(t){t.each(function(){var t,u=so.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),f=null==l?h.ticks?h.ticks.apply(h,s):h.domain():l,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):y:e,g=u.selectAll(".tick").data(f,h),p=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Oo),m=so.transition(g.exit()).style("opacity",Oo).remove(),v=so.transition(g.order()).style("opacity",1),I=Math.max(r,0)+o,C=Yr(h),b=u.selectAll(".domain").data([0]),x=(b.enter().append("path").attr("class","domain"),so.transition(b));p.append("line"),p.append("text");var A,w,_,M,N=p.select("line"),S=v.select("line"),D=g.select("text").text(d),k=p.select("text"),T=v.select("text"),j="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=to,A="x",_="y",w="x2",M="y2",D.attr("dy",0>j?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+C[0]+","+j*a+"V0H"+C[1]+"V"+j*a)):(t=eo,A="y",_="x",w="y2",M="x2",D.attr("dy",".32em").style("text-anchor",0>j?"end":"start"),x.attr("d","M"+j*a+","+C[0]+"H0V"+C[1]+"H"+j*a)),N.attr(M,j*r),k.attr(_,j*I),S.attr(w,0).attr(M,j*r),T.attr(A,0).attr(_,j*I),h.rangeBand){var z=h,L=z.rangeBand()/2;c=h=function(t){return z(t)+L}}else c.rangeBand?c=h:m.call(t,h,c);p.call(t,c,h),v.call(t,h,h)})}var e,n=so.scale.linear(),i=Ul,r=6,a=6,o=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Xl?e+"":Ul,t):i},t.ticks=function(){return arguments.length?(s=uo(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,a=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Ul="bottom",Xl={top:1,right:1,bottom:1,left:1};so.svg.brush=function(){function t(e){e.each(function(){var e=so.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),o=e.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(p,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Hl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,h=so.transition(e),f=so.transition(o);u&&(l=Yr(u),f.attr("x",l[0]).attr("width",l[1]-l[0]),i(h)),c&&(l=Yr(c),f.attr("y",l[0]).attr("height",l[1]-l[0]),r(h)),n(h)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function r(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function a(){function a(){32==so.event.keyCode&&(D||(I=null,T[0]-=h[1],T[1]-=f[1],D=2),w())}function p(){32==so.event.keyCode&&2==D&&(T[0]+=h[1],T[1]+=f[1],D=0,w())}function m(){var t=so.mouse(b),e=!1;C&&(t[0]+=C[0],t[1]+=C[1]),D||(so.event.altKey?(I||(I=[(h[0]+h[1])/2,(f[0]+f[1])/2]),T[0]=h[+(t[0]<I[0])],T[1]=f[+(t[1]<I[1])]):I=null),N&&v(t,u,0)&&(i(_),e=!0),S&&v(t,c,1)&&(r(_),e=!0),e&&(n(_),A({type:"brush",mode:D?"move":"resize"}))}function v(t,e,n){var i,r,a=Yr(e),l=a[0],u=a[1],c=T[n],p=n?f:h,m=p[1]-p[0];return D&&(l-=c,u-=m+c),i=(n?g:d)?Math.max(l,Math.min(u,t[n])):t[n],D?r=(i+=c)+m:(I&&(c=Math.max(l,Math.min(u,2*I[n]-i))),i>c?(r=i,i=c):r=c),p[0]!=i||p[1]!=r?(n?s=null:o=null,p[0]=i,p[1]=r,!0):void 0}function y(){m(),_.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),so.select("body").style("cursor",null),j.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),A({type:"brushend"})}var I,C,b=this,x=so.select(so.event.target),A=l.of(b,arguments),_=so.select(b),M=x.datum(),N=!/^(n|s)$/.test(M)&&u,S=!/^(e|w)$/.test(M)&&c,D=x.classed("extent"),k=J(b),T=so.mouse(b),j=so.select(e(b)).on("keydown.brush",a).on("keyup.brush",p);if(so.event.changedTouches?j.on("touchmove.brush",m).on("touchend.brush",y):j.on("mousemove.brush",m).on("mouseup.brush",y),_.interrupt().selectAll("*").interrupt(),D)T[0]=h[0]-T[0],T[1]=f[0]-T[1];else if(M){var z=+/w$/.test(M),L=+/^n/.test(M);C=[h[1-z]-T[0],f[1-L]-T[1]],T[0]=h[z],T[1]=f[L]}else so.event.altKey&&(I=T.slice());_.style("pointer-events","none").selectAll(".resize").style("display",null),so.select("body").style("cursor",x.style("cursor")),A({type:"brushstart"}),m()}var o,s,l=M(t,"brushstart","brush","brushend"),u=null,c=null,h=[0,0],f=[0,0],d=!0,g=!0,p=Vl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:h,y:f,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Pl?so.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,h=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Ci(h,e.x),i=Ci(f,e.y);return o=s=null,function(r){h=e.x=n(r),f=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,p=Vl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,p=Vl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(d=!!e[0],g=!!e[1]):u?d=!!e:c&&(g=!!e),t):u&&c?[d,g]:u?d:c?g:null},t.extent=function(e){var n,i,r,a,l;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),o=[n,i],u.invert&&(n=u(n),i=u(i)),n>i&&(l=n,n=i,i=l),n==h[0]&&i==h[1]||(h=[n,i])),c&&(r=e[0],a=e[1],u&&(r=r[1],a=a[1]),s=[r,a],c.invert&&(r=c(r),a=c(a)),r>a&&(l=r,r=a,a=l),r==f[0]&&a==f[1]||(f=[r,a])),t):(u&&(o?(n=o[0],i=o[1]):(n=h[0],i=h[1],u.invert&&(n=u.invert(n),i=u.invert(i)),n>i&&(l=n,n=i,i=l))),c&&(s?(r=s[0],a=s[1]):(r=f[0],a=f[1],c.invert&&(r=c.invert(r),a=c.invert(a)),r>a&&(l=r,r=a,a=l))),u&&c?[[n,r],[i,a]]:u?[n,i]:c&&[r,a])},t.clear=function(){return t.empty()||(h=[0,0],f=[0,0],o=s=null),t},t.empty=function(){return!!u&&h[0]==h[1]||!!c&&f[0]==f[1]},so.rebind(t,l,"on")};var Hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Jl=gs.format=Cs.timeFormat,$l=Jl.utc,Ql=$l("%Y-%m-%dT%H:%M:%S.%LZ");Jl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?no:Ql,no.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},no.toString=Ql.toString,gs.second=Pt(function(t){return new ps(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),gs.seconds=gs.second.range,gs.seconds.utc=gs.second.utc.range,gs.minute=Pt(function(t){return new ps(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),gs.minutes=gs.minute.range,gs.minutes.utc=gs.minute.utc.range,gs.hour=Pt(function(t){var e=t.getTimezoneOffset()/60;return new ps(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),gs.hours=gs.hour.range,gs.hours.utc=gs.hour.utc.range,gs.month=Pt(function(t){return t=gs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),gs.months=gs.month.range,gs.months.utc=gs.month.utc.range;var Kl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ql=[[gs.second,1],[gs.second,5],[gs.second,15],[gs.second,30],[gs.minute,1],[gs.minute,5],[gs.minute,15],[gs.minute,30],[gs.hour,1],[gs.hour,3],[gs.hour,6],[gs.hour,12],[gs.day,1],[gs.day,2],[gs.week,1],[gs.month,1],[gs.month,3],[gs.year,1]],tu=Jl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",De]]),eu={range:function(t,e,n){return so.range(Math.ceil(t/n)*n,+e,n).map(ro)},floor:y,ceil:y};ql.year=gs.year,gs.scale=function(){return io(so.scale.linear(),ql,tu)};var nu=ql.map(function(t){return[t[0].utc,t[1]]}),iu=$l.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",De]]);nu.year=gs.year.utc,gs.scale.utc=function(){return io(so.scale.linear(),nu,iu)},so.text=Nt(function(t){return t.responseText}),so.json=function(t,e){return St(t,"application/json",ao,e)},so.html=function(t,e){return St(t,"text/html",oo,e)},so.xml=Nt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=so,define(so)):"object"==typeof module&&module.exports?module.exports=so:this.d3=so}(),
// Copyright (c) 2013 Justin Palmer
function(t,e){"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof module&&module.exports?module.exports=function(t){return t.tip=e(t),t.tip}:t.d3.tip=e(t.d3)}(this,function(t){return function(){function e(t){b=g(t),x=b.createSVGPoint(),document.body.appendChild(C)}function n(){return"n"}function i(){return[0,0]}function r(){return" "}function a(){var t=m();return{top:t.n.y-C.offsetHeight,left:t.n.x-C.offsetWidth/2}}function o(){var t=m();return{top:t.s.y,left:t.s.x-C.offsetWidth/2}}function s(){var t=m();return{top:t.e.y-C.offsetHeight/2,left:t.e.x}}function l(){var t=m();return{top:t.w.y-C.offsetHeight/2,left:t.w.x-C.offsetWidth}}function u(){var t=m();return{top:t.nw.y-C.offsetHeight,left:t.nw.x-C.offsetWidth}}function c(){var t=m();return{top:t.ne.y-C.offsetHeight,left:t.ne.x}}function h(){var t=m();return{top:t.sw.y,left:t.sw.x-C.offsetWidth}}function f(){var t=m();return{top:t.se.y,left:t.e.x}}function d(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),e.node()}function g(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function p(){return null===C&&(C=d(),document.body.appendChild(C)),t.select(C)}function m(){for(var e=A||t.event.target;"undefined"==typeof e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},i=e.getScreenCTM(),r=e.getBBox(),a=r.width,o=r.height,s=r.x,l=r.y;return x.x=s,x.y=l,n.nw=x.matrixTransform(i),x.x+=a,n.ne=x.matrixTransform(i),x.y+=o,n.se=x.matrixTransform(i),x.x-=a,n.sw=x.matrixTransform(i),x.y-=o/2,n.w=x.matrixTransform(i),x.x+=a,n.e=x.matrixTransform(i),x.x-=a/2,x.y-=o/2,n.n=x.matrixTransform(i),x.y+=o,n.s=x.matrixTransform(i),n}var v=n,y=i,I=r,C=d(),b=null,x=null,A=null;e.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(A=t.pop());var n,i=I.apply(this,t),r=y.apply(this,t),a=v.apply(this,t),o=p(),s=_.length,l=document.documentElement.scrollTop||document.body.scrollTop,u=document.documentElement.scrollLeft||document.body.scrollLeft;for(o.html(i).style({opacity:1,"pointer-events":"all"});s--;)o.classed(_[s],!1);return n=w.get(a).apply(this),o.classed(a,!0).style({top:n.top+r[0]+l+"px",left:n.left+r[1]+u+"px"}),e},e.hide=function(){var t=p();return t.style({opacity:0,"pointer-events":"none"}),e},e.attr=function(n,i){if(arguments.length<2&&"string"==typeof n)return p().attr(n);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(p(),r),e},e.style=function(n,i){if(arguments.length<2&&"string"==typeof n)return p().style(n);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(p(),r),e},e.direction=function(n){return arguments.length?(v=null==n?n:t.functor(n),e):v},e.offset=function(n){return arguments.length?(y=null==n?n:t.functor(n),e):y},e.html=function(n){return arguments.length?(I=null==n?n:t.functor(n),e):I},e.destroy=function(){return C&&(p().remove(),C=null),e};var w=t.map({n:a,s:o,e:s,w:l,nw:u,ne:c,sw:h,se:f}),_=w.keys();return e}}),function(t){"function"==typeof define&&define.amd?define(["d3","d3-tip"],t):d3&&d3.tip?d3.exploding_boxplot=t(d3,d3.tip):d3.exploding_boxplot=t(d3)}(function(t,e){function n(t){return"function"==typeof t?t:function(e){return e[t]}}var i=["#E6E6E6","#F78181","#a6cee3","#ff7f00","#fdbf6f","#33a02c","#cab2d6","#6a3d9a","#fb9a99","#e31a1c","#ffff99","#b15928"],r=function(e,i,r){i=i||1.5,r=r||Number;var a=e.map(n(r)).sort(t.ascending),o=[t.quantile(a,.25),t.quantile(a,.5),t.quantile(a,.75)],s=(o[2]-o[0])*i,l=Number.MIN_VALUE,u=Number.MAX_VALUE,c=t.nest().key(function(t){t=n(r)(t);var e=t<o[0]-s||t>o[2]+s?"outlier":"normal";return"normal"==e&&(u>t||t>l)&&(l=Math.max(l,t),u=Math.min(u,t)),e}).map(e);return c.outlier||(c.outlier=[]),c.quartiles=o,c.iqr=s,c.max=l,c.min=u,c},a=function(a,o,s,l,u,c,h){function f(){N=N||E(),k.tip=N;M.selectAll(".boxcontent").data(I).enter().append("g").attr("class","d3-exploding-boxplot boxcontent").attr("transform",function(t){return"translate("+A(t.group)+",0)"}).each(T).each(L).call(B)}var d=1.5,g=l,p=s,m=u,v=.2,y={top:10,bottom:30,left:40,right:10};o.color=o.color||o.group,o.radius=o.radius||t.functor(3),o.label=o.label||t.functor("aes.label undefined");var I,C="string"==typeof o.y?o.y:"",b="string"==typeof o.group?o.group:"",x=t.scale.linear().domain(t.extent(a.map(n(o.y)))).nice().range([g-y.top-y.bottom,0]);I=o.group?t.nest().key(n(o.group)).entries(a):[{key:"",values:a}];var A=t.scale.ordinal().domain(I.map(function(t){return t.key})).rangeRoundBands([0,p-y.left-y.right],v),w=t.scale.ordinal().domain(t.set(a.map(n(o.color))).values()).range(i);I=I.map(function(t){var e=r(t.values,d,o.y);return e.group=t.key,e});var _,M,N,S=function(t){return t.toLocaleString()},D=function(t){return' <span style="color:'+w(n(o.color)(t))+'">'+n(o.label)(t)+'</span><span style="color:#DDDDDD;" > : '+S(n(o.y)(t))+"</span>"},k=function(e){_=t.select(e).append("svg").attr("width",p).attr("height",g),_.append("g").append("rect").attr("width",p).attr("height",g).style("color","white").style("opacity",0).on("dblclick",Z),M=_.append("g").attr("transform","translate("+y.left+","+y.top+")");var n=t.svg.axis().scale(A).orient("bottom"),i=t.svg.axis().scale(x).orient("left").tickFormat(S);if("single"==m?M.append("g").attr("class","d3-exploding-boxplot x axis").attr("transform","translate(0,"+(g-y.top-y.bottom)+")").call(n).append("text").attr("x",(p-y.left-y.right)/2).attr("dy",".71em").attr("y",y.bottom-10).style("text-anchor","middle").text(b):M.append("g").attr("class","d3-exploding-boxplot x axis").attr("transform","translate(0,"+(g-y.top-y.bottom)+")").call(n).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(45) translate(0,5)").style("text-anchor","start").append("text").attr("x",(p-y.left-y.right)/2).attr("dy",".71em").attr("y",y.bottom-10).style("text-anchor","middle").text(b),c&&M.append("g").attr("class","d3-exploding-boxplot y axis").call(i).append("text").attr("transform","rotate(-90)").attr("x",-y.top-t.mean(x.range())).attr("dy",".71em").attr("y",-y.left+5).style("text-anchor","middle").text(C),"NA"!=h){var r="blue";h.indexOf("F8")>-1&&(r="#01DF3A");var a="";h.length>20?(a="Model: "+h,h=h.substring(0,15)+" ..."):a="Model: "+h,M.append("g").append("text").attr("x",y.left-18).attr("dy",".71em").attr("y",y.top-10).style("text-anchor","left").style("font-size","12px").style("font-weight","bold").style("fill",r).text(h).append("svg:title").text(a)}M=M.insert("g",".axis"),f()},T=function(e,n){t.select(this).append("g").attr("class","d3-exploding-boxplot outliers-points").selectAll(".point").data(e.outlier).enter().append("circle").call(j).call(z),t.select(this).append("g").attr("class","d3-exploding-boxplot normal-points")},j=function(t){t.attr("class","d3-exploding-boxplot point").attr("r",n(o.radius)).attr("fill",function(t){return w(n(o.color)(t))}).call(function(t){t.empty()||N(t)}).on("mouseover",N.show).on("mouseout",N.hide)},z=function(t){t.attr("cx",function(t){var e=A.rangeBand();return Math.floor(Math.random()*e)}).attr("cy",function(t){return x(n(o.y)(t))})},L=function(e,i){var r=t.select(this).append("g").attr("class","d3-exploding-boxplot box").on("click",function(t){O(this.parentElement,e)}).selectAll(".box").data([e]).enter();r.append("rect").attr("class","d3-exploding-boxplot box").attr("fill",function(t){return w(n(o.color)(t.normal[0]))}),r.append("line").attr("class","d3-exploding-boxplot median line"),r.append("line").attr("class","d3-exploding-boxplot min line hline"),r.append("line").attr("class","d3-exploding-boxplot line min vline"),r.append("line").attr("class","d3-exploding-boxplot max line hline"),r.append("line").attr("class","d3-exploding-boxplot line max vline"),r.append("line").attr("class","d3-exploding-boxplot line cutoff cline")},B=function(t){t.select("rect.box").attr("x",0).attr("width",A.rangeBand()).attr("y",function(t){return x(t.quartiles[2])}).attr("height",function(t){return x(t.quartiles[0])-x(t.quartiles[2])}),t.select("line.median").attr("x1",0).attr("x2",A.rangeBand()).attr("y1",function(t){return x(t.quartiles[1])}).attr("y2",function(t){return x(t.quartiles[1])}),t.select("line.min.hline").attr("x1",.25*A.rangeBand()).attr("x2",.75*A.rangeBand()).attr("y1",function(t){return x(Math.min(t.min,t.quartiles[0]))}).attr("y2",function(t){return x(Math.min(t.min,t.quartiles[0]))}),t.select("line.min.vline").attr("x1",.5*A.rangeBand()).attr("x2",.5*A.rangeBand()).attr("y1",function(t){return x(Math.min(t.min,t.quartiles[0]))}).attr("y2",function(t){return x(t.quartiles[0])}),t.select("line.max.hline").attr("x1",.25*A.rangeBand()).attr("x2",.75*A.rangeBand()).attr("y1",function(t){return x(Math.max(t.max,t.quartiles[2]))}).attr("y2",function(t){return x(Math.max(t.max,t.quartiles[2]))}),t.select("line.max.vline").attr("x1",.5*A.rangeBand()).attr("x2",.5*A.rangeBand()).attr("y1",function(t){return x(t.quartiles[2])}).attr("y2",function(t){return x(Math.max(t.max,t.quartiles[2]))}),t.select("line.cutoff.cline").attr("x1",0*A.rangeBand()).attr("x2",1*A.rangeBand()).attr("y1",function(t){return x(2.6)}).attr("y2",function(t){return x(2.6)})},G=function(t,e){var n=this;n.select("rect.box").attr("x",.5*A.rangeBand()).attr("width",0).attr("y",function(t){return x(t.quartiles[1])}).attr("height",0),n.selectAll("line").attr("x1",.5*A.rangeBand()).attr("x2",.5*A.rangeBand()).attr("y1",function(t){return x(t.quartiles[1])}).attr("y2",function(t){return x(t.quartiles[1])})},O=function(e,n){t.select(e).select("g.box").transition().ease(t.ease("back-in")).duration(300).call(G),t.select(e).selectAll(".normal-points").selectAll(".point").data(n.normal).enter().append("circle").attr("cx",.5*A.rangeBand()).attr("cy",x(n.quartiles[1])).call(j).transition().ease(t.ease("back-out")).delay(function(){return 300+100*Math.random()}).duration(function(){return 300+300*Math.random()}).call(z)},Z=function(e,n){M.selectAll(".normal-points").each(function(e){t.select(this).selectAll("circle").transition().ease(t.ease("back-out")).duration(function(){return 300+300*Math.random()}).attr("cx",.5*A.rangeBand()).attr("cy",x(e.quartiles[1])).remove()}),M.selectAll(".boxcontent").transition().ease(t.ease("back-out")).duration(300).delay(200).call(B)},E=function(){return N=e().attr("class","d3-exploding-boxplot tip").direction("n").html(D)};return k.iqr=function(t){return arguments.length?(d=t,k):d},k.width=function(t){return arguments.length?(p=t,A.rangeRoundBands([0,p-y.left-y.right],v),k):p},k.height=function(t){return arguments.length?(g=t,x.range([g-y.top-y.bottom,0]),k):g},k.margin=function(t){return arguments.length?(y=t,A.rangeRoundBands([0,p-y.left-y.right],v),x.range([g-y.top-y.bottom,0]),k):y},k.xlab=function(t){return arguments.length?(b=t,k):b},k.ylab=function(t){return arguments.length?(C=t,k):C},k.ylimit=function(e){return arguments.length?(x.domain(e.sort(t.descending)),k):x.domain()},k.tickFormat=function(t){return arguments.length?(S=t,k):S},k.colors=function(t){return arguments.length?(w.range(t),k):w.range()},k};return a.compute_boxplot=r,a}),!function(t,e){"use strict";if("object"==typeof exports)module.exports=e(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],function(n){return t.dimple=e(n),t.dimple});else if(t.d3)t.dimple=e(t.d3);else{if(!console||!console.warn)throw"dimple requires d3 to run.  Are you missing a reference to the d3 library?";console.warn("dimple requires d3 to run.  Are you missing a reference to the d3 library?")}}(this,function(t){"use strict";var e={version:"2.1.6",plot:{},aggregateMethod:{}};return e.axis=function(n,i,r,a,o,s){this.chart=n,this.position=i,this.categoryFields=null===o||void 0===o?r:[].concat(o),this.measure=a,this.timeField=o,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=null===s||void 0===s?!0:s,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var t,e,n=[],i=!1;if(this.chart&&this.chart.series){for(t=0;t<this.chart.series.length;t+=1)e=this.chart.series[t],e[this.position]===this&&(e.data&&e.data.length>0?n=n.concat(e.data):i=!0);i&&this.chart.data&&(n=n.concat(this.chart.data))}return n},this._getFontSize=function(){var t;return t=this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getFormat=function(){var e,n,i,r,a,o,s;return null!==this.tickFormat&&void 0!==this.tickFormat?e=this._hasTimeField()?t.time.format(this.tickFormat):t.format(this.tickFormat):this.showPercent?e=t.format("%"):this.useLog&&null!==this.measure?e=function(e){var n=Math.floor(Math.abs(e),0).toString().length,i=Math.min(Math.floor((n-1)/3),4),r="kmBT".substring(i-1,i),a="0"===Math.round(e/Math.pow(1e3,i)*10).toString().slice(-1)?0:1;return 0===e?0:t.format(",."+a+"f")(e/Math.pow(1e3,i))+r}:null!==this.measure?(n=Math.floor(Math.abs(this._max),0).toString(),i=Math.floor(Math.abs(this._min),0).toString(),r=Math.max(i.length,n.length),r>3?(a=Math.min(Math.floor((r-1)/3),4),o="kmBT".substring(a-1,a),s=1>=r-3*a?1:0,e=function(e){return 0===e?0:t.format(",."+s+"f")(e/Math.pow(1e3,a))+o}):(s=-Math.floor(Math.log(this._tick_step)/Math.LN10),e=t.format(",."+s+"f"))):e=function(t){return t},e},this._getTimePeriod=function(){var e=this.timePeriod,n=30,i=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(e=n>=i/1e3?t.time.seconds:n>=i/6e4?t.time.minutes:n>=i/36e5?t.time.hours:n>=i/864e5?t.time.days:n>=i/6048e5?t.time.weeks:n>=i/26298e5?t.time.months:t.time.years),e},this._getTooltipText=function(e,n){if(this._hasTimeField())n[this.position+"Field"][0]&&e.push(this.timeField+": "+this._getFormat()(n[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach(function(t,i){null!==t&&void 0!==t&&n[this.position+"Field"][i]&&e.push(t+(n[this.position+"Field"][i]!==t?": "+n[this.position+"Field"][i]:""))},this);else if(this._hasMeasure())switch(this.position){case"x":e.push(this.measure+": "+this._getFormat()(n.width));break;case"y":e.push(this.measure+": "+this._getFormat()(n.height));break;case"p":e.push(this.measure+": "+this._getFormat()(n.angle)+" ("+t.format("%")(n.piePct)+")");break;default:e.push(this.measure+": "+this._getFormat()(n[this.position+"Value"]))}},this._getTopMaster=function(){var t=this;return null!==this.master&&void 0!==this.master&&(t=this.master._getTopMaster()),t},this._hasCategories=function(){return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0},this._hasMeasure=function(){return null!==this.measure&&void 0!==this.measure},this._hasTimeField=function(){return null!==this.timeField&&void 0!==this.timeField},this._parseDate=function(e){var n;return n=null===this.dateParseFormat||void 0===this.dateParseFormat?isNaN(e)?Date.parse(e):new Date(e):t.time.format(this.dateParseFormat).parse(e)},this._update=function(n){var i,r,a,o,s=[],l=this.ticks||10,u=function(t,n,i){var r,a,o=t.categoryFields[0],s=t._getAxisData(),l=o,u=!1,c=!0,h=null;for(r=0;r<s.length;r+=1)if(h=t._parseDate(s[r][o]),null!==h&&void 0!==h&&isNaN(h)){c=!1;break}return c||t.chart.series.forEach(function(e){e[n]===t&&e[i]._hasMeasure()&&(l=e[i].measure,u=!0)},this),a=t._orderRules.concat({ordering:l,desc:u}),e._getOrderedList(s,o,a)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&this._max>1?1:this._max,this._min=null!==this.overrideMin?this.overrideMin:this._min,this._max=null!==this.overrideMax?this.overrideMax:this._max,"x"!==this.position||null!==this._scale&&!n){if("y"!==this.position||null!==this._scale&&!n)this.position.length>0&&"z"===this.position[0]&&null===this._scale?this.useLog?this._scale=t.scale.log().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=t.scale.linear().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"p"===this.position[0]&&null===this._scale?this.useLog?this._scale=t.scale.log().range([0,360]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=t.scale.linear().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"c"===this.position[0]&&null===this._scale&&(this._scale=t.scale.linear().range([0,null===this.colors||1===this.colors.length?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));else if(this._hasTimeField()?this._scale=t.time.scale().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scale.log().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(s=u(this,"y","x"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){s=s.concat(u(t,"y","x"))},this),this._scale=t.scale.ordinal().rangePoints([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(s.concat([""]))):this._scale=t.scale.linear().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=t.svg.axis().orient("left").scale(this._scale),this.ticks&&this._draw.ticks(l);break;case 1:this._draw=t.svg.axis().orient("right").scale(this._scale),this.ticks&&this._draw.ticks(l)}}else if(this._hasTimeField()?this._scale=t.time.scale().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scale.log().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(s=u(this,"x","y"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){s=s.concat(u(t,"x","y"))},this),this._scale=t.scale.ordinal().rangePoints([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(s.concat([""]))):this._scale=t.scale.linear().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=t.svg.axis().orient("bottom").scale(this._scale),this.ticks&&this._draw.ticks(l);break;case 1:this._draw=t.svg.axis().orient("top").scale(this._scale),this.ticks&&this._draw.ticks(l)}return null!==this._slaves&&void 0!==this._slaves&&this._slaves.length>0&&this._slaves.forEach(function(t){t._scale=this._scale},this),null!==n&&void 0!==n&&n!==!1||this._hasTimeField()||null===this._scale||null===this._scale.ticks||void 0===this._scale.ticks||!(this._scale.ticks(l).length>0)||"x"!==this.position&&"y"!==this.position||(i=this._scale.ticks(l),r=i[1]-i[0],a=((this._max-this._min)%r).toFixed(0),this._tick_step=r,0!==a&&(this._max=Math.ceil(this._max/r)*r,this._min=Math.floor(this._min/r)*r,this._update(!0))),o=null!==s&&void 0!==s&&s.length>0?this._scale.copy()(s[0]):this._min>0?this._scale.copy()(this._min):this._max<0?this._scale.copy()(this._max):this._scale.copy()(0),this._origin!==o&&(this._previousOrigin=null===this._origin?o:this._origin,this._origin=o),this},this.addGroupOrderRule=function(t,e){this._groupOrderRules.push({ordering:t,desc:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})}},e.chart=function(n,i){this.svg=n,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=i,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease="cubic-in-out",this.staggerDraw=!1,this._group=n.append("g"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(t,e){var n=0,i=0,r=-1;for(n=0;n<this.axes.length;n+=1){if(this.axes[n]===t){r=i;break}(null===e||void 0===e||e[0]===this.axes[n].position[0])&&(i+=1)}return r},this._getAllData=function(){var t=[];return null!==this.data&&void 0!==this.data&&this.data.length>0&&(t=t.concat(this.data)),null!==this.series&&void 0!==this.series&&this.series.length>0&&this.series.forEach(function(e){null!==e.data&&void 0!==e.data&&e.data.length>0&&(t=t.concat(e.data))}),t},this._getData=function(n,i,r,a,o,s,l,u,c,h){var f,d,g=[],p=function(t,e){var n=[];return null!==t&&(t._hasTimeField()?n.push(t._parseDate(e[t.timeField])):t._hasCategories()&&t.categoryFields.forEach(function(t){n.push(e[t])},this)),n},m={x:!1,y:!1,z:!1,p:!1,c:!1},v={x:[],y:[]},y={x:[],y:[],z:[],p:[]},I={min:null,max:null},C={x:[],y:[],z:[],p:[]},b=[],x={},A={x:0,y:0,z:0,p:0},w="",_=[],M=[],N=[],S="",D=[],k="",T=[],j="",z=[],L=[],B=n,G=[];this.storyboard&&this.storyboard.categoryFields.length>0&&(w=this.storyboard.categoryFields[0],_=e._getOrderedList(B,w,this.storyboard._orderRules)),s&&s._hasCategories()&&s._hasMeasure()&&(S=s.categoryFields[0],D=e._getOrderedList(B,S,s._orderRules.concat([{ordering:s.measure,desc:!0}]))),l&&l._hasCategories()&&l._hasMeasure()&&(k=l.categoryFields[0],T=e._getOrderedList(B,k,l._orderRules.concat([{ordering:l.measure,desc:!0}]))),c&&c._hasCategories()&&c._hasMeasure()&&(j=c.categoryFields[0],z=e._getOrderedList(B,j,c._orderRules.concat([{ordering:c.measure,desc:!0}]))),B.length>0&&i&&i.length>0&&(L=[].concat(a),M=[],i.forEach(function(t){void 0!==B[0][t]&&M.push(t)},this),c&&c._hasMeasure()?L.push({ordering:c.measure,desc:!0}):h&&h._hasMeasure()?L.push({ordering:h.measure,desc:!0}):u&&u._hasMeasure()?L.push({ordering:u.measure,desc:!0}):s&&s._hasMeasure()?L.push({ordering:s.measure,desc:!0}):l&&l._hasMeasure()&&L.push({ordering:l.measure,desc:!0}),N=e._getOrderedList(B,M,L)),B.sort(function(t,e){var n,i,r,a,o,s,l=0;if(""!==w&&(l=_.indexOf(t[w])-_.indexOf(e[w])),""!==S&&0===l&&(l=D.indexOf(t[S])-D.indexOf(e[S])),""!==k&&0===l&&(l=T.indexOf(t[k])-T.indexOf(e[k])),""!==j&&0===l&&(l=z.indexOf(t[j])-T.indexOf(e[j])),M&&M.length>0&&0===l)for(n=[].concat(M),l=0,r=0;r<N.length;r+=1){for(i=[].concat(N[r]),o=!0,s=!0,a=0;a<n.length;a+=1)o=o&&t[n[a]]===i[a],s=s&&e[n[a]]===i[a];if(o&&s){l=0;break}if(o){l=-1;break}if(s){l=1;break}}return l}),B.forEach(function(t){var e,n,a,o,f,d=-1,v=p(s,t),y=p(l,t),I=p(u,t),C=p(c,t),b=[];if(i&&0!==i.length)for(a=0;a<i.length;a+=1)void 0===t[i[a]]?b.push(i[a]):b.push(t[i[a]]);else b=["All"];for(e=b.join("/")+"_"+v.join("/")+"_"+y.join("/")+"_"+C.join("/")+"_"+I.join("/"),n=0;n<g.length;n+=1)if(g[n].key===e){d=n;break}-1===d&&(o={key:e,aggField:b,xField:v,xValue:null,xCount:0,yField:y,yValue:null,yCount:0,pField:C,pValue:null,pCount:0,zField:I,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},g.push(o),d=g.length-1),f=function(e,n){var i,a,o=!0,s={value:0,count:1},l={value:0,count:1},u="";null!==n&&(i=n.getFrameValue(),n.categoryFields.forEach(function(e,n){n>0&&(u+="/"),u+=t[e],o=u===i},this)),null!==e&&void 0!==e&&o&&(a=g[d],e._hasMeasure()&&null!==t[e.measure]&&void 0!==t[e.measure]&&(-1===a[e.position+"ValueList"].indexOf(t[e.measure])&&a[e.position+"ValueList"].push(t[e.measure]),isNaN(parseFloat(t[e.measure]))&&(m[e.position]=!0),s.value=a[e.position+"Value"],s.count=a[e.position+"Count"],l.value=t[e.measure],a[e.position+"Value"]=r(s,l),a[e.position+"Count"]+=1))},f(s,this.storyboard),f(l,this.storyboard),f(u,this.storyboard),f(c,this.storyboard),f(h,this.storyboard)},this),s&&s._hasCategories()&&s.categoryFields.length>1&&void 0!==v.x&&(G=[],l._hasMeasure()&&G.push({ordering:l.measure,desc:!0}),v.x=e._getOrderedList(B,s.categoryFields[1],s._groupOrderRules.concat(G))),l&&l._hasCategories()&&l.categoryFields.length>1&&void 0!==v.y&&(G=[],s._hasMeasure()&&G.push({ordering:s.measure,desc:!0}),v.y=e._getOrderedList(B,l.categoryFields[1],l._groupOrderRules.concat(G)),v.y.reverse()),g.forEach(function(t){null!==s&&(m.x===!0&&(t.xValue=t.xValueList.length),f=s._hasMeasure()&&s._hasCategories()?(y.x[t.xField.join("/")]||0)+(s._hasMeasure()?Math.abs(t.xValue):0):(y.x[t.xField.join("/")]||0)+(l._hasMeasure()?Math.abs(t.yValue):0),y.x[t.xField.join("/")]=f),null!==l&&(m.y===!0&&(t.yValue=t.yValueList.length),f=l._hasMeasure()&&l._hasCategories()?(y.y[t.yField.join("/")]||0)+(l._hasMeasure()?Math.abs(t.yValue):0):(y.y[t.yField.join("/")]||0)+(s._hasMeasure()?Math.abs(t.xValue):0),y.y[t.yField.join("/")]=f),null!==c&&(m.p===!0&&(t.pValue=t.pValueList.length),f=(y.p[t.pField.join("/")]||0)+(c._hasMeasure()?Math.abs(t.pValue):0),y.p[t.pField.join("/")]=f),null!==u&&(m.z===!0&&(t.zValue=t.zValueList.length),f=(y.z[t.zField.join("/")]||0)+(u._hasMeasure()?Math.abs(t.zValue):0),y.z[t.zField.join("/")]=f),null!==h&&((null===I.min||t.cValue<I.min)&&(I.min=t.cValue),(null===I.max||t.cValue>I.max)&&(I.max=t.cValue))},this);for(d in y.x)y.x.hasOwnProperty(d)&&(A.x+=y.x[d]);for(d in y.y)y.y.hasOwnProperty(d)&&(A.y+=y.y[d]);for(d in y.p)y.p.hasOwnProperty(d)&&(A.p+=y.p[d]);for(d in y.z)y.z.hasOwnProperty(d)&&(A.z+=y.z[d]);return g.forEach(function(e){var n,i,r,a,f,d=function(t,n,i){var r,a,s,l,u;null!==t&&void 0!==t&&(l=t.position,t._hasCategories()?t._hasMeasure()?(r=e[t.position+"Field"].join("/"),a=t.showPercent?y[t.position][r]/A[t.position]:y[t.position][r],-1===b.indexOf(r)&&(x[r]=a+(b.length>0?x[b[b.length-1]]:0),b.push(r)),s=e[l+"Bound"]=e["c"+l]="x"!==l&&"y"!==l||!o?a:x[r],e[i]=a,e[l]=s-("x"===l&&a>=0||"y"===l&&0>=a?a:0)):(e[l]=e["c"+l]=e[l+"Field"][0],e[i]=1,void 0!==v[l]&&null!==v[l]&&v[l].length>=2&&(e[l+"Offset"]=v[l].indexOf(e[l+"Field"][1]),e[i]=1/v[l].length)):(a=t.showPercent?e[l+"Value"]/y[n][e[n+"Field"].join("/")]:e[l+"Value"],r=e[n+"Field"].join("/")+(e[l+"Value"]>=0),u=C[l][r]=(null===C[l][r]||void 0===C[l][r]||"z"===l||"p"===l?0:C[l][r])+a,s=e[l+"Bound"]=e["c"+l]="x"!==l&&"y"!==l||!o?a:u,e[i]=a,e[l]=s-("x"===l&&a>=0||"y"===l&&0>=a?a:0)))};d(s,"y","width"),d(l,"x","height"),d(u,"z","r"),d(c,"p","angle"),null!==h&&null!==I.min&&null!==I.max&&(I.min===I.max&&(I.min-=.5,I.max+=.5),I.min=h.overrideMin||I.min,I.max=h.overrideMax||I.max,e.cValue=e.cValue>I.max?I.max:e.cValue<I.min?I.min:e.cValue,r=t.scale.linear().range([0,null===h.colors||1===h.colors.length?1:h.colors.length-1]).domain([I.min,I.max]),a=r(e.cValue),f=a-Math.floor(a),e.cValue===I.max&&(f=1),h.colors&&1===h.colors.length?(n=t.rgb(h.colors[0]),i=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)):h.colors&&h.colors.length>1?(n=t.rgb(h.colors[Math.floor(a)]),i=t.rgb(h.colors[Math.ceil(a)])):(n=t.rgb("white"),i=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)),n.r=Math.floor(n.r+(i.r-n.r)*f),n.g=Math.floor(n.g+(i.g-n.g)*f),n.b=Math.floor(n.b+(i.b-n.b)*f),e.fill=n.toString(),e.stroke=n.darker(.5).toString())},this),g},this._getDelay=function(t,n,i){return function(r){var a=0;return i&&n.staggerDraw&&(i.x._hasCategories()?a=e._helpers.cx(r,n,i)/n._widthPixels()*t:i.y._hasCategories()&&(a=(1-e._helpers.cy(r,n,i)/n._heightPixels())*t)),a}},this._getSeriesData=function(){null!==this.series&&void 0!==this.series&&this.series.forEach(function(t){var e,n,i,r,a,o,s=t.data||this.data||[],l=[].concat(t.categoryFields||"All"),u=this._getData(s,l,t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),c=[],h={},f=t.startAngle*(Math.PI/180)||0,d=(t.endAngle||360)*(Math.PI/180);if(f>d&&(f-=2*Math.PI),t.p&&l.length>0){if(t.x&&t.y){for(l.pop(),c=this._getData(s,["__dimple_placeholder__"].concat(l),t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),e=0;e<u.length;e+=1)for(i=["__dimple_placeholder__"].concat(u[e].aggField),i.pop(),t.x&&t.x._hasCategories()&&(i=i.concat(u[e].xField)),t.y&&t.y._hasCategories()&&(i=i.concat(u[e].yField)),r=i.join("|"),n=0;n<c.length;n+=1)if(a=[].concat(c[n].aggField),t.x&&t.x._hasCategories()&&(a=a.concat(c[n].xField)),t.y&&t.y._hasCategories()&&(a=a.concat(c[n].yField)),o=a.join("|"),r===o){u[e].xField=c[n].xField,u[e].xValue=c[n].xValue,u[e].xCount=c[n].xCount,u[e].yField=c[n].yField,u[e].yValue=c[n].yValue,u[e].yCount=c[n].yCount,u[e].zField=c[n].zField,u[e].zValue=c[n].zValue,u[e].zCount=c[n].zCount,u[e].x=c[n].x,u[e].y=c[n].y,u[e].r=c[n].r,u[e].xOffset=c[n].xOffset,u[e].yOffset=c[n].yOffset,u[e].width=c[n].width,u[e].height=c[n].height,u[e].cx=c[n].cx,u[e].cy=c[n].cy,u[e].xBound=c[n].xBound,u[e].yBound=c[n].yBound,u[e].xValueList=c[n].xValueList,u[e].yValueList=c[n].yValueList,u[e].zValueList=c[n].zValueList,u[e].cValueList=c[n].cValueList,u[e].pieKey=c[n].key,u[e].value=u.pValue,h[c[n].key]||(h[c[n].key]={total:0,angle:f}),h[c[n].key].total+=u[e].pValue;break}}else for(e=0;e<u.length;e+=1)u[e].pieKey="All",u[e].value=u.pValue,h[u[e].pieKey]||(h[u[e].pieKey]={total:0,angle:f}),h[u[e].pieKey].total+=u[e].pValue;for(e=0;e<u.length;e+=1)u[e].piePct=u[e].pValue/h[u[e].pieKey].total,u[e].startAngle=h[u[e].pieKey].angle,u[e].endAngle=u[e].startAngle+u[e].piePct*(d-f),h[u[e].pieKey].angle=u[e].endAngle}t._positionData=u},this)},this._handleTransition=function(t,e,n,i){var r=null;return r=0===e?t:t.transition().duration(e).delay(n._getDelay(e,n,i)).ease(n.ease)},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(n){null!==n._eventHandlers&&n._eventHandlers.length>0&&n._eventHandlers.forEach(function(i){var r,a=function(r){var a=new e.eventArgs;null!==n.chart.storyboard&&(a.frameValue=n.chart.storyboard.getFrameValue()),a.seriesValue=r.aggField,a.xValue=r.x,a.yValue=r.y,a.zValue=r.z,a.pValue=r.p,a.colorValue=r.cValue,a.seriesShapes=n.shapes,a.selectedShape=t.select(this),i.handler(a)};if(null!==i.handler&&"function"==typeof i.handler)if(null!==n._markers&&void 0!==n._markers)for(r in n._markers)n._markers.hasOwnProperty(r)&&n._markers[r].on(i.event,a);else n.shapes.on(i.event,a)},this)},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this.addAxis=function(t,n,i,r){var a=null,o=null;if(null!==n&&void 0!==n&&(n=[].concat(n)),"string"==typeof t||t instanceof String)a=new e.axis(this,t,n,i,r),this.axes.push(a);else{if(o=t,a=new e.axis(this,o.position,n,i,r),a._hasMeasure()!==o._hasMeasure())throw"You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.";if(a._hasTimeField()!==o._hasTimeField())throw"You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.";if((null===a.categoryFields||void 0===a.categoryFields?0:a.categoryFields.length)!==(null===o.categoryFields||void 0===o.categoryFields?0:o.categoryFields.length))throw"You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type.";o._slaves.push(a)}return a},this.addCategoryAxis=function(t,e){return this.addAxis(t,e,null)},this.addColorAxis=function(t,e){var n=this.addAxis("c",null,t);return n.colors=null===e||void 0===e?null:[].concat(e),n},this.addLegend=function(t,n,i,r,a,o){o=null===o||void 0===o?this.series:[].concat(o),a=null===a||void 0===a?"left":a;var s=new e.legend(this,t,n,i,r,a,o);return this.legends.push(s),s},this.addLogAxis=function(t,e,n){var i=this.addAxis(t,null,e,null);return null!==n&&void 0!==n&&(i.logBase=n),i.useLog=!0,i},this.addMeasureAxis=function(t,e){return this.addAxis(t,null,e)},this.addPctAxis=function(t,e,n){var i=null;
return i=null!==n&&void 0!==n?this.addAxis(t,n,e):this.addMeasureAxis(t,e),i.showPercent=!0,i},this.addSeries=function(t,n,i){(null===i||void 0===i)&&(i=this.axes),(null===n||void 0===n)&&(n=e.plot.bubble);var r,a=null,o=null,s=null,l=null,u=null;return i.forEach(function(t){null!==t&&n.supportedAxes.indexOf(t.position)>-1&&(null===a&&"x"===t.position[0]?a=t:null===o&&"y"===t.position[0]?o=t:null===s&&"z"===t.position[0]?s=t:null===l&&"c"===t.position[0]?l=t:null===l&&"p"===t.position[0]&&(u=t))},this),t&&(t=[].concat(t)),r=new e.series(this,t,a,o,s,l,u,n,e.aggregateMethod.sum,n.stacked),this.series.push(r),r},this.addTimeAxis=function(t,e,n,i){var r=this.addAxis(t,null,null,e);return r.tickFormat=i,r.dateParseFormat=n,r},this.assignClass=function(t,e){return this._assignedClasses[t]=e,this._assignedClasses[t]},this.assignColor=function(t,n,i,r){return this._assignedColors[t]=new e.color(n,i,r),this._assignedColors[t]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",lineMarkerCircle:"dimple-custom-line-marker-circle",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new e.color("#80B1D3"),new e.color("#FB8072"),new e.color("#FDB462"),new e.color("#B3DE69"),new e.color("#FFED6F"),new e.color("#BC80BD"),new e.color("#8DD3C7"),new e.color("#CCEBC5"),new e.color("#FFFFB3"),new e.color("#BEBADA"),new e.color("#FCCDE5"),new e.color("#D9D9D9")],this.draw=function(e,n){e=e||0;var i,r,a=null,o=null,s=!1,l=!1,u=this._xPixels(),c=this._yPixels(),h=this._widthPixels(),f=this._heightPixels();return(void 0===n||null===n||n===!1)&&this._getSeriesData(),this.axes.forEach(function(t){t._scale=null},this),this.axes.forEach(function(t){if(t._min=0,t._max=0,r=[],t._hasMeasure()){var e=!1;this.series.forEach(function(n){if(n._deepMatch(t)){var i=n._axisBounds(t.position);t._min>i.min&&(t._min=i.min),t._max<i.max&&(t._max=i.max),e=!0}},this),e||this._getAllData().forEach(function(e){t._min>e[t.measure]&&(t._min=e[t.measure]),t._max<e[t.measure]&&(t._max=e[t.measure])},this)}else t._hasTimeField()?(t._min=null,t._max=null,this.series.forEach(function(e){e._deepMatch(t)&&null!==e[t.position].timeField&&void 0!==e[t.position].timeField&&-1===r.indexOf(e[t.position].timeField)&&r.push(e[t.position].timeField)},this),t._getAxisData().forEach(function(e){r.forEach(function(n){var i=t._parseDate(e[n]);(null===t._min||i<t._min)&&(t._min=i),(null===t._max||i>t._max)&&(t._max=i)},this)},this)):t._hasCategories()&&(t._min=0,i=[],this.series.forEach(function(e){e._deepMatch(t)&&null!==e[t.position].categoryFields[0]&&void 0!==e[t.position].categoryFields[0]&&-1===r.indexOf(e[t.position].categoryFields[0])&&r.push(e[t.position].categoryFields[0])},this),t._getAxisData().forEach(function(t){r.forEach(function(e){-1===i.indexOf(t[e])&&i.push(t[e])},this)},this),t._max=i.length);null!==t._slaves&&void 0!==t._slaves&&t._slaves.length>0&&t._slaves.forEach(function(e){e._min=t._min,e._max=t._max},this),t._update(),null===a&&"x"===t.position?a=t:null===o&&"y"===t.position&&(o=t)},this),this.axes.forEach(function(n){var i=!1,r=null,d=0,g=null,p=!1,m=0,v={l:null,t:null,r:null,b:null},y=0,I=0,C="",b=this,x=function(t){var n;return n=null===r||0===e||i?t:b._handleTransition(t,e,b)},A=function(){var e=t.select(this).selectAll("text");return!n.measure&&n._max>0&&("x"===n.position?e.attr("x",h/n._max/2):"y"===n.position&&e.attr("y",-1*(f/n._max)/2)),n.categoryFields&&n.categoryFields.length>0&&(n!==a||null!==o.categoryFields&&0!==o.categoryFields.length||e.attr("y",c+f-o._scale(0)+9),n!==o||null!==a.categoryFields&&0!==a.categoryFields.length||e.attr("x",-1*(a._scale(0)-u)-9)),this},w=function(e){return function(){var n=t.select(this).attr("class")||"";return-1===n.indexOf(e)&&(n+=" "+e),n.trim()}};null===n.gridlineShapes?(n.showGridlines||null===n.showGridlines&&!n._hasCategories()&&(!s&&"x"===n.position||!l&&"y"===n.position))&&(n.gridlineShapes=this._group.append("g").attr("class","dimple-gridline"),"x"===n.position?s=!0:l=!0):"x"===n.position?s=!0:l=!0,null===n.shapes&&(n.shapes=this._group.append("g").attr("class","dimple-axis dimple-axis-"+n.position).each(function(){b.noFormats||t.select(this).style("font-family",n.fontFamily).style("font-size",n._getFontSize())}),i=!0),n===a&&null!==o?(r="translate(0, "+(null===o.categoryFields||0===o.categoryFields.length?o._scale(0):c+f)+")",g="translate(0, "+(n===a?c+f:c)+")",d=-f):n===o&&null!==a?(r="translate("+(null===a.categoryFields||0===a.categoryFields.length?a._scale(0):u)+", 0)",g="translate("+(n===o?u:u+h)+", 0)",d=-h):"x"===n.position?(g=r="translate(0, "+(n===a?c+f:c)+")",d=-f):"y"===n.position&&(g=r="translate("+(n===o?u:u+h)+", 0)",d=-h),null!==r&&null!==n._draw&&(n._hasTimeField()?x(n.shapes).call(n._draw.ticks(n._getTimePeriod(),n.timeInterval).tickFormat(n._getFormat())).attr("transform",r).each(A):n.useLog?x(n.shapes).call(n._draw.ticks(4,n._getFormat())).attr("transform",r).each(A):x(n.shapes).call(n._draw.tickFormat(n._getFormat())).attr("transform",r).each(A),null!==n.gridlineShapes&&x(n.gridlineShapes).call(n._draw.tickSize(d,0,0).tickFormat("")).attr("transform",g)),x(n.shapes.selectAll("text")).attr("class",w(b.customClassList.axisLabel)).call(function(){b.noFormats||this.style("font-family",n.fontFamily).style("font-size",n._getFontSize())}),x(n.shapes.selectAll("path, line")).attr("class",w(b.customClassList.axisLine)).call(function(){b.noFormats||this.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")}),null!==n.gridlineShapes&&x(n.gridlineShapes.selectAll("line")).attr("class",w(b.customClassList.gridline)).call(function(){b.noFormats||this.style("fill","none").style("stroke","lightgray").style("opacity",.8)}),(null===n.measure||void 0===n.measure)&&(n.autoRotateLabel?n===a?(m=0,n.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();m=t>m?t:m}),m>h/n.shapes.selectAll("text")[0].length?(p=!0,n.shapes.selectAll("text").style("text-anchor","start").each(function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+e.x+","+(e.y+e.height/2)+") translate(-5, 0)")})):(p=!1,n.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):"x"===n.position&&(m=0,n.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();m=t>m?t:m}),m>h/n.shapes.selectAll("text")[0].length?(p=!0,n.shapes.selectAll("text").style("text-anchor","end").each(function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+(e.x+e.width)+","+(e.y+e.height/2)+") translate(5, 0)")})):(p=!1,n.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(p=!1,n.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),null!==n.titleShape&&void 0!==n.titleShape&&n.titleShape.remove(),n.shapes.selectAll("text").each(function(){var t=this.getBBox();(null===v.l||-9-t.width<v.l)&&(v.l=-9-t.width),(null===v.r||t.x+t.width>v.r)&&(v.r=t.x+t.width),p?((null===v.t||t.y+t.height-t.width<v.t)&&(v.t=t.y+t.height-t.width),(null===v.b||t.height+t.width>v.b)&&(v.b=t.height+t.width)):((null===v.t||t.y<v.t)&&(v.t=t.y),(null===v.b||9+t.height>v.b)&&(v.b=9+t.height))}),"x"===n.position?(I=n===a?c+f+v.b+5:c+v.t-10,y=u+h/2):"y"===n.position&&(y=n===o?u+v.l-10:u+h+v.r+20,I=c+f/2,C="rotate(270, "+y+", "+I+")"),n.hidden||"x"!==n.position&&"y"!==n.position||null===n.title||(n.titleShape=this._group.append("text").attr("class","dimple-axis dimple-title "+b.customClassList.axisTitle+" dimple-axis-"+n.position),n.titleShape.attr("x",y).attr("y",I).attr("text-anchor","middle").attr("transform",C).text(void 0!==n.title?n.title:null===n.categoryFields||void 0===n.categoryFields||0===n.categoryFields.length?n.measure:n.categoryFields.join("/")).each(function(){b.noFormats||t.select(this).style("font-family",n.fontFamily).style("font-size",n._getFontSize())}),n===a?n.titleShape.each(function(){t.select(this).attr("y",I+this.getBBox().height/1.65)}):n===o&&n.titleShape.each(function(){t.select(this).attr("x",y+this.getBBox().height/1.65)}))},this),this.series.forEach(function(t){t.plot.draw(this,t,e),this._registerEventHandlers(t)},this),this.legends.forEach(function(t){t._draw()},this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(t){return this._assignedClasses[t]||(this._assignedClasses[t]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[t]},this.getColor=function(t){return(null===this._assignedColors[t]||void 0===this._assignedColors[t])&&(this._assignedColors[t]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[t]},this.setBounds=function(t,n,i,r){return this.x=t,this.y=n,this.width=i,this.height=r,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(t,n,i,r){return this.x=t,this.y=n,this.width=0,this.height=0,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parentWidth(this.svg.node())-this._xPixels()-e._parseXPosition(i,this.svg.node())},this._heightPixels=function(){return e._parentHeight(this.svg.node())-this._yPixels()-e._parseYPosition(r,this.svg.node())},this},this.setStoryboard=function(t,n){return this.storyboard=new e.storyboard(this,t),null!==n&&void 0!==n&&(this.storyboard.onTick=n),this.storyboard}},e.color=function(e,n,i){this.fill=e,this.stroke=null===n||void 0===n?t.rgb(e).darker(.5).toString():n,this.opacity=null===i||void 0===i?.8:i},e.eventArgs=function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null},e.legend=function(n,i,r,a,o,s,l){this.chart=n,this.series=l,this.x=i,this.y=r,this.width=a,this.height=o,this.horizontalAlign=s,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var n,i=this._getEntries(),r=0,a=0,o=0,s=0,l=15,u=9,c=5,h=this;this.shapes&&this.shapes.remove(),n=this.chart._group.selectAll(".dimple-dont-select-any").data(i).enter().append("g").attr("class",function(t){return"dimple-legend "+e._createClass(t.aggField)}).attr("opacity",1),n.append("text").attr("class",function(t){return"dimple-legend dimple-legend-text "+e._createClass(t.aggField)+" "+h.chart.customClassList.legendLabel}).text(function(t){return t.key}).call(function(){h.chart.noFormats||this.style("font-family",h.fontFamily).style("font-size",h._getFontSize()).style("shape-rendering","crispEdges")}).each(function(){var t=this.getBBox();t.width>r&&(r=t.width),t.height>a&&(a=t.height)}),n.append("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)}).attr("height",u).attr("width",l),a=(u>a?u:a)+h._getVerticalPadding(),r+=l+h._getHorizontalPadding(),n.each(function(n){o+r>h._widthPixels()&&(o=0,s+=a),s>h._heightPixels()?t.select(this).remove():(t.select(this).select("text").attr("x","left"===h.horizontalAlign?h._xPixels()+l+c+o:h._xPixels()+(h._widthPixels()-o-r)+l+c).attr("y",function(){return h._yPixels()+s+this.getBBox().height/1.65}).attr("width",h._widthPixels()).attr("height",h._heightPixels()),t.select(this).select("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)+" "+h.chart.customClassList.legendKey+" "+t.css}).attr("x","left"===h.horizontalAlign?h._xPixels()+o:h._xPixels()+(h._widthPixels()-o-r)).attr("y",h._yPixels()+s).attr("height",u).attr("width",l).call(function(){h.chart.noFormats||this.style("fill",n.fill).style("stroke",n.stroke).style("opacity",n.opacity).style("shape-rendering","crispEdges")}),o+=r)}),this.shapes=n},this._getEntries=function(){var t=[];return this.series&&this.series.forEach(function(e){var n=e._positionData;n.forEach(function(n){var i,r=-1,a=e.plot.grouped&&!e.x._hasCategories()&&!e.y._hasCategories()&&n.aggField.length<2?"All":n.aggField.slice(-1)[0];for(i=0;i<t.length;i+=1)if(t[i].key===a){r=i;break}-1===r&&e.chart._assignedColors[a]&&(t.push({key:a,fill:e.chart._assignedColors[a].fill,stroke:e.chart._assignedColors[a].stroke,opacity:e.chart._assignedColors[a].opacity,css:e.chart._assignedClasses[a],series:e,aggField:n.aggField}),r=t.length-1)})},this),t},this._getFontSize=function(){var t;return t=this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getHorizontalPadding=function(){var t;return t=isNaN(this.horizontalPadding)?20:this.horizontalPadding},this._getVerticalPadding=function(){var t;return t=isNaN(this.verticalPadding)?2:this.verticalPadding},this._heightPixels=function(){return e._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.chart.svg.node())}},e.series=function(t,e,n,i,r,a,o,s,l,u){this.chart=t,this.x=n,this.y=i,this.z=r,this.c=a,this.p=o,this.plot=s,this.categoryFields=e,this.aggregate=l,this.stacked=u,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(t){var e,n,i,r={min:0,max:0},a=null,o=null,s=[],l=0,u=this._positionData;return"x"===t?(a=this.x,o=this.y):"y"===t?(a=this.y,o=this.x):"z"===t?a=this.z:"p"===t?a=this.p:"c"===t&&(a=this.c),a.showPercent?u.forEach(function(t){t[a.position+"Bound"]<r.min&&(r.min=t[a.position+"Bound"]),t[a.position+"Bound"]>r.max&&(r.max=t[a.position+"Bound"])},this):null===o||null===o.categoryFields||0===o.categoryFields.length?u.forEach(function(t){!this._isStacked()||"x"!==a.position&&"y"!==a.position?(t[a.position+"Value"]<r.min&&(r.min=t[a.position+"Value"]),t[a.position+"Value"]>r.max&&(r.max=t[a.position+"Value"])):t[a.position+"Value"]<0?r.min=r.min+t[a.position+"Value"]:r.max=r.max+t[a.position+"Value"]},this):(e=a.position+"Value",n=o.position+"Field",i=[],u.forEach(function(t){var r=t[n].join("/"),a=i.indexOf(r);-1===a&&(i.push(r),a=i.length-1),void 0===s[a]&&(s[a]={min:0,max:0},a>=l&&(l=a+1)),this.stacked?t[e]<0?s[a].min=s[a].min+t[e]:s[a].max=s[a].max+t[e]:(t[e]<s[a].min&&(s[a].min=t[e]),t[e]>s[a].max&&(s[a].max=t[e]))},this),s.forEach(function(t){void 0!==t&&(t.min<r.min&&(r.min=t.min),t.max>r.max&&(r.max=t.max))},this)),r},this._deepMatch=function(t){var e=!1;return this[t.position]===t?e=!0:void 0!==t._slaves&&null!==t._slaves&&t._slaves.length>0&&t._slaves.forEach(function(t){e=e||this._deepMatch(t)},this),e},this._dropLineOrigin=function(){var t=0,e=0,n={x:null,y:null},i={x:null,y:null};return this.chart.axes.forEach(function(t){"x"===t.position&&null===i.x?t._hasTimeField()?i.x=this.chart._xPixels():i.x=t._origin:"y"===t.position&&null===i.y&&(t._hasTimeField()?i.y=this.chart._yPixels()+this.chart._heightPixels():i.y=t._origin)},this),this.chart.axes.forEach(function(r){"x"!==r.position||this.x.hidden?"y"!==r.position||this.y.hidden||(this._deepMatch(r)&&(0===e?n.x=i.x:1===e&&(n.x=this.chart._xPixels()+this.chart._widthPixels())),e+=1):(this._deepMatch(r)&&(0===t?n.y=i.y:1===t&&(n.y=this.chart._yPixels())),t+=1)},this),n},this._getTooltipFontSize=function(){var t;return t=this.tooltipFontSize&&"auto"!==this.tooltipFontSize.toString().toLowerCase()?isNaN(this.tooltipFontSize)?this.tooltipFontSize:this.tooltipFontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(t,e){this._eventHandlers.push({event:t,handler:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getTooltipText=function(t){var e=[];return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0&&this.categoryFields.forEach(function(n,i){null!==n&&void 0!==n&&null!==t.aggField[i]&&void 0!==t.aggField[i]&&e.push(n+(t.aggField[i]!==n?": "+t.aggField[i]:""))},this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(e,t),this.y&&this.y._hasCategories()&&this.y._getTooltipText(e,t),this.z&&this.z._hasCategories()&&this.z._getTooltipText(e,t),this.p._getTooltipText(e,t)):(this.x&&this.x._getTooltipText(e,t),this.y&&this.y._getTooltipText(e,t),this.z&&this.z._getTooltipText(e,t)),this.c&&this.c._getTooltipText(e,t),e.filter(function(t,n){return e.indexOf(t)===n})}},e.storyboard=function(t,e){null!==e&&void 0!==e&&(e=[].concat(e)),this.chart=t,this.categoryFields=e,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){if(!this.storyLabel){var t=this.chart,e=this,n=0;this.chart.axes.forEach(function(t){"x"===t.position&&(n+=1)},this),this.storyLabel=this.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",this.chart._xPixels()+.01*this.chart._widthPixels()).attr("y",this.chart._yPixels()+(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)*(n>1?1.25:-1)).call(function(){t.noFormats||this.style("font-family",e.fontFamily).style("font-size",e._getFontSize())})}this.storyLabel.text(this.categoryFields.join("\\")+": "+this.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach(function(t){var e=-1,n="";null!==this.categoryFields&&(this.categoryFields.forEach(function(e,i){i>0&&(n+="/"),n+=t[e]},this),e=this._categories.indexOf(n),-1===e&&(this._categories.push(n),e=this._categories.length-1))},this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){var t;return t=this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._goToFrameIndex=function(t){this._frame=t%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getFrameValue=function(){var t=null;return this._frame>=0&&this._getCategories().length>this._frame&&(t=this._getCategories()[this._frame]),t},this.goToFrame=function(t){if(this._getCategories().length>0){var e=this._getCategories().indexOf(t);this._goToFrameIndex(e)}},this.pauseAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){null===this._animationTimer&&(null!==this.onTick&&this.onTick(this.getFrameValue()),this._animationTimer=window.setInterval(function(t){return function(){t._goToFrameIndex(t._frame+1),null!==t.onTick&&t.onTick(t.getFrameValue()),t._drawText(t.frameDuration/2)}}(this),this.frameDuration))},this.stopAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}},e.aggregateMethod.avg=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),t.count=null===t.count||void 0===t.count?1:parseFloat(t.count),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),e.count=null===e.count||void 0===e.count?1:parseFloat(e.count),(t.value*t.count+e.value*e.count)/(t.count+e.count)},e.aggregateMethod.count=function(t,e){return t.count=null===t.count||void 0===t.count?0:parseFloat(t.count),e.count=null===e.count||void 0===e.count?0:parseFloat(e.count),t.count+e.count},e.aggregateMethod.max=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value>e.value?t.value:e.value},e.aggregateMethod.min=function(t,e){return null===t.value?parseFloat(e.value):parseFloat(t.value)<parseFloat(e.value)?parseFloat(t.value):parseFloat(e.value)},e.aggregateMethod.sum=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value+e.value},e.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(n,i,r){var a,o,s,l,u,c,h,f,d,g,p,m,v,y,I,C,b,x,A,w,_,M,N,S=i._positionData,D=[],k=null,T="dimple-series-"+n.series.indexOf(i),j=i.x._hasCategories()||i.y._hasCategories()?0:1,z=!1,L={},B=[],G=[],O=function(){return function(n,i,r,a){t.select(i).style("opacity",1),e._showPointTooltip(n,i,r,a)}},Z=function(n){return function(i,r,a,o){t.select(r).style("opacity",o.lineMarkers||n.data.length<2?e._helpers.opacity(i,a,o):0),e._removeTooltip(i,r,a,o)}},E=function(t,a){e._drawMarkers(t,n,i,r,T,z,O(t),Z(t),a)},P=function(t,r){var a;return"step"===i.interpolation&&i[t]._hasCategories()?(a=e._helpers[t](r,n,i)+("y"===t?e._helpers.height(r,n,i):0),i[t].categoryFields.length<2&&(a+=("y"===t?1:-1)*e._helpers[t+"Gap"](n,i))):a=e._helpers["c"+t](r,n,i),parseFloat(a)},F=function(e,n){return t.svg.line().x(function(t){return i.x._hasCategories()||!n?t.x:i.x[n]}).y(function(t){return i.y._hasCategories()||!n?t.y:i.y[n]}).interpolate(e)},R=function(t,e){return parseFloat(t)-parseFloat(e)},W=function(t,e){return parseFloat(t.x)-parseFloat(e.x)},Y=function(t,e,n){var i,r,a=e[e.length-1],o=9999,s=a;for(i=0;i<t.length;i+=1)(t[i].x!==a.x||t[i].y!==a.y)&&(r=180-Math.atan2(t[i].x-a.x,t[i].y-a.y)*(180/Math.PI),r>n&&o>r&&(s=t[i],o=r));return e.push(s),o};for(a="step"===i.interpolation?"step-after":i.interpolation,g=e._getSeriesOrder(i.data||n.data,i),i.c&&(i.x._hasCategories()&&i.y._hasMeasure()||i.y._hasCategories()&&i.x._hasMeasure())&&(z=!0),i.x._hasCategories()?(M="x",N="y"):i.y._hasCategories()&&(M="y",N="x"),o=0;o<S.length;o+=1){for(u=[],h=-1,l=j;l<S[o].aggField.length;l+=1)u.push(S[o].aggField[l]);for(c=e._createClass(u),l=0;l<D.length;l+=1)if(D[l].keyString===c){h=l;break}-1===h&&(h=D.length,D.push({key:u,keyString:c,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:M&&S[o][M+"Field"]&&S[o][M+"Field"].length>=2?S[o][M+"Field"][0]:"All"})),D[h].data.push(S[o])}for(g&&D.sort(function(t,n){return e._arrayIndexCompare(g,t.key,n.key)}),o=0;o<D.length;o+=1){for(D[o].data.sort(e._getSeriesSortPredicate(n,i,g)),s=0;s<D[o].data.length;s+=1)D[o].points.push({x:P("x",D[o].data[s]),y:P("y",D[o].data[s])}),M&&(L[D[o].group]||(L[D[o].group]={}),L[D[o].group][D[o].points[D[o].points.length-1][M]]=i[N]._origin);p=D[o].points,"step"===i.interpolation&&p.length>1&&M&&(i.x._hasCategories()?(p.push({x:2*p[p.length-1].x-p[p.length-2].x,y:p[p.length-1].y}),L[D[o].group][p[p.length-1][M]]=i[N]._origin):i.y._hasCategories()&&(p=[{x:p[0].x,y:2*p[0].y-p[1].y}].concat(p),L[D[o].group][p[0][M]]=i[N]._origin,D[o].points=p))}for(y in L)if(L.hasOwnProperty(y)){B[y]=[];for(I in L[y])L[y].hasOwnProperty(I)&&B[y].push(parseFloat(I));B[y].sort(R)}for(o=0;o<D.length;o+=1){if(p=D[o].points,C=D[o].group,m=[],G=[],z&&e._addGradient(D[o].key,"fill-area-gradient-"+D[o].keyString,i.x._hasCategories()?i.x:i.y,S,n,r,"fill"),B[C]&&B[C].length>0)for(s=0,l=0;s<B[C].length;s+=1)B[C][s]>=p[0][M]&&B[C][s]<=p[p.length-1][M]&&(v={},v[M]=B[C][s],v[N]=L[C][B[C][s]],m.push(v),p[l][M]>B[C][s]?G.push(v):(G.push(p[l]),L[D[o].group][B[C][s]]=p[l][N],l+=1));else if(i._orderRules&&i._orderRules.length>0)G=p.concat(p[0]);else{p=p.sort(W),G.push(p[0]),_=0;do _=Y(p,G,_);while(G.length<=p.length&&(G[0].x!==G[G.length-1].x||G[0].y!==G[G.length-1].y))}m=m.reverse(),b=F(a,"_previousOrigin")(G),x=F("step-after"===a?"step-before":"step-before"===a?"step-after":a,"_previousOrigin")(m),A=F("linear","_previousOrigin")(G),w=-1===A.indexOf("L")?void 0:A.indexOf("L"),D[o].entry=b+(x&&x.length>0?"L"+x.substring(1):"")+(A&&A.length>0?"L"+A.substring(1,w):0),b=F(a)(G),x=F("step-after"===a?"step-before":"step-before"===a?"step-after":a)(m),A=F("linear")(G),w=-1===A.indexOf("L")?void 0:A.indexOf("L"),D[o].update=b+(x&&x.length>0?"L"+x.substring(1):"")+(A&&A.length>0?"L"+A.substring(1,w):0),b=F(a,"_origin")(G),x=F("step-after"===a?"step-before":"step-before"===a?"step-after":a,"_origin")(m),A=F("linear","_origin")(G),w=-1===A.indexOf("L")?void 0:A.indexOf("L"),D[o].exit=b+(x&&x.length>0?"L"+x.substring(1):"")+(A&&A.length>0?"L"+A.substring(1,w):0),D[o].color=n.getColor(D[o].key.length>0?D[o].key[D[o].key.length-1]:"All"),D[o].css=n.getClass(D[o].key.length>0?D[o].key[D[o].key.length-1]:"All")}null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),k=null===i.shapes||void 0===i.shapes?n._group.selectAll("."+T).data(D):i.shapes.data(D,function(t){return t.key}),k.enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){return T+" dimple-line "+t.keyString+" "+n.customClassList.areaSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(){n.noFormats||this.attr("opacity",function(t){return z?1:t.color.opacity}).style("fill",function(t){return z?"url(#"+e._createClass(["fill-area-gradient-"+t.keyString])+")":t.color.fill}).style("stroke",function(t){return z?"url(#"+e._createClass(["stroke-area-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",i.lineWeight)}).each(function(t){t.markerData=t.data,E(t,this)}),f=n._handleTransition(k,r,n).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,E(t,this)}),d=n._handleTransition(k.exit(),r,n).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],E(t,this)}),e._postDrawHandling(i,f,d,r),i.shapes=k}},e.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(t,n,i){var r,a,o=n._positionData,s=null,l=["dimple-series-"+t.series.indexOf(n),"dimple-bar"],u=!n._isStacked()&&n.x._hasMeasure(),c=!n._isStacked()&&n.y._hasMeasure(),h="none";n.x._hasCategories()&&n.y._hasCategories()?h="both":n.x._hasCategories()?h="x":n.y._hasCategories()&&(h="y"),null!==t._tooltipGroup&&void 0!==t._tooltipGroup&&t._tooltipGroup.remove(),s=null===n.shapes||void 0===n.shapes?t._group.selectAll("."+l.join(".")).data(o):n.shapes.data(o,function(t){return t.key}),s.enter().append("rect").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(n){var i=[];return i=i.concat(n.aggField),i=i.concat(n.xField),i=i.concat(n.yField),l.join(" ")+" "+e._createClass(i)+" "+t.customClassList.barSeries+" "+e._helpers.css(n,t)}).attr("x",function(i){var r=n.x._previousOrigin;return"x"===h?r=e._helpers.x(i,t,n):"both"===h&&(r=e._helpers.cx(i,t,n)),r}).attr("y",function(i){var r=n.y._previousOrigin;return"y"===h?r=e._helpers.y(i,t,n):"both"===h&&(r=e._helpers.cy(i,t,n)),r}).attr("width",function(i){return"x"===h?e._helpers.width(i,t,n):0}).attr("height",function(i){return"y"===h?e._helpers.height(i,t,n):0}).on("mouseover",function(i){e._showBarTooltip(i,this,t,n)}).on("mouseleave",function(i){e._removeTooltip(i,this,t,n)}).call(function(){t.noFormats||this.attr("opacity",function(i){return e._helpers.opacity(i,t,n)}).style("fill",function(i){return e._helpers.fill(i,t,n)}).style("stroke",function(i){return e._helpers.stroke(i,t,n)})}),r=t._handleTransition(s,i,t,n).attr("x",function(i){return u?e._helpers.cx(i,t,n)-n.x.floatingBarWidth/2:e._helpers.x(i,t,n)}).attr("y",function(i){return c?e._helpers.cy(i,t,n)-n.y.floatingBarWidth/2:e._helpers.y(i,t,n)}).attr("width",function(i){return u?n.x.floatingBarWidth:e._helpers.width(i,t,n)}).attr("height",function(i){return c?n.y.floatingBarWidth:e._helpers.height(i,t,n)}).call(function(){t.noFormats||this.attr("fill",function(i){return e._helpers.fill(i,t,n)}).attr("stroke",function(i){return e._helpers.stroke(i,t,n)})}),a=t._handleTransition(s.exit(),i,t,n).attr("x",function(i){var r=n.x._origin;return"x"===h?r=e._helpers.x(i,t,n):"both"===h&&(r=e._helpers.cx(i,t,n)),r}).attr("y",function(i){var r=n.y._origin;return"y"===h?r=e._helpers.y(i,t,n):"both"===h&&(r=e._helpers.cy(i,t,n)),r}).attr("width",function(i){return"x"===h?e._helpers.width(i,t,n):0}).attr("height",function(i){return"y"===h?e._helpers.height(i,t,n):0}),e._postDrawHandling(n,r,a,i),n.shapes=s}},e.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(t,n,i){var r,a,o=n._positionData,s=null,l=["dimple-series-"+t.series.indexOf(n),"dimple-bubble"];null!==t._tooltipGroup&&void 0!==t._tooltipGroup&&t._tooltipGroup.remove(),s=null===n.shapes||void 0===n.shapes?t._group.selectAll("."+l.join(".")).data(o):n.shapes.data(o,function(t){return t.key}),s.enter().append("circle").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(n){var i=[];return i=i.concat(n.aggField),i=i.concat(n.xField),i=i.concat(n.yField),i=i.concat(n.zField),l.join(" ")+" "+e._createClass(i)+" "+t.customClassList.bubbleSeries+" "+e._helpers.css(n,t)}).attr("cx",function(i){return n.x._hasCategories()?e._helpers.cx(i,t,n):n.x._previousOrigin}).attr("cy",function(i){return n.y._hasCategories()?e._helpers.cy(i,t,n):n.y._previousOrigin}).attr("r",0).on("mouseover",function(i){e._showPointTooltip(i,this,t,n)}).on("mouseleave",function(i){e._removeTooltip(i,this,t,n)}).call(function(){t.noFormats||this.attr("opacity",function(i){return e._helpers.opacity(i,t,n)}).style("fill",function(i){return e._helpers.fill(i,t,n)}).style("stroke",function(i){return e._helpers.stroke(i,t,n)})}),r=t._handleTransition(s,i,t,n).attr("cx",function(i){return e._helpers.cx(i,t,n)}).attr("cy",function(i){return e._helpers.cy(i,t,n)}).attr("r",function(i){return e._helpers.r(i,t,n)}).call(function(){t.noFormats||this.attr("fill",function(i){return e._helpers.fill(i,t,n)}).attr("stroke",function(i){return e._helpers.stroke(i,t,n)})}),a=t._handleTransition(s.exit(),i,t,n).attr("r",0).attr("cx",function(i){return n.x._hasCategories()?e._helpers.cx(i,t,n):n.x._origin}).attr("cy",function(i){return n.y._hasCategories()?e._helpers.cy(i,t,n):n.y._origin}),e._postDrawHandling(n,r,a,i),n.shapes=s}},e.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(n,i,r){var a,o,s,l,u,c,h,f,d,g,p=i._positionData,m=[],v=null,y="dimple-series-"+n.series.indexOf(i),I=i.x._hasCategories()||i.y._hasCategories()?0:1,C=!1,b=function(){return function(n,i,r,a){t.select(i).style("opacity",1),e._showPointTooltip(n,i,r,a)}},x=function(n){return function(i,r,a,o){t.select(r).style("opacity",o.lineMarkers||n.data.length<2?e._helpers.opacity(i,a,o):0),e._removeTooltip(i,r,a,o)}},A=function(t,a){e._drawMarkers(t,n,i,r,y,C,b(t),x(t),a)},w=function(t,r){var a;return"step"===i.interpolation&&i[t]._hasCategories()?(i.barGap=0,i.clusterBarGap=0,a=e._helpers[t](r,n,i)+("y"===t?e._helpers.height(r,n,i):0)):a=e._helpers["c"+t](r,n,i),parseFloat(a.toFixed(1))},_=function(e,n){return t.svg.line().x(function(t){return i.x._hasCategories()||!n?t.x:i.x[n]}).y(function(t){return i.y._hasCategories()||!n?t.y:i.y[n]}).interpolate(e)};for(a="step"===i.interpolation?"step-after":i.interpolation,g=e._getSeriesOrder(i.data||n.data,i),i.c&&(i.x._hasCategories()&&i.y._hasMeasure()||i.y._hasCategories()&&i.x._hasMeasure())&&(C=!0),o=0;o<p.length;o+=1){for(u=[],h=-1,l=I;l<p[o].aggField.length;l+=1)u.push(p[o].aggField[l]);for(c=e._createClass(u),l=0;l<m.length;l+=1)if(m[l].keyString===c){h=l;break}-1===h&&(h=m.length,m.push({
key:u,keyString:c,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),m[h].data.push(p[o])}for(g&&m.sort(function(t,n){return e._arrayIndexCompare(g,t.key,n.key)}),o=0;o<m.length;o+=1){for(m[o].data.sort(e._getSeriesSortPredicate(n,i,g)),C&&e._addGradient(m[o].key,"fill-line-gradient-"+m[o].keyString,i.x._hasCategories()?i.x:i.y,p,n,r,"fill"),s=0;s<m[o].data.length;s+=1)m[o].points.push({x:w("x",m[o].data[s]),y:w("y",m[o].data[s])});"step"===i.interpolation&&m[o].points.length>1&&(i.x._hasCategories()?m[o].points.push({x:2*m[o].points[m[o].points.length-1].x-m[o].points[m[o].points.length-2].x,y:m[o].points[m[o].points.length-1].y}):i.y._hasCategories()&&(m[o].points=[{x:m[o].points[0].x,y:2*m[o].points[0].y-m[o].points[1].y}].concat(m[o].points))),m&&m[o]&&m[o].points&&1===m[o].points.length&&m[o].points.push({x:m[o].points[0].x,y:m[o].points[0].y}),m[o].entry=_(a,"_previousOrigin")(m[o].points),m[o].update=_(a)(m[o].points),m[o].exit=_(a,"_origin")(m[o].points),m[o].color=n.getColor(m[o].key.length>0?m[o].key[m[o].key.length-1]:"All"),m[o].css=n.getClass(m[o].key.length>0?m[o].key[m[o].key.length-1]:"All")}null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),v=null===i.shapes||void 0===i.shapes?n._group.selectAll("."+y).data(m):i.shapes.data(m,function(t){return t.key}),v.enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){return y+" dimple-line "+t.keyString+" "+n.customClassList.lineSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(){n.noFormats||this.attr("opacity",function(t){return C?1:t.color.opacity}).style("fill","none").style("stroke",function(t){return C?"url(#"+e._createClass(["fill-line-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",i.lineWeight)}).each(function(t){t.markerData=t.data,A(t,this)}),f=n._handleTransition(v,r,n).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,A(t,this)}),d=n._handleTransition(v.exit(),r,n).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],A(t,this)}),e._postDrawHandling(i,f,d,r),i.shapes=v}},e.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(n,i,r){var a,o,s=i._positionData,l=null,u=["dimple-series-"+n.series.indexOf(i),"dimple-pie"],c=function(t){var r;return r=i.x&&i.y?e._helpers.r(t,n,i):n._widthPixels()<n._heightPixels()?n._widthPixels()/2:n._heightPixels()/2},h=function(t){var n=c(t);return i.outerRadius&&(n=e._parsePosition(i.outerRadius,n)),Math.max(n,0)},f=function(t){var n=0;return i.innerRadius&&(n=e._parsePosition(i.innerRadius,c(t))),Math.max(n,0)},d=function(e){var n;return(n=t.svg.arc().innerRadius(f(e)).outerRadius(h(e)))(e)},g=function(e){e.innerRadius=f(e),e.outerRadius=h(e);var n,i=t.interpolate(this._current,e);return n=t.svg.arc().innerRadius(function(t){return t.innerRadius}).outerRadius(function(t){return t.outerRadius}),this._current=i(0),function(t){return n(i(t))}},p=function(t){return function(r){var a,o;return i.x&&i.y?(a=!t||i.x._hasCategories()?e._helpers.cx(r,n,i):i.x._previousOrigin,o=!t||i.y._hasCategories()?e._helpers.cy(r,n,i):i.y._previousOrigin):(a=n._xPixels()+n._widthPixels()/2,o=n._yPixels()+n._heightPixels()/2),"translate("+a+","+o+")"}};null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),l=null===i.shapes||void 0===i.shapes?n._group.selectAll("."+u.join(".")).data(s):i.shapes.data(s,function(t){return t.key}),l.enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){var i=[];return i=i.concat(t.aggField),i=i.concat(t.pField),u.join(" ")+" "+e._createClass(i)+" "+n.customClassList.pieSeries+" "+e._helpers.css(t,n)}).attr("d",d).on("mouseover",function(t){e._showBarTooltip(t,this,n,i)}).on("mouseleave",function(t){e._removeTooltip(t,this,n,i)}).call(function(){n.noFormats||this.attr("opacity",function(t){return e._helpers.opacity(t,n,i)}).style("fill",function(t){return e._helpers.fill(t,n,i)}).style("stroke",function(t){return e._helpers.stroke(t,n,i)})}).attr("transform",p(!0)).each(function(t){this._current=t,t.innerRadius=f(t),t.outerRadius=h(t)}),a=n._handleTransition(l,r,n,i).call(function(){r&&r>0?this.attrTween("d",g):this.attr("d",d),n.noFormats||this.attr("fill",function(t){return e._helpers.fill(t,n,i)}).attr("stroke",function(t){return e._helpers.stroke(t,n,i)})}).attr("transform",p(!1)),o=n._handleTransition(l.exit(),r,n,i).attr("transform",p(!0)).attr("d",d),e._postDrawHandling(i,a,o,r),i.shapes=l}},e._addGradient=function(t,n,i,r,a,o,s){var l=[].concat(t),u=a.svg.select("#"+e._createClass([n])),c=[],h=i.position+"Field",f=!0,d=[];r.forEach(function(t){-1===c.indexOf(t[h])&&t.aggField.join("_")===l.join("_")&&c.push(t[h])},this),c=c.sort(function(t,e){return i._scale(t)-i._scale(e)}),null===u.node()&&(f=!1,u=a.svg.append("defs").append("linearGradient").attr("id",e._createClass([n])).attr("gradientUnits","userSpaceOnUse").attr("x1","x"===i.position?i._scale(c[0])+a._widthPixels()/c.length/2:0).attr("y1","y"===i.position?i._scale(c[0])-a._heightPixels()/c.length/2:0).attr("x2","x"===i.position?i._scale(c[c.length-1])+a._widthPixels()/c.length/2:0).attr("y2","y"===i.position?i._scale(c[c.length-1])-a._heightPixels()/c.length/2:0)),c.forEach(function(t,e){var n={},i=0;for(i=0;i<r.length;i+=1)if(r[i].aggField.join("_")===l.join("_")&&r[i][h].join("_")===t.join("_")){n=r[i];break}d.push({offset:Math.round(e/(c.length-1)*100)+"%",color:n[s]})},this),f?a._handleTransition(u.selectAll("stop").data(d),o,a).attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color}):u.selectAll("stop").data(d).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})},e._arrayIndexCompare=function(t,e,n){var i,r,a,o,s,l;for(r=0;r<t.length;r+=1){for(o=!0,s=!0,l=[].concat(t[r]),a=0;a<e.length;a+=1)o=o&&e[a]===l[a];for(a=0;a<n.length;a+=1)s=s&&n[a]===l[a];if(o&&s){i=0;break}if(o){i=-1;break}if(s){i=1;break}}return i},e._createClass=function(t){var e,n,i=[];if(n=function(t){var e=t.charCodeAt(0),n="-";return e>=65&&90>=e&&(n=t.toLowerCase()),n},t.length>0)for(e=0;e<t.length;e+=1)t[e]&&i.push("dimple-"+t[e].toString().replace(/[^a-z0-9]/g,n));else i=["dimple-all"];return i.join(" ")},e._drawMarkerBacks=function(n,i,r,a,o,s){var l,u,c,h=["dimple-marker-back",o,n.keyString];r.lineMarkers&&(l=null===r._markerBacks||void 0===r._markerBacks||void 0===r._markerBacks[n.keyString]?i._group.selectAll("."+h.join(".")).data(n.markerData):r._markerBacks[n.keyString].data(n.markerData,function(t){return t.key}),c=s.nextSibling&&s.nextSibling.id?l.enter().insert("circle","#"+s.nextSibling.id):l.enter().append("circle"),c.attr("id",function(t){return e._createClass([t.key+" Marker Back"])}).attr("class",function(t){var n=[];return r.x._hasCategories()&&(n=n.concat(t.xField)),r.y._hasCategories()&&(n=n.concat(t.yField)),e._createClass(n)+" "+h.join(" ")}).attr("cx",function(t){return r.x._hasCategories()?e._helpers.cx(t,i,r):r.x._previousOrigin}).attr("cy",function(t){return r.y._hasCategories()?e._helpers.cy(t,i,r):r.y._previousOrigin}).attr("r",0).attr("fill","white").attr("stroke","none"),i._handleTransition(l,a,i).attr("cx",function(t){return e._helpers.cx(t,i,r)}).attr("cy",function(t){return e._helpers.cy(t,i,r)}).attr("r",2+r.lineWeight),u=i._handleTransition(l.exit(),a,i).attr("cx",function(t){return r.x._hasCategories()?e._helpers.cx(t,i,r):r.x._origin}).attr("cy",function(t){return r.y._hasCategories()?e._helpers.cy(t,i,r):r.y._origin}).attr("r",0),0===a?u.remove():u.each("end",function(){t.select(this).remove()}),(void 0===r._markerBacks||null===r._markerBacks)&&(r._markerBacks={}),r._markerBacks[n.keyString]=l)},e._drawMarkers=function(n,i,r,a,o,s,l,u,c){var h,f,d,g=["dimple-marker",o,n.keyString];h=null===r._markers||void 0===r._markers||void 0===r._markers[n.keyString]?i._group.selectAll("."+g.join(".")).data(n.markerData):r._markers[n.keyString].data(n.markerData,function(t){return t.key}),d=c.nextSibling&&c.nextSibling.id?h.enter().insert("circle","#"+c.nextSibling.id):h.enter().append("circle"),d.attr("id",function(t){return e._createClass([t.key+" Marker"])}).attr("class",function(t){var n=[],a=i.getClass(t.aggField.length>0?t.aggField[t.aggField.length-1]:"All");return r.x._hasCategories()&&(n=n.concat(t.xField)),r.y._hasCategories()&&(n=n.concat(t.yField)),e._createClass(n)+" "+g.join(" ")+" "+i.customClassList.lineMarker+" "+a}).on("mouseover",function(t){l(t,this,i,r)}).on("mouseleave",function(t){u(t,this,i,r)}).attr("cx",function(t){return r.x._hasCategories()?e._helpers.cx(t,i,r):r.x._previousOrigin}).attr("cy",function(t){return r.y._hasCategories()?e._helpers.cy(t,i,r):r.y._previousOrigin}).attr("r",0).attr("opacity",r.lineMarkers||n.data.length<2?n.color.opacity:0).call(function(){i.noFormats||this.attr("fill","white").style("stroke-width",r.lineWeight).attr("stroke",function(t){return s?e._helpers.fill(t,i,r):n.color.stroke})}),i._handleTransition(h,a,i).attr("cx",function(t){return e._helpers.cx(t,i,r)}).attr("cy",function(t){return e._helpers.cy(t,i,r)}).attr("r",2+r.lineWeight).attr("opacity",r.lineMarkers||n.data.length<2?n.color.opacity:0).call(function(){i.noFormats||this.attr("fill","white").style("stroke-width",r.lineWeight).attr("stroke",function(t){return s?e._helpers.fill(t,i,r):n.color.stroke})}),f=i._handleTransition(h.exit(),a,i).attr("cx",function(t){return r.x._hasCategories()?e._helpers.cx(t,i,r):r.x._origin}).attr("cy",function(t){return r.y._hasCategories()?e._helpers.cy(t,i,r):r.y._origin}).attr("r",0),0===a?f.remove():f.each("end",function(){t.select(this).remove()}),(void 0===r._markers||null===r._markers)&&(r._markers={}),r._markers[n.keyString]=h,e._drawMarkerBacks(n,i,r,a,o,c)},e._getOrderedList=function(t,n,i){var r,a=[],o=[],s=[].concat(n),l=[].concat(n),u=[];return null!==i&&void 0!==i&&(u=u.concat(i)),u=u.concat({ordering:s,desc:!1}),u.forEach(function(e){var n,i=[],r=[];if("function"==typeof e.ordering){if(t&&t.length>0)for(n in t[0])t[0].hasOwnProperty(n)&&-1===l.indexOf(n)&&l.push(n)}else if(e.ordering instanceof Array){for(n=0;n<e.ordering.length;n+=1)t&&t.length>0&&t[0].hasOwnProperty(e.ordering[n])&&r.push(e.ordering[n]),i.push(e.ordering[n]);r.length>i.length/2?l.concat(r):e.values=i}else l.push(e.ordering)},this),r=e._rollUp(t,s,l),u.length>=1&&(u.forEach(function(t){var e=null===t.desc||void 0===t.desc?!1:t.desc,n=t.ordering,i=[],r=function(t){var e,n=0;for(e=0;e<t.length;e+=1){if(isNaN(t[e])){n=void 0;break}n+=parseFloat(t[e])}return n},o=function(t,e){var n=0,i=r(t),a=r(e);return isNaN(i)||isNaN(a)?isNaN(Date.parse(t[0]))||isNaN(Date.parse(e[0]))?t[0]<e[0]?n=-1:t[0]>e[0]&&(n=1):n=Date.parse(t[0])-Date.parse(e[0]):n=parseFloat(i)-parseFloat(a),n};"function"==typeof n?a.push(function(t,i){return(e?-1:1)*n(t,i)}):t.values&&t.values.length>0?(t.values.forEach(function(t){i.push([].concat(t).join("|"))},this),a.push(function(t,n){var r,a,o,l="",u="";for(o=0;o<s.length;o+=1)o>0&&(l+="|",u+="|"),l+=t[s[o]],u+=n[s[o]];return r=i.indexOf(l),a=i.indexOf(u),r=0>r?e?-1:i.length:r,a=0>a?e?-1:i.length:a,(e?-1:1)*(r-a)})):[].concat(t.ordering).forEach(function(t){a.push(function(n,i){var r=0;return void 0!==n[t]&&void 0!==i[t]&&(r=o([].concat(n[t]),[].concat(i[t]))),(e?-1:1)*r})})}),r.sort(function(t,e){for(var n=0,i=0;n<a.length&&0===i;)i=a[n](t,e),n+=1;return i}),r.forEach(function(t){var e,n=[];if(1===s.length)o.push(t[s[0]]);else{for(e=0;e<s.length;e+=1)n.push(t[s[e]]);o.push(n)}},this)),o},e._getSeriesOrder=function(t,n){var i=[].concat(n._orderRules),r=n.categoryFields,a=[];return null!==r&&void 0!==r&&r.length>0&&(null!==n.c&&void 0!==n.c&&n.c._hasMeasure()&&i.push({ordering:n.c.measure,desc:!0}),n.x._hasMeasure()&&i.push({ordering:n.x.measure,desc:!0}),n.y._hasMeasure()&&i.push({ordering:n.y.measure,desc:!0}),a=e._getOrderedList(t,r,i)),a},e._getSeriesSortPredicate=function(t,n,i){return function(r,a){var o=0;return n.x._hasCategories()&&(o=e._helpers.cx(r,t,n)-e._helpers.cx(a,t,n)),0===o&&n.y._hasCategories()&&(o=e._helpers.cy(r,t,n)-e._helpers.cy(a,t,n)),0===o&&i&&(o=e._arrayIndexCompare(i,r.aggField,a.aggField)),o}},e._helpers={cx:function(t,n,i){var r=0;return r=null!==i.x.measure&&void 0!==i.x.measure?i.x._scale(t.cx):i.x._hasCategories()&&i.x.categoryFields.length>=2?i.x._scale(t.cx)+e._helpers.xGap(n,i)+(t.xOffset+.5)*((n._widthPixels()/i.x._max-2*e._helpers.xGap(n,i))*t.width):i.x._scale(t.cx)+n._widthPixels()/i.x._max/2},cy:function(t,n,i){var r=0;return r=null!==i.y.measure&&void 0!==i.y.measure?i.y._scale(t.cy):null!==i.y.categoryFields&&void 0!==i.y.categoryFields&&i.y.categoryFields.length>=2?i.y._scale(t.cy)-n._heightPixels()/i.y._max+e._helpers.yGap(n,i)+(t.yOffset+.5)*((n._heightPixels()/i.y._max-2*e._helpers.yGap(n,i))*t.height):i.y._scale(t.cy)-n._heightPixels()/i.y._max/2},r:function(t,e,n){var i=0,r=1;return null===n.z||void 0===n.z?i=n.radius&&"auto"!==n.radius?n.radius:5:(n.radius&&"auto"!==n.radius&&n.radius>1&&(r=n.radius/n.z._scale(n.z._max)),i=n.z._hasMeasure()?n.z._scale(t.r)*r:n.z._scale(e._heightPixels()/100)*r),i},xGap:function(t,e){var n=0;return(null===e.x.measure||void 0===e.x.measure)&&e.barGap>0&&(n=t._widthPixels()/e.x._max*(e.barGap>.99?.99:e.barGap)/2),n},xClusterGap:function(t,n,i){var r=0;return null!==i.x.categoryFields&&void 0!==i.x.categoryFields&&i.x.categoryFields.length>=2&&i.clusterBarGap>0&&!i.x._hasMeasure()&&(r=t.width*(n._widthPixels()/i.x._max-2*e._helpers.xGap(n,i))*(i.clusterBarGap>.99?.99:i.clusterBarGap)/2),r},yGap:function(t,e){var n=0;return(null===e.y.measure||void 0===e.y.measure)&&e.barGap>0&&(n=t._heightPixels()/e.y._max*(e.barGap>.99?.99:e.barGap)/2),n},yClusterGap:function(t,n,i){var r=0;return null!==i.y.categoryFields&&void 0!==i.y.categoryFields&&i.y.categoryFields.length>=2&&i.clusterBarGap>0&&!i.y._hasMeasure()&&(r=t.height*(n._heightPixels()/i.y._max-2*e._helpers.yGap(n,i))*(i.clusterBarGap>.99?.99:i.clusterBarGap)/2),r},x:function(t,n,i){var r=0;return r=i.x._hasTimeField()?i.x._scale(t.x)-e._helpers.width(t,n,i)/2:null!==i.x.measure&&void 0!==i.x.measure?i.x._scale(t.x):i.x._scale(t.x)+e._helpers.xGap(n,i)+t.xOffset*(e._helpers.width(t,n,i)+2*e._helpers.xClusterGap(t,n,i))+e._helpers.xClusterGap(t,n,i)},y:function(t,n,i){var r=0;return r=i.y._hasTimeField()?i.y._scale(t.y)-e._helpers.height(t,n,i)/2:null!==i.y.measure&&void 0!==i.y.measure?i.y._scale(t.y):i.y._scale(t.y)-n._heightPixels()/i.y._max+e._helpers.yGap(n,i)+t.yOffset*(e._helpers.height(t,n,i)+2*e._helpers.yClusterGap(t,n,i))+e._helpers.yClusterGap(t,n,i)},width:function(t,n,i){var r=0;return r=null!==i.x.measure&&void 0!==i.x.measure?Math.abs(i.x._scale(t.x<0?t.x-t.width:t.x+t.width)-i.x._scale(t.x)):i.x._hasTimeField()?i.x.floatingBarWidth:t.width*(n._widthPixels()/i.x._max-2*e._helpers.xGap(n,i))-2*e._helpers.xClusterGap(t,n,i)},height:function(t,n,i){var r=0;return r=i.y._hasTimeField()?i.y.floatingBarWidth:null!==i.y.measure&&void 0!==i.y.measure?Math.abs(i.y._scale(t.y)-i.y._scale(t.y<=0?t.y+t.height:t.y-t.height)):t.height*(n._heightPixels()/i.y._max-2*e._helpers.yGap(n,i))-2*e._helpers.yClusterGap(t,n,i)},opacity:function(t,e,n){var i=0;return i=null!==n.c&&void 0!==n.c?t.opacity:e.getColor(t.aggField.slice(-1)[0]).opacity},fill:function(t,e,n){var i=0;return i=null!==n.c&&void 0!==n.c?t.fill:e.getColor(t.aggField.slice(-1)[0]).fill},stroke:function(t,e,n){var i=0;return i=null!==n.c&&void 0!==n.c?t.stroke:e.getColor(t.aggField.slice(-1)[0]).stroke},css:function(t,e){return e.getClass(t.aggField.slice(-1)[0])}},e._parentHeight=function(t){var n=t.offsetHeight;return(0>=n||null===n||void 0===n)&&(n=t.clientHeight),(0>=n||null===n||void 0===n)&&(n=null===t.parentNode||void 0===t.parentNode?0:e._parentHeight(t.parentNode)),n},e._parentWidth=function(t){var n=t.offsetWidth;return(!n||0>n)&&(n=t.clientWidth),(!n||0>n)&&(n=t.parentNode?e._parentWidth(t.parentNode):0),n},e._parsePosition=function(t,e){var n,i=0;return t&&(n=t.toString().split(","),n.forEach(function(n){n&&(isNaN(n)?"%"===n.slice(-1)?i+=e*(parseFloat(n.slice(0,n.length-1))/100):"px"===n.slice(-2)?i+=parseFloat(n.slice(0,n.length-2)):i=t:i+=parseFloat(n))},this)),0>i&&(i=e+i),i},e._parseXPosition=function(t,n){return e._parsePosition(t,e._parentWidth(n))},e._parseYPosition=function(t,n){return e._parsePosition(t,e._parentHeight(n))},e._postDrawHandling=function(e,n,i,r){0===r?(n.each(function(t,n){null!==e.afterDraw&&void 0!==e.afterDraw&&e.afterDraw(this,t,n)}),i.remove()):(n.each("end",function(t,n){null!==e.afterDraw&&void 0!==e.afterDraw&&e.afterDraw(this,t,n)}),i.each("end",function(){t.select(this).remove()}))},e._removeTooltip=function(t,e,n,i){n._tooltipGroup&&n._tooltipGroup.remove()},e._rollUp=function(t,e,n){var i=[];return e=null!==e&&void 0!==e?[].concat(e):[],t.forEach(function(t){var r=-1,a={},o=!0;i.forEach(function(n,i){-1===r&&(o=!0,e.forEach(function(e){o=o&&t[e]===n[e]},this),o&&(r=i))},this),-1!==r?a=i[r]:(e.forEach(function(e){a[e]=t[e]},this),i.push(a),r=i.length-1),n.forEach(function(n){-1===e.indexOf(n)&&(void 0===a[n]&&(a[n]=[]),a[n]=a[n].concat(t[n]))},this),i[r]=a},this),i},e._showBarTooltip=function(e,n,i,r){var a,o,s,l,u,c,h=5,f=10,d=750,g=t.select(n),p=g.node().getBBox().x,m=g.node().getBBox().y,v=g.node().getBBox().width,y=g.node().getBBox().height,I=g.attr("opacity"),C=g.attr("fill"),b=r._dropLineOrigin(),x=t.rgb(t.rgb(C).r+.6*(255-t.rgb(C).r),t.rgb(C).g+.6*(255-t.rgb(C).g),t.rgb(C).b+.6*(255-t.rgb(C).b)),A=t.rgb(t.rgb(C).r+.8*(255-t.rgb(C).r),t.rgb(C).g+.8*(255-t.rgb(C).g),t.rgb(C).b+.8*(255-t.rgb(C).b)),w=r.getTooltipText(e),_=0,M=0,N=0,S=function(t,e){var n=g.node().getCTM(),r=i.svg.node().createSVGPoint();return r.x=t||0,r.y=e||0,r.matrixTransform(n)};null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),i._tooltipGroup=i.svg.append("g"),r.p||(c=r._isStacked()?1:v/2,r.x._hasCategories()||null===b.y||i._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+i.customClassList.tooltipDropLine).attr("x1",p<r.x._origin?p+c:p+v-c).attr("y1",m<b.y?m+y:m).attr("x2",p<r.x._origin?p+c:p+v-c).attr("y2",m<b.y?m+y:m).call(function(){i.noFormats||this.style("fill","none").style("stroke",C).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",I)}).transition().delay(d/2).duration(d/2).ease("linear").attr("y2",m<b.y?b.y-1:b.y+1),c=r._isStacked()?1:y/2,r.y._hasCategories()||null===b.x||i._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+i.customClassList.tooltipDropLine).attr("x1",p<b.x?p+v:p).attr("y1",m<r.y._origin?m+c:m+y-c).attr("x2",p<b.x?p+v:p).attr("y2",m<r.y._origin?m+c:m+y-c).call(function(){i.noFormats||this.style("fill","none").style("stroke",C).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",I)}).transition().delay(d/2).duration(d/2).ease("linear").attr("x2",p<b.x?b.x-1:b.x+1)),a=i._tooltipGroup.append("g"),o=a.append("rect").attr("class","dimple-tooltip "+i.customClassList.tooltipBox),a.selectAll(".dimple-dont-select-any").data(w).enter().append("text").attr("class","dimple-tooltip "+i.customClassList.tooltipLabel).text(function(t){return t}).call(function(){i.noFormats||this.style("font-family",r.tooltipFontFamily).style("font-size",r._getTooltipFontSize())}),a.each(function(){M=this.getBBox().width>M?this.getBBox().width:M,N=this.getBBox().width>N?this.getBBox().height:N}),a.selectAll("text").attr("x",0).attr("y",function(){return _+=this.getBBox().height,_-this.getBBox().height/2}),o.attr("x",-h).attr("y",-h).attr("height",Math.floor(_+h)-.5).attr("width",M+2*h).attr("rx",5).attr("ry",5).call(function(){i.noFormats||this.style("fill",A).style("stroke",x).style("stroke-width",2).style("opacity",.95)}),S(p+v+h+f+M).x<parseFloat(i.svg.node().getBBox().width)?(s=p+v+h+f,l=m+y/2-(_-(N-h))/2):S(p-(h+f+M)).x>0?(s=p-(h+f+M),l=m+y/2-(_-(N-h))/2):S(0,m+y+_+f+h).y<parseFloat(i.svg.node().getBBox().height)?(s=p+v/2-(2*h+M)/2,s=s>0?s:f,s=s+M<parseFloat(i.svg.node().getBBox().width)?s:parseFloat(i.svg.node().getBBox().width)-M-f,l=m+y+2*h):(s=p+v/2-(2*h+M)/2,s=s>0?s:f,s=s+M<parseFloat(i.svg.node().getBBox().width)?s:parseFloat(i.svg.node().getBBox().width)-M-f,l=m-_-(N-h)),u=S(s,l),a.attr("transform","translate("+u.x+" , "+u.y+")")},e._showPointTooltip=function(n,i,r,a){var o,s,l,u,c=5,h=10,f=750,d=t.select(i),g=parseFloat(d.attr("cx")),p=parseFloat(d.attr("cy")),m=parseFloat(d.attr("r")),v=e._helpers.opacity(n,r,a),y=d.attr("stroke"),I=a._dropLineOrigin(),C=t.rgb(t.rgb(y).r+.6*(255-t.rgb(y).r),t.rgb(y).g+.6*(255-t.rgb(y).g),t.rgb(y).b+.6*(255-t.rgb(y).b)),b=t.rgb(t.rgb(y).r+.8*(255-t.rgb(y).r),t.rgb(y).g+.8*(255-t.rgb(y).g),t.rgb(y).b+.8*(255-t.rgb(y).b)),x=0,A=0,w=0,_=a.getTooltipText(n);null!==r._tooltipGroup&&void 0!==r._tooltipGroup&&r._tooltipGroup.remove(),r._tooltipGroup=r.svg.append("g"),r._tooltipGroup.append("circle").attr("class","dimple-line-marker-circle "+r.customClassList.lineMarkerCircle).attr("cx",g).attr("cy",p).attr("r",m).call(function(){r.noFormats||this.attr("opacity",0).style("fill","none").style("stroke",y).style("stroke-width",1)}).transition().duration(f/2).ease("linear").attr("r",m+a.lineWeight+2).call(function(){r.noFormats||this.attr("opacity",1).style("stroke-width",2)}),null!==I.y&&r._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+r.customClassList.tooltipDropLine).attr("x1",g).attr("y1",p<I.y?p+m+a.lineWeight+2:p-m-a.lineWeight-2).attr("x2",g).attr("y2",p<I.y?p+m+a.lineWeight+2:p-m-a.lineWeight-2).call(function(){r.noFormats||this.style("fill","none").style("stroke",y).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",v)}).transition().delay(f/2).duration(f/2).ease("linear").attr("y2",p<I.y?I.y-1:I.y+1),null!==I.x&&r._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+r.customClassList.tooltipDropLine).attr("x1",g<I.x?g+m+a.lineWeight+2:g-m-a.lineWeight-2).attr("y1",p).attr("x2",g<I.x?g+m+a.lineWeight+2:g-m-a.lineWeight-2).attr("y2",p).call(function(){r.noFormats||this.style("fill","none").style("stroke",y).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",v)}).transition().delay(f/2).duration(f/2).ease("linear").attr("x2",g<I.x?I.x-1:I.x+1),o=r._tooltipGroup.append("g"),s=o.append("rect").attr("class","dimple-tooltip "+r.customClassList.tooltipBox),o.selectAll(".dont-select-any").data(_).enter().append("text").attr("class","dimple-tooltip "+r.customClassList.tooltipLabel).text(function(t){return t}).call(function(){r.noFormats||this.style("font-family",a.tooltipFontFamily).style("font-size",a._getTooltipFontSize())}),o.each(function(){A=this.getBBox().width>A?this.getBBox().width:A,w=this.getBBox().width>w?this.getBBox().height:w}),o.selectAll("text").attr("x",0).attr("y",function(){return x+=this.getBBox().height,x-this.getBBox().height/2}),s.attr("x",-c).attr("y",-c).attr("height",Math.floor(x+c)-.5).attr("width",A+2*c).attr("rx",5).attr("ry",5).call(function(){r.noFormats||this.style("fill",b).style("stroke",C).style("stroke-width",2).style("opacity",.95)}),g+m+c+h+A<parseFloat(r.svg.node().getBBox().width)?(l=g+m+c+h,u=p-(x-(w-c))/2):g-m-(c+h+A)>0?(l=g-m-(c+h+A),u=p-(x-(w-c))/2):p+m+x+h+c<parseFloat(r.svg.node().getBBox().height)?(l=g-(2*c+A)/2,l=l>0?l:h,l=l+A<parseFloat(r.svg.node().getBBox().width)?l:parseFloat(r.svg.node().getBBox().width)-A-h,u=p+m+2*c):(l=g-(2*c+A)/2,l=l>0?l:h,l=l+A<parseFloat(r.svg.node().getBBox().width)?l:parseFloat(r.svg.node().getBBox().width)-A-h,u=p-x-(w-c)),o.attr("transform","translate("+l+" , "+u+")")},e.filterData=function(t,e,n){var i=t;return null!==e&&null!==n&&(null!==n&&void 0!==n&&(n=[].concat(n)),i=[],t.forEach(function(t){null===t[e]?i.push(t):n.indexOf([].concat(t[e]).join("/"))>-1&&i.push(t)},this)),i},e.getUniqueValues=function(t,e){var n=[];return null!==e&&void 0!==e&&(e=[].concat(e),t.forEach(function(t){var i="";e.forEach(function(e,n){n>0&&(i+="/"),i+=t[e]},this),-1===n.indexOf(i)&&n.push(i)},this)),n},e.newSvg=function(e,n,i){var r=null;if((null===e||void 0===e)&&(e="body"),r=t.select(e),r.empty())throw"The '"+e+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return r.append("svg").attr("width",n).attr("height",i)},e}),function(){function t(t){return[0,t.length-1]}function e(t){return[d3.quantile(t,.25),d3.quantile(t,.5),d3.quantile(t,.75)]}d3.box=function(){function n(t){t.each(function(t,e){var n=t[1].sort(d3.ascending),s=d3.select(this),f=n.length,d=n[0],g=n[f-1],p=n.quartiles=u(n),m=l&&l.call(this,n,e),v=m&&m.map(function(t){return n[t]}),y=m?d3.range(0,m[0]).concat(d3.range(m[1]+1,f)):d3.range(f),I=d3.scale.linear().domain(o&&o.call(this,n,e)||[d,g]).range([r,0]),C=this.__chart__||d3.scale.linear().domain([0,1/0]).range(I.range());this.__chart__=I;var b=s.selectAll("line.center").data(v?[v]:[]);b.enter().insert("line","rect").attr("class","center").attr("x1",i/2).attr("y1",function(t){return C(t[0])}).attr("x2",i/2).attr("y2",function(t){return C(t[1])}).style("opacity",1e-6).transition().duration(a).style("opacity",1).attr("y1",function(t){return I(t[0])}).attr("y2",function(t){return I(t[1])}),b.transition().duration(a).style("opacity",1).attr("y1",function(t){return I(t[0])}).attr("y2",function(t){return I(t[1])}),b.exit().transition().duration(a).style("opacity",1e-6).attr("y1",function(t){return I(t[0])}).attr("y2",function(t){return I(t[1])}).remove();var x=s.selectAll("rect.box").data([p]);x.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(t){return C(t[2])}).attr("width",i).attr("height",function(t){return C(t[0])-C(t[2])}).transition().duration(a).attr("y",function(t){return I(t[2])}).attr("height",function(t){return I(t[0])-I(t[2])}),x.transition().duration(a).attr("y",function(t){return I(t[2])}).attr("height",function(t){return I(t[0])-I(t[2])});var A=s.selectAll("line.median").data([p[1]]);A.enter().append("line").attr("class","median").attr("x1",0).attr("y1",C).attr("x2",i).attr("y2",C).transition().duration(a).attr("y1",I).attr("y2",I),A.transition().duration(a).attr("y1",I).attr("y2",I);var w=s.selectAll("line.whisker").data(v||[]);w.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",C).attr("x2",0+i).attr("y2",C).style("opacity",1e-6).transition().duration(a).attr("y1",I).attr("y2",I).style("opacity",1),w.transition().duration(a).attr("y1",I).attr("y2",I).style("opacity",1),w.exit().transition().duration(a).attr("y1",I).attr("y2",I).style("opacity",1e-6).remove();var _=s.selectAll("circle.outlier").data(y,Number);_.enter().insert("circle","text").attr("class","outlier").attr("r",4).attr("cx",i/2).attr("cy",function(t){return C(n[t])}).style("opacity",1e-6).transition().duration(a).attr("cy",function(t){return I(n[t])}).style("opacity",1),_.transition().duration(a).attr("cy",function(t){return I(n[t])}).style("opacity",1),_.exit().transition().duration(a).attr("cy",function(t){return I(n[t])}).style("opacity",1e-6).remove();var M=h||I.tickFormat(8),N=s.selectAll("text.box").data(p);1==c&&N.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(t,e){return 1&e?6:-6}).attr("x",function(t,e){return 1&e?+i:0}).attr("y",C).attr("text-anchor",function(t,e){return 1&e?"start":"end"}).text(M).transition().duration(a).attr("y",I),N.transition().duration(a).text(M).attr("y",I);var S=s.selectAll("text.whisker").data(v||[]);1==c&&S.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",i).attr("y",C).text(M).style("opacity",1e-6).transition().duration(a).attr("y",I).style("opacity",1),S.transition().duration(a).text(M).attr("y",I).style("opacity",1),S.exit().transition().duration(a).attr("y",I).style("opacity",1e-6).remove()}),d3.timer.flush()}var i=1,r=1,a=0,o=null,s=Number,l=t,u=e,c=!0,h=null;return n.width=function(t){return arguments.length?(i=t,n):i},n.height=function(t){return arguments.length?(r=t,n):r},n.tickFormat=function(t){return arguments.length?(h=t,n):h},n.duration=function(t){return arguments.length?(a=t,n):a},n.domain=function(t){return arguments.length?(o=null==t?t:d3.functor(t),n):o},n.value=function(t){return arguments.length?(s=t,n):s},n.whiskers=function(t){return arguments.length?(l=t,n):l},n.showLabels=function(t){return arguments.length?(c=t,n):c},n.quartiles=function(t){return arguments.length?(u=t,n):u},n}}(),/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var a,o,s=this,l=arguments;return a=function(){i=null,n||(r=t.apply(s,l))},o=n&&!i,clearTimeout(i),i=setTimeout(a,e),o&&(r=t.apply(s,l)),r}},throttle:function(t,e){var n,i,r,a,o,s;return o=0,s=function(){o=new Date,r=null,a=t.apply(n,i)},function(){var l=new Date,u=e-(l-o);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,o=l,a=t.apply(n,i)):r||(r=setTimeout(s,u)),a}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),a=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||s,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function a(e){return t.parseJSON(e)}function o(t){var e,n,i=[],r=s.length;for(e=0;r>e;e++)(n=s.key(e)).match(t)&&i.push(n.replace(t,""));return i}var s;try{s=window.localStorage,s.setItem("~~~","!"),s.removeItem("~~~")}catch(l){s=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),a(this.ls.getItem(this._prefix(t)))},set:function(t,n,a){return e.isNumber(a)?this._safeSet(this._ttlKey(t),r(i()+a)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=o(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=a(this.ls.getItem(this._ttlKey(t)));return e.isNumber(n)&&i()>n?!0:!1}}),n}(),o=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new r(0):s}var i=0,a={},o=6,s=new r(10);return n.setMaxPendingRequests=function(t){o=t},n.resetCache=function(){s.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),c._cache.set(l,t)}function r(){e(!0)}function s(){i--,delete a[l],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var l,u,c=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((u=a[l])?u.done(n).fail(r):o>i?(i++,a[l]=this._send(t).done(n).fail(r).always(s)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,a;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},a=this._fingerprint(n),this.cancelled=!1,this.lastReq=a,(r=this._cache.get(a))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),s=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[l]=[],t[s]={},t}function a(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function o(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var a=t.length,o=e.length;a>n&&o>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(r.push(t[n]),n++,i++);return r}var s="c",l="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var a,o;n.datums[a=n.identify(t)]=t,o=i(n.datumTokenizer(t)),e.each(o,function(t){var e,i,o;for(e=n.trie,i=t.split("");o=i.shift();)e=e[s][o]||(e[s][o]=r()),e[l].push(a)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,r,u=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,a;if(r&&0===r.length)return!1;for(e=u.trie,n=t.split("");e&&(i=n.shift());)e=e[s][i];return e&&0===n.length?(a=e[l].slice(0),void(r=r?o(r,a):a)):(r=[],!1)}),r?e.map(a(r),function(t){return u.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new a(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,r.transform(e))}var i,r=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),u=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new o({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:r.transform(n))}var i,r=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),c=function(){"use strict";function i(i){var r;return i?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(r,i),!i.url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?s(i.transport):t.ajax,i):null}function r(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(i,n),!n.url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=a(n),n.limiter=o(n),n.transport=n.transport?s(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function a(t){function e(t,e){return e.url=a(e.url,t),e}function n(t,e){return e.url=e.url.replace(o,encodeURIComponent(t)),e}function i(t,e){return e}var r,a,o;return r=t.prepare,a=t.replace,o=t.wildcard,r?r:r=a?e:t.wildcard?n:i}function o(t){function n(t){return function(n){return e.debounce(n,t)}}function i(t){return function(n){return e.throttle(n,t)}}var r,a,o;return r=t.limiter,a=t.rateLimitBy,o=t.rateLimitWait,r||(r=/^throttle$/i.test(a)?i(o):n(o)),r}function s(n){return function(i){function r(t){e.defer(function(){o.resolve(t)})}function a(t){e.defer(function(){o.reject(t)})}var o=t.Deferred();return n(i,r,a),o}}return function(n){var a,o;return a={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=e.mixin(a,n||{}),!n.datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),o=n.sorter,n.sorter=o?function(t){return t.sort(o)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=r(n.remote),n}}(),h=function(){"use strict";function n(t){t=c(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new u(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new s({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var r;return r=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=r),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,i){return n.search(t,e,i)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?n.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void n.resolve())}var n,i,r=this;return n=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){function r(t){var n=[];e.each(t,function(t){!e.some(a,function(e){return o.identify(t)===o.identify(e)})&&n.push(t)}),i&&i(n)}var a,o=this;return a=this.sorter(this.index.search(t)),n(this.remote?a.slice():a),this.remote&&a.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return o.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return h}),/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var a,o,s=this,l=arguments;return a=function(){i=null,n||(r=t.apply(s,l))},o=n&&!i,clearTimeout(i),i=setTimeout(a,e),o&&(r=t.apply(s,l)),r}},throttle:function(t,e){var n,i,r,a,o,s;return o=0,s=function(){o=new Date,r=null,a=t.apply(n,i)},function(){var l=new Date,u=e-(l-o);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,o=l,a=t.apply(n,i)):r||(r=setTimeout(s,u)),a}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var o,s;return s=e.mixin({},a,t),o={css:r(),classes:s,html:n(s),selectors:i(s)},{css:o.css,html:o.html,classes:o.classes,selectors:o.selectors,mixin:function(t){e.mixin(t,o)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var a={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e,n;return e=[].slice.call(arguments,1),n=this._trigger("before"+t,e),n.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(l),n=i?s(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,o;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=a(n.sync,this,[e].concat(i)),o=a(n.async,this,[e].concat(i)),r()&&u(o);return this}function a(t,e,n){function i(){for(var i,r=0,a=t.length;!i&&a>r;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function o(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function s(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,u=o();return{onSync:n,onAsync:e,off:i,trigger:r}}(),a=function(t){"use strict";function n(t,n,i){for(var r,a=[],o=0,s=t.length;s>o;o++)a.push(e.escapeRegExChars(t[o]));return r=i?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function a(e){var n,i,a;return(n=s.exec(e.data))&&(a=t.createElement(r.tagName),r.className&&(a.className=r.className),i=e.splitText(n.index),i.splitText(n[0].length),a.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(a,i)),!!n}function o(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:o(n,e)}var s;r=e.mixin({},i,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],s=n(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,a))}}(window.document),o=function(){"use strict";function n(n,r){n=n||{},n.input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function a(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;n=a(t,this.query),i=n?this.query.length!==t.length:!1,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,a=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||e.defer(e.bind(a._onInput,a,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),s=function(){"use strict";function n(n,r){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!s(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||u(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=o(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function o(n,i){function r(e){return t("<div>").text(i(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||r}}function s(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,u;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},u=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;n=this._getSuggestionsFragment(t,e),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,o=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,a;a=o._injectQuery(n,e),i=t(o.templates.suggestion(a)).data(l.obj,e).data(l.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),r.appendChild(i[0])}),this.highlight&&a({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){o||(o=!0,t=(t||[]).slice(0,r.limit),s=t.length,r._overwrite(e,t),s<r.limit&&r.async&&r.trigger("asyncRequested",e))}function i(n){n=n||[],!a&&s<r.limit&&(r.cancel=t.noop,s+=n.length,r._append(e,n.slice(0,r.limit-s)),r.async&&r.trigger("asyncReceived",e))}var r=this,a=!1,o=!1,s=0;this.cancel(),this.cancel=function(){a=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,n,i),!o&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){function r(e){var n=a.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(a.$node),new s(e,i)}var a=this;n=n||{},n.node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,r)}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,r=-1>r?e.length-1:r,-1===r?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?s.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function n(e){e.update(t)}var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,n)),i},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,n)}}),n}(),u=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),c=function(){"use strict";function n(n,r){var a,o,s,l,u,c,h,f,d,g,p;n=n||{},n.input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),a=i(this,"activate","open","_onFocused"),o=i(this,"deactivate","_onBlurred"),s=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),u=i(this,"isActive","_onEscKeyed"),c=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),f=i(this,"isActive","isOpen","_onLeftKeyed"),d=i(this,"isActive","isOpen","_onRightKeyed"),g=i(this,"_openIfActive","_onQueryChanged"),p=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",a,this).onSync("blurred",o,this).onSync("enterKeyed",s,this).onSync("tabKeyed",l,this).onSync("escKeyed",u,this).onSync("upKeyed",c,this).onSync("downKeyed",h,this).onSync("leftKeyed",f,this).onSync("rightKeyed",d,this).onSync("queryChanged",g,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,a,o;r=document.activeElement,a=i.is(r),o=i.has(r).length>0,e.isMsie()&&(a||o)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,n,i,r,a,s,l;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=o.normalizeQuery(i),a=e.escapeRegExChars(r),s=new RegExp("^(?:"+a+")(.+$)","i"),l=s.exec(n.val),l&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(t){var e,n,i;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),i=n&&e!==n.val,i&&!this.eventBus.before("autocomplete",n.obj)?(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0):!1},moveCursor:function(t){var e,n,i,r,a;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,a=this._minLengthMet()&&this.menu.update(e),a||this.eventBus.before("cursorchange",r)?!1:(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(p.typeahead))&&n(e,i)})}function a(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function s(t,e){t.data(p.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function f(t){var n,i;n=t.data(p.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(p.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(p.typeahead).removeData(p.www).removeData(p.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function d(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),r=i?t(n).first():[],r.length?r:null}var g,p,m;g=t.fn.typeahead,p={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,h){function f(){var n,f,m,v,y,I,C,b,x,A,w;e.each(h,function(t){t.highlight=!!r.highlight}),n=t(this),f=t(g.html.wrapper),m=d(r.hint),v=d(r.menu),y=r.hint!==!1&&!m,I=r.menu!==!1&&!v,y&&(m=a(n,g)),I&&(v=t(g.html.menu).css(g.css.menu)),m&&m.val(""),n=s(n,g),(y||I)&&(f.css(g.css.wrapper),n.css(y?g.css.input:g.css.inputWithNoHint),n.wrap(f).parent().prepend(y?m:null).append(I?v:null)),w=I?u:l,C=new i({el:n}),b=new o({hint:m,input:n},g),x=new w({node:v,datasets:h},g),A=new c({input:b,menu:x,eventBus:C,minLength:r.minLength},g),n.data(p.www,g),n.data(p.typeahead,A)}var g;return h=e.isArray(h)?h:[].slice.call(arguments,1),r=r||{},g=n(r.classNames),this.each(f)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){f(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=g,this}}()}),/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
!function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var a,o,s=this,l=arguments;return a=function(){i=null,n||(r=t.apply(s,l))},o=n&&!i,clearTimeout(i),i=setTimeout(a,e),o&&(r=t.apply(s,l)),r}},throttle:function(t,e){var n,i,r,a,o,s;return o=0,s=function(){o=new Date,r=null,a=t.apply(n,i)},function(){var l=new Date,u=e-(l-o);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,o=l,a=t.apply(n,i)):r||(r=setTimeout(s,u)),a}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),a=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||s,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function a(e){return t.parseJSON(e)}function o(t){var e,n,i=[],r=s.length;for(e=0;r>e;e++)(n=s.key(e)).match(t)&&i.push(n.replace(t,""));return i}var s;try{s=window.localStorage,s.setItem("~~~","!"),s.removeItem("~~~")}catch(l){s=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),a(this.ls.getItem(this._prefix(t)))},set:function(t,n,a){return e.isNumber(a)?this._safeSet(this._ttlKey(t),r(i()+a)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=o(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=a(this.ls.getItem(this._ttlKey(t)));return e.isNumber(n)&&i()>n?!0:!1}}),n}(),o=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new r(0):s}var i=0,a={},o=6,s=new r(10);return n.setMaxPendingRequests=function(t){o=t},n.resetCache=function(){s.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),c._cache.set(l,t)}function r(){e(!0)}function s(){i--,delete a[l],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var l,u,c=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((u=a[l])?u.done(n).fail(r):o>i?(i++,a[l]=this._send(t).done(n).fail(r).always(s)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,a;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},a=this._fingerprint(n),this.cancelled=!1,this.lastReq=a,(r=this._cache.get(a))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),s=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[l]=[],t[s]={},t}function a(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function o(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var a=t.length,o=e.length;a>n&&o>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(r.push(t[n]),n++,i++);return r}var s="c",l="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var a,o;n.datums[a=n.identify(t)]=t,o=i(n.datumTokenizer(t)),e.each(o,function(t){var e,i,o;for(e=n.trie,i=t.split("");o=i.shift();)e=e[s][o]||(e[s][o]=r()),e[l].push(a)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,r,u=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,a;if(r&&0===r.length)return!1;for(e=u.trie,n=t.split("");e&&(i=n.shift());)e=e[s][i];return e&&0===n.length?(a=e[l].slice(0),void(r=r?o(r,a):a)):(r=[],!1)}),r?e.map(a(r),function(t){return u.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new a(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,r.transform(e))}var i,r=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),u=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new o({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:r.transform(n))}var i,r=this;return e?(t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,n)):void 0},cancelLastRequest:function(){this.transport.cancel()}}),t}(),c=function(){"use strict";function i(i){var r;return i?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(r,i),!i.url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?s(i.transport):t.ajax,i):null}function r(n){var i;return n?(i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(i,n),!n.url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=a(n),n.limiter=o(n),n.transport=n.transport?s(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n):void 0}function a(t){function e(t,e){return e.url=a(e.url,t),e}function n(t,e){return e.url=e.url.replace(o,encodeURIComponent(t)),e}function i(t,e){return e}var r,a,o;return r=t.prepare,a=t.replace,o=t.wildcard,r?r:r=a?e:t.wildcard?n:i}function o(t){function n(t){return function(n){return e.debounce(n,t)}}function i(t){return function(n){return e.throttle(n,t)}}var r,a,o;return r=t.limiter,a=t.rateLimitBy,o=t.rateLimitWait,r||(r=/^throttle$/i.test(a)?i(o):n(o)),r}function s(n){return function(i){function r(t){e.defer(function(){o.resolve(t)})}function a(t){e.defer(function(){o.reject(t)})}var o=t.Deferred();return n(i,r,a),o}}return function(n){var a,o;return a={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=e.mixin(a,n||{}),!n.datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),o=n.sorter,n.sorter=o?function(t){return t.sort(o)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=r(n.remote),n}}(),h=function(){"use strict";function n(t){t=c(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new u(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new s({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var r;return r=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=r),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,i){return n.search(t,e,i)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?n.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void n.resolve())}var n,i,r=this;return n=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){function r(t){var n=[];e.each(t,function(t){!e.some(a,function(e){return o.identify(t)===o.identify(e)})&&n.push(t)}),i&&i(n)}var a,o=this;return a=this.sorter(this.index.search(t)),n(this.remote?a.slice():a),this.remote&&a.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return o.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return h}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var a,o,s=this,l=arguments;return a=function(){i=null,n||(r=t.apply(s,l))},o=n&&!i,clearTimeout(i),i=setTimeout(a,e),o&&(r=t.apply(s,l)),r}},throttle:function(t,e){var n,i,r,a,o,s;return o=0,s=function(){o=new Date,r=null,a=t.apply(n,i)},function(){var l=new Date,u=e-(l-o);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,o=l,a=t.apply(n,i)):r||(r=setTimeout(s,u)),a}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var o,s;return s=e.mixin({},a,t),o={css:r(),classes:s,html:n(s),selectors:i(s)},{css:o.css,html:o.html,classes:o.classes,selectors:o.selectors,mixin:function(t){e.mixin(t,o)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var a={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e,n;return e=[].slice.call(arguments,1),n=this._trigger("before"+t,e),n.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(l),n=i?s(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,o;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=a(n.sync,this,[e].concat(i)),o=a(n.async,this,[e].concat(i)),r()&&u(o);return this}function a(t,e,n){function i(){for(var i,r=0,a=t.length;!i&&a>r;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function o(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function s(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,u=o();return{onSync:n,onAsync:e,off:i,trigger:r}}(),a=function(t){"use strict";function n(t,n,i){for(var r,a=[],o=0,s=t.length;s>o;o++)a.push(e.escapeRegExChars(t[o]));return r=i?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function a(e){var n,i,a;return(n=s.exec(e.data))&&(a=t.createElement(r.tagName),r.className&&(a.className=r.className),i=e.splitText(n.index),i.splitText(n[0].length),a.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(a,i)),!!n}function o(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:o(n,e)}var s;r=e.mixin({},i,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],s=n(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,a))}}(window.document),o=function(){"use strict";function n(n,r){n=n||{},n.input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function a(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;n=a(t,this.query),i=n?this.query.length!==t.length:!1,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,a=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||e.defer(e.bind(a._onInput,a,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),s=function(){"use strict";function n(n,r){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!s(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||u(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=o(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function o(n,i){function r(e){return t("<div>").text(i(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||r}}function s(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,u;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},u=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;n=this._getSuggestionsFragment(t,e),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,o=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,a;a=o._injectQuery(n,e),i=t(o.templates.suggestion(a)).data(l.obj,e).data(l.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),r.appendChild(i[0])}),this.highlight&&a({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){o||(o=!0,t=(t||[]).slice(0,r.limit),s=t.length,r._overwrite(e,t),s<r.limit&&r.async&&r.trigger("asyncRequested",e))}function i(n){n=n||[],!a&&s<r.limit&&(r.cancel=t.noop,s+=n.length,r._append(e,n.slice(0,r.limit-s)),r.async&&r.trigger("asyncReceived",e))}var r=this,a=!1,o=!1,s=0;this.cancel(),this.cancel=function(){a=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,n,i),!o&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){function r(e){var n=a.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(a.$node),new s(e,i)}var a=this;n=n||{},n.node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,r)}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,r=-1>r?e.length-1:r,-1===r?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?s.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function n(e){e.update(t)}var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,n)),i},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,n)}}),n}(),u=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),c=function(){"use strict";function n(n,r){var a,o,s,l,u,c,h,f,d,g,p;n=n||{},n.input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),a=i(this,"activate","open","_onFocused"),o=i(this,"deactivate","_onBlurred"),s=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),u=i(this,"isActive","_onEscKeyed"),c=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),f=i(this,"isActive","isOpen","_onLeftKeyed"),d=i(this,"isActive","isOpen","_onRightKeyed"),g=i(this,"_openIfActive","_onQueryChanged"),p=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",a,this).onSync("blurred",o,this).onSync("enterKeyed",s,this).onSync("tabKeyed",l,this).onSync("escKeyed",u,this).onSync("upKeyed",c,this).onSync("downKeyed",h,this).onSync("leftKeyed",f,this).onSync("rightKeyed",d,this).onSync("queryChanged",g,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,a,o;r=document.activeElement,a=i.is(r),o=i.has(r).length>0,e.isMsie()&&(a||o)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery());
},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,n,i,r,a,s,l;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=o.normalizeQuery(i),a=e.escapeRegExChars(r),s=new RegExp("^(?:"+a+")(.+$)","i"),l=s.exec(n.val),l&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(t){var e,n,i;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),i=n&&e!==n.val,i&&!this.eventBus.before("autocomplete",n.obj)?(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0):!1},moveCursor:function(t){var e,n,i,r,a;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,a=this._minLengthMet()&&this.menu.update(e),a||this.eventBus.before("cursorchange",r)?!1:(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(p.typeahead))&&n(e,i)})}function a(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function s(t,e){t.data(p.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function f(t){var n,i;n=t.data(p.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(p.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(p.typeahead).removeData(p.www).removeData(p.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function d(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),r=i?t(n).first():[],r.length?r:null}var g,p,m;g=t.fn.typeahead,p={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,h){function f(){var n,f,m,v,y,I,C,b,x,A,w;e.each(h,function(t){t.highlight=!!r.highlight}),n=t(this),f=t(g.html.wrapper),m=d(r.hint),v=d(r.menu),y=r.hint!==!1&&!m,I=r.menu!==!1&&!v,y&&(m=a(n,g)),I&&(v=t(g.html.menu).css(g.css.menu)),m&&m.val(""),n=s(n,g),(y||I)&&(f.css(g.css.wrapper),n.css(y?g.css.input:g.css.inputWithNoHint),n.wrap(f).parent().prepend(y?m:null).append(I?v:null)),w=I?u:l,C=new i({el:n}),b=new o({hint:m,input:n},g),x=new w({node:v,datasets:h},g),A=new c({input:b,menu:x,eventBus:C,minLength:r.minLength},g),n.data(p.www,g),n.data(p.typeahead,A)}var g;return h=e.isArray(h)?h:[].slice.call(arguments,1),r=r||{},g=n(r.classNames),this.each(f)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){f(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=g,this}}()}),function(){}.call(this);